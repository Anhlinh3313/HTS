{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\angular\\\\hts_reactnative\\\\src\\\\app\\\\screens\\\\details\\\\TabManagement\\\\StaffManagement\\\\Reports\\\\WeeklyPartTimeSchedule.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { colors } from \"../../../../../utils/Colors\";\nimport { Table, Row } from \"react-native-table-component\";\nimport ModalSendEmail from \"../../../../../components/ModalSendEmail\";\nimport SendSuccess from \"../../../../../components/modalNotification/SendSuccess\";\nimport SendFail from \"../../../../../components/modalNotification/SendFail\";\nimport { ReportStaffService, MailStaffService } from \"../../../../../netWorking/staffService\";\nimport Loading from \"../../../../../components/dialogs/Loading\";\nimport { useSelector } from \"react-redux\";\nvar dataTable = {\n  tableHead: [\"FULL NAME\", \"CONTACT\", \"MONDAY\", \"TUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\", \"SATURDAY\", \"SUNDAY\"]\n};\nvar widthArr = [120, 120, 150, 150, 150, 150, 150, 150, 150];\n\nvar WeeklyPartTimeSchedule = function WeeklyPartTimeSchedule() {\n  var reports = useSelector(function (state) {\n    return state.reports;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalSendMail = _useState2[0],\n      setModalSendMail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sent = _useState4[0],\n      setSent = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      listStaff = _useState8[0],\n      setListStaff = _useState8[1];\n\n  var handleSendMail = function handleSendMail(description, email) {\n    var res;\n    return _regeneratorRuntime.async(function handleSendMail$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setModalSendMail(!modalSendMail);\n            setIsLoading(true);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(MailStaffService.sendMailStaffPartTime(description, email, reports.fromDate, reports.endDate));\n\n          case 4:\n            res = _context.sent;\n            setIsLoading(false);\n\n            if (res.isSuccess == 1 && res.data) {\n              setSent(\"success\");\n            } else {\n              setIsLoading(false);\n              setSent(\"fail\");\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadStaffInfo = function loadStaffInfo() {\n    var res, WEEKDAYS, staffs;\n    return _regeneratorRuntime.async(function loadStaffInfo$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setIsLoading(true);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(ReportStaffService.GetWeeklyPartTimeSchedule(reports.fromDate, reports.endDate));\n\n          case 3:\n            res = _context2.sent;\n\n            if (res.isSuccess == 1 && res.data) {\n              WEEKDAYS = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\n              staffs = [];\n              res.data.map(function (staff) {\n                var dataDay = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n                staff.dateFree.map(function (item) {\n                  var index = WEEKDAYS.indexOf(item.rank);\n\n                  if (item.staffFreeTimeByManagementAgreeInfo[0].timeStart !== null) {\n                    dataDay[index] = item.staffFreeTimeByManagementAgreeInfo[0].timeStart + \" To \" + item.staffFreeTimeByManagementAgreeInfo[item.staffFreeTimeByManagementAgreeInfo.length - 1].timeEnd;\n                  } else {\n                    dataDay[index] = 'NO AVAILABILITY';\n                  }\n                });\n                staffs.push([staff.staffName, staff.staffPhone].concat(dataDay));\n              });\n              setListStaff(staffs);\n            }\n\n            setIsLoading(false);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    loadStaffInfo();\n  }, [reports.fromDate, reports.endDate]);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingHorizontal: 15,\n      marginBottom: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.titleHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitleHeader, {\n      textAlign: \"center\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"WEEKLY PART - TIME SCHEDULE\"))), React.createElement(ScrollView, {\n    horizontal: true,\n    style: {\n      borderRadius: 4\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      backgroundColor: \"#414141\",\n      borderRadius: 4\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, React.createElement(Table, {\n    style: {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, React.createElement(Row, {\n    data: dataTable.tableHead,\n    style: {\n      borderTopLeftRadius: 4,\n      borderTopRightRadius: 4,\n      height: 36,\n      backgroundColor: \"#878787\",\n      paddingLeft: 10\n    },\n    widthArr: widthArr,\n    textStyle: styles.textTitleHeader400,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), listStaff.map(function (item, index) {\n    return React.createElement(Row, {\n      key: index,\n      data: item,\n      style: [styles.styleRowTable, index % 2 === 0 && {\n        backgroundColor: \"#8D7550\"\n      }, {\n        paddingLeft: 10\n      }],\n      widthArr: widthArr,\n      textStyle: [styles.textTitleHeader400, {\n        backgroundColor: \"#ff0\",\n        alignSelf: \"flex-start\"\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    });\n  })))), React.createElement(View, {\n    style: {\n      padding: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setModalSendMail(!modalSendMail);\n    },\n    style: {\n      width: 130,\n      alignSelf: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, React.createElement(LinearGradient, {\n    style: styles.buttonSend,\n    colors: [\"#DAB451\", \"#988050\"],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.textButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"Confirm\")))), React.createElement(ModalSendEmail, {\n    title: \"Weekly Part - time Schedule\",\n    visible: modalSendMail,\n    onRequestClose: function onRequestClose() {\n      setModalSendMail(!modalSendMail);\n    },\n    onRequestSend: function onRequestSend(description, email) {\n      handleSendMail(description, email);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), React.createElement(SendSuccess, {\n    visible: sent === \"success\",\n    onRequestClose: function onRequestClose() {\n      return setSent(\"\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }), React.createElement(SendFail, {\n    visible: sent === \"fail\",\n    onRequestClose: function onRequestClose() {\n      return setSent(\"\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }), isLoading && React.createElement(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }));\n};\n\nexport default WeeklyPartTimeSchedule;\nvar styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: 15\n  },\n  row_between: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  center: {\n    paddingVertical: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  titleHeader: {\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.colorLine\n  },\n  textTitleHeader: {\n    color: colors.colorText,\n    fontWeight: \"500\",\n    fontSize: 14\n  },\n  textGray: {\n    color: colors.gray,\n    fontWeight: \"400\",\n    fontSize: 14\n  },\n  radius_top: {\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4\n  },\n  textTitleHeader400: {\n    color: colors.colorText,\n    fontWeight: \"400\",\n    fontSize: 14\n  },\n  textButton: {\n    fontSize: 16,\n    color: colors.colorText\n  },\n  buttonSend: {\n    height: 36,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 4\n  },\n  viewTitleFromTo: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 5,\n    backgroundColor: \"#878787\",\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4\n  },\n  viewFromTo: {\n    flexDirection: \"row\",\n    paddingHorizontal: 16,\n    justifyContent: \"space-between\",\n    paddingVertical: 10,\n    backgroundColor: \"#3C3B3B\"\n  },\n  staff: {\n    backgroundColor: colors.grayLight,\n    borderRadius: 4,\n    padding: 10,\n    marginBottom: 12\n  },\n  styleRowTable: {\n    height: 36\n  }\n});","map":{"version":3,"sources":["D:/angular/hts_reactnative/src/app/screens/details/TabManagement/StaffManagement/Reports/WeeklyPartTimeSchedule.tsx"],"names":["React","useState","useEffect","LinearGradient","colors","Table","Row","ModalSendEmail","SendSuccess","SendFail","ReportStaffService","MailStaffService","Loading","useSelector","dataTable","tableHead","widthArr","WeeklyPartTimeSchedule","reports","state","modalSendMail","setModalSendMail","sent","setSent","isLoading","setIsLoading","listStaff","setListStaff","handleSendMail","description","email","sendMailStaffPartTime","fromDate","endDate","res","isSuccess","data","loadStaffInfo","GetWeeklyPartTimeSchedule","WEEKDAYS","staffs","map","staff","dataDay","dateFree","item","index","indexOf","rank","staffFreeTimeByManagementAgreeInfo","timeStart","length","timeEnd","push","staffName","staffPhone","concat","styles","container","paddingHorizontal","marginBottom","titleHeader","textTitleHeader","textAlign","borderRadius","backgroundColor","borderTopLeftRadius","borderTopRightRadius","height","paddingLeft","textTitleHeader400","styleRowTable","alignSelf","padding","width","buttonSend","textButton","StyleSheet","create","row_between","flexDirection","justifyContent","alignItems","center","paddingVertical","borderBottomWidth","borderBottomColor","colorLine","color","colorText","fontWeight","fontSize","textGray","gray","radius_top","viewTitleFromTo","viewFromTo","grayLight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, Text, View, TouchableOpacity, ScrollView } from \"react-native\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nimport { Icons, Images } from \"../../../../../assets\";\r\nimport { colors } from \"../../../../../utils/Colors\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport ItemServiceTeam from \"./items/itemServiceTeam\";\r\nimport { Table, Row } from \"react-native-table-component\";\r\nimport ModalSendEmail from \"../../../../../components/ModalSendEmail\";\r\nimport ItemPartTimeAvailability from \"./items/itemPartTimeAvailability\";\r\nimport SendSuccess from \"../../../../../components/modalNotification/SendSuccess\";\r\nimport SendFail from \"../../../../../components/modalNotification/SendFail\";\r\nimport { dataTeam } from \"../../../../../components/management/contants\";\r\nimport { StaffService, ReportStaffService, MailStaffService } from \"../../../../../netWorking/staffService\";\r\nimport Loading from \"../../../../../components/dialogs/Loading\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"../../../../../redux/reducers\";\r\n\r\nconst dataTable = {\r\n  tableHead: [\"FULL NAME\", \"CONTACT\", \"MONDAY\", \"TUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\", \"SATURDAY\", \"SUNDAY\"],\r\n};\r\n\r\nconst widthArr = [120, 120, 150, 150, 150, 150, 150, 150, 150];\r\nconst WeeklyPartTimeSchedule = () => {\r\n  const reports = useSelector((state: RootState) => state.reports);\r\n  const [modalSendMail, setModalSendMail] = useState(false);\r\n  const [sent, setSent] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [listStaff, setListStaff] = useState([]);\r\n\r\n  const handleSendMail = async (description: string, email: string) => {\r\n    setModalSendMail(!modalSendMail);\r\n    setIsLoading(true);\r\n    const res = await MailStaffService.sendMailStaffPartTime(description, email, reports.fromDate, reports.endDate);\r\n    setIsLoading(false);\r\n    if (res.isSuccess == 1 && res.data) {\r\n      setSent(\"success\");\r\n    } else {\r\n      setIsLoading(false);\r\n      setSent(\"fail\");\r\n    }\r\n  };\r\n  const loadStaffInfo = async () => {\r\n    setIsLoading(true);\r\n    const res = await ReportStaffService.GetWeeklyPartTimeSchedule(reports.fromDate, reports.endDate);\r\n    if (res.isSuccess == 1 && res.data) {\r\n      var WEEKDAYS = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\r\n      let staffs = [];\r\n      res.data.map(staff => {\r\n        let dataDay = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\r\n        staff.dateFree.map(item => {\r\n          let index = WEEKDAYS.indexOf(item.rank);\r\n          if (item.staffFreeTimeByManagementAgreeInfo[0].timeStart !== null) {\r\n            dataDay[index] = `${item.staffFreeTimeByManagementAgreeInfo[0].timeStart} To ${\r\n              item.staffFreeTimeByManagementAgreeInfo[item.staffFreeTimeByManagementAgreeInfo.length - 1].timeEnd\r\n            }`;\r\n          }else{\r\n            dataDay[index]='NO AVAILABILITY'\r\n          }\r\n        });\r\n        staffs.push([staff.staffName, staff.staffPhone].concat(dataDay));\r\n      });\r\n\r\n      setListStaff(staffs);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    loadStaffInfo();\r\n  }, [reports.fromDate, reports.endDate]);\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={{ paddingHorizontal: 15, marginBottom: 10 }}>\r\n        <View style={styles.titleHeader}>\r\n          <Text style={[styles.textTitleHeader, { textAlign: \"center\" }]}>WEEKLY PART - TIME SCHEDULE</Text>\r\n        </View>\r\n      </View>\r\n\r\n      <ScrollView horizontal style={{ borderRadius: 4 }}>\r\n        <View style={{ backgroundColor: \"#414141\", borderRadius: 4 }}>\r\n          <Table style={{}}>\r\n            <Row\r\n              data={dataTable.tableHead}\r\n              style={{\r\n                borderTopLeftRadius: 4,\r\n                borderTopRightRadius: 4,\r\n                height: 36,\r\n                backgroundColor: \"#878787\",\r\n                paddingLeft: 10,\r\n              }}\r\n              widthArr={widthArr}\r\n              textStyle={styles.textTitleHeader400}\r\n            />\r\n            {listStaff.map((item, index) => {\r\n              return (\r\n                <Row\r\n                  key={index}\r\n                  data={item}\r\n                  style={[styles.styleRowTable, index % 2 === 0 && { backgroundColor: \"#8D7550\" }, { paddingLeft: 10 }]}\r\n                  widthArr={widthArr}\r\n                  textStyle={[styles.textTitleHeader400, { backgroundColor: \"#ff0\", alignSelf: \"flex-start\" }]}\r\n                />\r\n              );\r\n            })}\r\n          </Table>\r\n        </View>\r\n      </ScrollView>\r\n      <View style={{ padding: 30 }}>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            setModalSendMail(!modalSendMail);\r\n          }}\r\n          style={{ width: 130, alignSelf: \"center\" }}\r\n        >\r\n          <LinearGradient style={styles.buttonSend} colors={[\"#DAB451\", \"#988050\"]}>\r\n            <Text style={styles.textButton}>Confirm</Text>\r\n          </LinearGradient>\r\n        </TouchableOpacity>\r\n      </View>\r\n      <ModalSendEmail\r\n        title={\"Weekly Part - time Schedule\"}\r\n        visible={modalSendMail}\r\n        onRequestClose={() => {\r\n          setModalSendMail(!modalSendMail);\r\n        }}\r\n        onRequestSend={(description, email) => {\r\n          handleSendMail(description, email);\r\n        }}\r\n      ></ModalSendEmail>\r\n      <SendSuccess visible={sent === \"success\"} onRequestClose={() => setSent(\"\")}></SendSuccess>\r\n      <SendFail visible={sent === \"fail\"} onRequestClose={() => setSent(\"\")}></SendFail>\r\n      {isLoading && <Loading />}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default WeeklyPartTimeSchedule;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    paddingHorizontal: 15,\r\n  },\r\n  row_between: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  },\r\n  center: {\r\n    paddingVertical: 10,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  titleHeader: {\r\n    paddingVertical: 16,\r\n    paddingHorizontal: 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: colors.colorLine,\r\n  },\r\n  textTitleHeader: {\r\n    color: colors.colorText,\r\n    fontWeight: \"500\",\r\n    fontSize: 14,\r\n  },\r\n  textGray: {\r\n    color: colors.gray,\r\n    fontWeight: \"400\",\r\n    fontSize: 14,\r\n  },\r\n  radius_top: {\r\n    borderTopLeftRadius: 4,\r\n    borderTopRightRadius: 4,\r\n  },\r\n  textTitleHeader400: {\r\n    color: colors.colorText,\r\n    fontWeight: \"400\",\r\n    fontSize: 14,\r\n  },\r\n  textButton: {\r\n    fontSize: 16,\r\n    color: colors.colorText,\r\n  },\r\n  buttonSend: {\r\n    height: 36,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 4,\r\n  },\r\n\r\n  viewTitleFromTo: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingVertical: 5,\r\n    backgroundColor: \"#878787\",\r\n    borderTopLeftRadius: 4,\r\n    borderTopRightRadius: 4,\r\n  },\r\n  viewFromTo: {\r\n    flexDirection: \"row\",\r\n    paddingHorizontal: 16,\r\n    justifyContent: \"space-between\",\r\n    paddingVertical: 10,\r\n    backgroundColor: \"#3C3B3B\",\r\n  },\r\n  staff: {\r\n    backgroundColor: colors.grayLight,\r\n    borderRadius: 4,\r\n    padding: 10,\r\n    marginBottom: 12,\r\n  },\r\n\r\n  styleRowTable: {\r\n    height: 36,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}