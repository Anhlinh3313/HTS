{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\angular\\\\hts_reactnative\\\\node_modules\\\\react-native-modal-dropdown\\\\components\\\\ModalDropdown.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport TouchableNativeFeedback from \"react-native-web/dist/exports/TouchableNativeFeedback\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport PropTypes from 'prop-types';\nvar TOUCHABLE_ELEMENTS = ['TouchableHighlight', 'TouchableOpacity', 'TouchableWithoutFeedback', 'TouchableNativeFeedback'];\n\nvar ModalDropdown = function (_Component) {\n  _inherits(ModalDropdown, _Component);\n\n  var _super = _createSuper(ModalDropdown);\n\n  function ModalDropdown(props) {\n    var _this;\n\n    _classCallCheck(this, ModalDropdown);\n\n    _this = _super.call(this, props);\n\n    _this._onButtonPress = function () {\n      var onDropdownWillShow = _this.props.onDropdownWillShow;\n\n      if (!onDropdownWillShow || onDropdownWillShow() !== false) {\n        _this.show();\n      }\n    };\n\n    _this._onRequestClose = function () {\n      var onDropdownWillHide = _this.props.onDropdownWillHide;\n\n      if (!onDropdownWillHide || onDropdownWillHide() !== false) {\n        _this.hide();\n      }\n    };\n\n    _this._onModalPress = function () {\n      var onDropdownWillHide = _this.props.onDropdownWillHide;\n\n      if (!onDropdownWillHide || onDropdownWillHide() !== false) {\n        _this.hide();\n      }\n    };\n\n    _this._renderLoading = function () {\n      return React.createElement(ActivityIndicator, {\n        size: \"small\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this._renderItem = function (_ref) {\n      var item = _ref.item,\n          index = _ref.index,\n          separators = _ref.separators;\n      var _this$props = _this.props,\n          renderRow = _this$props.renderRow,\n          renderRowComponent = _this$props.renderRowComponent,\n          renderRowProps = _this$props.renderRowProps,\n          dropdownTextStyle = _this$props.dropdownTextStyle,\n          dropdownTextHighlightStyle = _this$props.dropdownTextHighlightStyle,\n          accessible = _this$props.accessible,\n          dropdownTextProps = _this$props.dropdownTextProps,\n          renderRowText = _this$props.renderRowText;\n      var RowTouchable = renderRowComponent;\n      var selectedIndex = _this.state.selectedIndex;\n      var key = \"row_\" + index;\n      var highlighted = index === selectedIndex;\n      var value = renderRowText && renderRowText(item) || item.toString();\n      var row = !renderRow ? React.createElement(Text, _extends({\n        style: [styles.rowText, dropdownTextStyle, highlighted && styles.highlightedRowText, highlighted && dropdownTextHighlightStyle],\n        testID: item\n      }, dropdownTextProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 7\n        }\n      }), value) : renderRow(item, index, highlighted);\n\n      var touchableProps = _objectSpread({\n        key: key,\n        accessible: accessible,\n        onPress: function onPress() {\n          return _this._onRowPress(item, index, separators);\n        }\n      }, renderRowProps);\n\n      return React.createElement(RowTouchable, _extends({}, touchableProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 12\n        }\n      }), row);\n    };\n\n    _this._renderSeparator = function (_ref2) {\n      var _ref2$leadingItem = _ref2.leadingItem,\n          leadingItem = _ref2$leadingItem === void 0 ? '' : _ref2$leadingItem;\n      var key = \"spr_\" + leadingItem;\n      return React.createElement(View, {\n        style: styles.separator,\n        key: key,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this._button = null;\n    _this._buttonFrame = null;\n    _this.state = {\n      accessible: !!props.accessible,\n      loading: !props.options,\n      showDropdown: false,\n      buttonText: props.defaultValue,\n      selectedIndex: props.defaultIndex\n    };\n    return _this;\n  }\n\n  _createClass(ModalDropdown, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, _extends({}, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 7\n        }\n      }), this._renderButton(), this._renderModal());\n    }\n  }, {\n    key: \"_updatePosition\",\n    value: function _updatePosition(callback) {\n      var _this2 = this;\n\n      if (this._button && this._button.measure) {\n        this._button.measure(function (fx, fy, width, height, px, py) {\n          _this2._buttonFrame = {\n            x: px,\n            y: py,\n            w: width,\n            h: height\n          };\n          callback && callback();\n        });\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this3 = this;\n\n      this._updatePosition(function () {\n        _this3.setState({\n          showDropdown: true\n        });\n      });\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.setState({\n        showDropdown: false\n      });\n    }\n  }, {\n    key: \"select\",\n    value: function select(idx) {\n      var _this$props2 = this.props,\n          defaultValue = _this$props2.defaultValue,\n          options = _this$props2.options,\n          defaultIndex = _this$props2.defaultIndex,\n          renderButtonText = _this$props2.renderButtonText;\n      var value = defaultValue;\n\n      if (idx == null || !options || idx >= options.length) {\n        idx = defaultIndex;\n      }\n\n      if (idx >= 0) {\n        value = renderButtonText ? renderButtonText(options[idx]) : options[idx].toString();\n      }\n\n      this.setState({\n        buttonText: value,\n        selectedIndex: idx\n      });\n    }\n  }, {\n    key: \"_renderButton\",\n    value: function _renderButton() {\n      var _this4 = this;\n\n      var _this$props3 = this.props,\n          disabled = _this$props3.disabled,\n          accessible = _this$props3.accessible,\n          children = _this$props3.children,\n          textStyle = _this$props3.textStyle,\n          defaultTextStyle = _this$props3.defaultTextStyle,\n          renderButtonComponent = _this$props3.renderButtonComponent,\n          renderButtonProps = _this$props3.renderButtonProps,\n          renderRightComponent = _this$props3.renderRightComponent,\n          numberOfLines = _this$props3.numberOfLines;\n      var ButtonTouchable = renderButtonComponent;\n      var RightComponent = renderRightComponent;\n      var _this$state = this.state,\n          buttonText = _this$state.buttonText,\n          selectedIndex = _this$state.selectedIndex;\n      var buttonTextStyle = selectedIndex < 0 ? [textStyle, defaultTextStyle] : textStyle;\n      return React.createElement(ButtonTouchable, _extends({\n        ref: function ref(button) {\n          return _this4._button = button;\n        },\n        disabled: disabled,\n        accessible: accessible,\n        onPress: this._onButtonPress\n      }, renderButtonProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 7\n        }\n      }), children || React.createElement(View, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: [styles.buttonText, buttonTextStyle],\n        numberOfLines: numberOfLines,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }\n      }, buttonText), React.createElement(RightComponent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }\n      })));\n    }\n  }, {\n    key: \"_renderModal\",\n    value: function _renderModal() {\n      var _this$props4 = this.props,\n          animated = _this$props4.animated,\n          accessible = _this$props4.accessible,\n          dropdownStyle = _this$props4.dropdownStyle;\n      var _this$state2 = this.state,\n          showDropdown = _this$state2.showDropdown,\n          loading = _this$state2.loading;\n\n      if (showDropdown && this._buttonFrame) {\n        var frameStyle = this._calcPosition();\n\n        var animationType = animated ? 'fade' : 'none';\n        return React.createElement(Modal, {\n          animationType: animationType,\n          visible: true,\n          transparent: true,\n          onRequestClose: this._onRequestClose,\n          supportedOrientations: ['portrait', 'portrait-upside-down', 'landscape', 'landscape-left', 'landscape-right'],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 9\n          }\n        }, React.createElement(TouchableWithoutFeedback, {\n          accessible: accessible,\n          disabled: !showDropdown,\n          onPress: this._onModalPress,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: styles.modal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }\n        }, React.createElement(View, {\n          style: [styles.dropdown, dropdownStyle, frameStyle],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }\n        }, loading ? this._renderLoading() : this._renderDropdown()))));\n      }\n    }\n  }, {\n    key: \"_calcPosition\",\n    value: function _calcPosition() {\n      var _this$props5 = this.props,\n          dropdownStyle = _this$props5.dropdownStyle,\n          style = _this$props5.style,\n          adjustFrame = _this$props5.adjustFrame,\n          isFullWidth = _this$props5.isFullWidth;\n      var dimensions = Dimensions.get('window');\n      var windowWidth = dimensions.width;\n      var windowHeight = dimensions.height;\n      var dropdownHeight = dropdownStyle && StyleSheet.flatten(dropdownStyle).height || StyleSheet.flatten(styles.dropdown).height;\n      var bottomSpace = windowHeight - this._buttonFrame.y - this._buttonFrame.h;\n      var rightSpace = windowWidth - this._buttonFrame.x;\n      var showInBottom = bottomSpace >= dropdownHeight || bottomSpace >= this._buttonFrame.y;\n      var showInLeft = rightSpace >= this._buttonFrame.x;\n      var positionStyle = {\n        height: dropdownHeight,\n        top: showInBottom ? this._buttonFrame.y + this._buttonFrame.h : Math.max(0, this._buttonFrame.y - dropdownHeight)\n      };\n\n      if (showInLeft) {\n        positionStyle.left = this._buttonFrame.x;\n\n        if (isFullWidth) {\n          positionStyle.right = rightSpace - this._buttonFrame.w;\n        }\n      } else {\n        var dropdownWidth = dropdownStyle && StyleSheet.flatten(dropdownStyle).width || style && StyleSheet.flatten(style).width || -1;\n\n        if (dropdownWidth !== -1) {\n          positionStyle.width = dropdownWidth;\n        }\n\n        positionStyle.right = rightSpace - this._buttonFrame.w;\n      }\n\n      return adjustFrame ? adjustFrame(positionStyle) : positionStyle;\n    }\n  }, {\n    key: \"_renderDropdown\",\n    value: function _renderDropdown() {\n      var _this$props6 = this.props,\n          scrollEnabled = _this$props6.scrollEnabled,\n          saveScrollPosition = _this$props6.saveScrollPosition,\n          renderSeparator = _this$props6.renderSeparator,\n          showsVerticalScrollIndicator = _this$props6.showsVerticalScrollIndicator,\n          keyboardShouldPersistTaps = _this$props6.keyboardShouldPersistTaps,\n          options = _this$props6.options,\n          dropdownListProps = _this$props6.dropdownListProps;\n      var selectedIndex = this.state.selectedIndex;\n      return React.createElement(FlatList, _extends({}, dropdownListProps, {\n        data: options,\n        scrollEnabled: scrollEnabled,\n        initialScrollIndex: saveScrollPosition ? selectedIndex : -1,\n        style: styles.list,\n        keyExtractor: function keyExtractor(item, i) {\n          return \"key-\" + i;\n        },\n        renderItem: this._renderItem,\n        ItemSeparatorComponent: renderSeparator || this._renderSeparator,\n        automaticallyAdjustContentInsets: false,\n        showsVerticalScrollIndicator: showsVerticalScrollIndicator,\n        keyboardShouldPersistTaps: keyboardShouldPersistTaps,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 7\n        }\n      }));\n    }\n  }, {\n    key: \"_onRowPress\",\n    value: function _onRowPress(rowData, rowID, highlightRow) {\n      var _this$props7 = this.props,\n          onSelect = _this$props7.onSelect,\n          renderButtonText = _this$props7.renderButtonText,\n          onDropdownWillHide = _this$props7.onDropdownWillHide,\n          multipleSelect = _this$props7.multipleSelect;\n\n      if (!onSelect || onSelect(rowID, rowData) !== false) {\n        var value = renderButtonText && renderButtonText(rowData) || rowData.toString();\n        this.setState({\n          buttonText: value,\n          selectedIndex: rowID\n        });\n      }\n\n      if (!multipleSelect && (!onDropdownWillHide || onDropdownWillHide() !== false)) {\n        this.setState({\n          showDropdown: false\n        });\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, state) {\n      var selectedIndex = state.selectedIndex,\n          loading = state.loading;\n      var defaultIndex = nextProps.defaultIndex,\n          defaultValue = nextProps.defaultValue,\n          options = nextProps.options;\n      var newState = null;\n\n      if (selectedIndex < 0) {\n        selectedIndex = defaultIndex;\n        newState = {\n          selectedIndex: selectedIndex\n        };\n\n        if (selectedIndex < 0) {\n          newState.buttonText = defaultValue;\n        }\n      }\n\n      if (!loading !== !options) {\n        if (!newState) {\n          newState = {};\n        }\n\n        newState.loading = !options;\n      }\n\n      return newState;\n    }\n  }]);\n\n  return ModalDropdown;\n}(Component);\n\nModalDropdown.propTypes = {\n  disabled: PropTypes.bool,\n  multipleSelect: PropTypes.bool,\n  scrollEnabled: PropTypes.bool,\n  saveScrollPosition: PropTypes.bool,\n  defaultIndex: PropTypes.number,\n  defaultValue: PropTypes.string,\n  options: PropTypes.array,\n  accessible: PropTypes.bool,\n  animated: PropTypes.bool,\n  isFullWidth: PropTypes.bool,\n  showsVerticalScrollIndicator: PropTypes.bool,\n  keyboardShouldPersistTaps: PropTypes.string,\n  style: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  textStyle: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  defaultTextStyle: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  dropdownStyle: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  dropdownTextStyle: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  dropdownTextHighlightStyle: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  dropdownListProps: PropTypes.object,\n  dropdownTextProps: PropTypes.object,\n  adjustFrame: PropTypes.func,\n  renderRow: PropTypes.func,\n  renderRowComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  renderRowProps: PropTypes.object,\n  renderSeparator: PropTypes.func,\n  renderButtonText: PropTypes.func,\n  renderRowText: PropTypes.func,\n  renderButtonComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  renderRightComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  renderButtonProps: PropTypes.object,\n  onDropdownWillShow: PropTypes.func,\n  onDropdownWillHide: PropTypes.func,\n  onSelect: PropTypes.func,\n  numberOfLines: PropTypes.number\n};\nModalDropdown.defaultProps = {\n  disabled: false,\n  multipleSelect: false,\n  scrollEnabled: true,\n  saveScrollPosition: true,\n  defaultIndex: -1,\n  defaultValue: 'Please select...',\n  animated: true,\n  isFullWidth: false,\n  showsVerticalScrollIndicator: true,\n  keyboardShouldPersistTaps: 'never',\n  renderRowComponent: Platform.OS === 'ios' ? TouchableOpacity : TouchableHighlight,\n  renderButtonComponent: TouchableOpacity,\n  renderRightComponent: View,\n  numberOfLines: 1\n};\nexport { ModalDropdown as default };\nvar styles = StyleSheet.create({\n  button: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttonText: {\n    fontSize: 12\n  },\n  modal: {\n    flexGrow: 1\n  },\n  dropdown: {\n    position: 'absolute',\n    height: (33 + StyleSheet.hairlineWidth) * 5,\n    borderWidth: StyleSheet.hairlineWidth,\n    borderColor: 'lightgray',\n    borderRadius: 2,\n    backgroundColor: 'white',\n    justifyContent: 'center'\n  },\n  loading: {\n    alignSelf: 'center'\n  },\n  list: {},\n  rowText: {\n    paddingHorizontal: 6,\n    paddingVertical: 10,\n    fontSize: 11,\n    color: 'gray',\n    backgroundColor: 'white',\n    textAlignVertical: 'center'\n  },\n  highlightedRowText: {\n    color: 'black'\n  },\n  separator: {\n    height: StyleSheet.hairlineWidth,\n    backgroundColor: 'lightgray'\n  }\n});","map":{"version":3,"sources":["D:/angular/hts_reactnative/node_modules/react-native-modal-dropdown/components/ModalDropdown.js"],"names":["React","Component","PropTypes","TOUCHABLE_ELEMENTS","ModalDropdown","props","_onButtonPress","onDropdownWillShow","show","_onRequestClose","onDropdownWillHide","hide","_onModalPress","_renderLoading","_renderItem","item","index","separators","renderRow","renderRowComponent","renderRowProps","dropdownTextStyle","dropdownTextHighlightStyle","accessible","dropdownTextProps","renderRowText","RowTouchable","selectedIndex","state","key","highlighted","value","toString","row","styles","rowText","highlightedRowText","touchableProps","onPress","_onRowPress","_renderSeparator","leadingItem","separator","_button","_buttonFrame","loading","options","showDropdown","buttonText","defaultValue","defaultIndex","_renderButton","_renderModal","callback","measure","fx","fy","width","height","px","py","x","y","w","h","_updatePosition","setState","idx","renderButtonText","length","disabled","children","textStyle","defaultTextStyle","renderButtonComponent","renderButtonProps","renderRightComponent","numberOfLines","ButtonTouchable","RightComponent","buttonTextStyle","button","animated","dropdownStyle","frameStyle","_calcPosition","animationType","modal","dropdown","_renderDropdown","style","adjustFrame","isFullWidth","dimensions","Dimensions","get","windowWidth","windowHeight","dropdownHeight","StyleSheet","flatten","bottomSpace","rightSpace","showInBottom","showInLeft","positionStyle","top","Math","max","left","right","dropdownWidth","scrollEnabled","saveScrollPosition","renderSeparator","showsVerticalScrollIndicator","keyboardShouldPersistTaps","dropdownListProps","list","i","rowData","rowID","highlightRow","onSelect","multipleSelect","nextProps","newState","propTypes","bool","number","string","array","oneOfType","object","func","defaultProps","Platform","OS","TouchableOpacity","TouchableHighlight","View","create","flexDirection","alignItems","fontSize","flexGrow","position","hairlineWidth","borderWidth","borderColor","borderRadius","backgroundColor","justifyContent","alignSelf","paddingHorizontal","paddingVertical","color","textAlignVertical"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  StyleSheet,\n  Dimensions,\n  View,\n  Text,\n  TouchableWithoutFeedback,\n  TouchableNativeFeedback,\n  TouchableOpacity,\n  TouchableHighlight,\n  Modal,\n  ActivityIndicator,\n  FlatList,\n  Platform\n} from 'react-native';\nimport PropTypes from 'prop-types';\n\nconst TOUCHABLE_ELEMENTS = [\n  'TouchableHighlight',\n  'TouchableOpacity',\n  'TouchableWithoutFeedback',\n  'TouchableNativeFeedback',\n];\n\nexport default class ModalDropdown extends Component {\n  static propTypes = {\n    disabled: PropTypes.bool,\n    multipleSelect: PropTypes.bool,\n    scrollEnabled: PropTypes.bool,\n    saveScrollPosition: PropTypes.bool,\n    defaultIndex: PropTypes.number,\n    defaultValue: PropTypes.string,\n    options: PropTypes.array,\n    accessible: PropTypes.bool,\n    animated: PropTypes.bool,\n    isFullWidth: PropTypes.bool,\n    showsVerticalScrollIndicator: PropTypes.bool,\n    keyboardShouldPersistTaps: PropTypes.string,\n    style: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.object,\n      PropTypes.array,\n    ]),\n    textStyle: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.object,\n      PropTypes.array,\n    ]),\n    defaultTextStyle: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.object,\n      PropTypes.array,\n    ]),\n    dropdownStyle: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.object,\n      PropTypes.array,\n    ]),\n    dropdownTextStyle: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.object,\n      PropTypes.array,\n    ]),\n    dropdownTextHighlightStyle: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.object,\n      PropTypes.array,\n    ]),\n    dropdownListProps: PropTypes.object,\n    dropdownTextProps: PropTypes.object,\n    adjustFrame: PropTypes.func,\n    renderRow: PropTypes.func,\n    renderRowComponent: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.object,\n    ]),\n    renderRowProps: PropTypes.object,\n    renderSeparator: PropTypes.func,\n    renderButtonText: PropTypes.func,\n    renderRowText: PropTypes.func,\n    renderButtonComponent: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.object,\n    ]),\n    renderRightComponent: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.object,\n    ]),\n    renderButtonProps: PropTypes.object,\n    onDropdownWillShow: PropTypes.func,\n    onDropdownWillHide: PropTypes.func,\n    onSelect: PropTypes.func,\n    numberOfLines: PropTypes.number\n  };\n\n  static defaultProps = {\n    disabled: false,\n    multipleSelect: false,\n    scrollEnabled: true,\n    saveScrollPosition: true,\n    defaultIndex: -1,\n    defaultValue: 'Please select...',\n    animated: true,\n    isFullWidth: false,\n    showsVerticalScrollIndicator: true,\n    keyboardShouldPersistTaps: 'never',\n    renderRowComponent: Platform.OS === 'ios' ? TouchableOpacity : TouchableHighlight,\n    renderButtonComponent: TouchableOpacity,\n    renderRightComponent: View,\n    numberOfLines: 1\n  };\n\n  constructor(props) {\n    super(props);\n    this._button = null;\n    this._buttonFrame = null;\n\n    this.state = {\n      accessible: !!props.accessible,\n      loading: !props.options,\n      showDropdown: false,\n      buttonText: props.defaultValue,\n      selectedIndex: props.defaultIndex,\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, state) {\n    let {selectedIndex, loading} = state;\n    const {defaultIndex, defaultValue, options} = nextProps;\n    let newState = null;\n\n    if (selectedIndex < 0) {\n      selectedIndex = defaultIndex;\n      newState = {\n        selectedIndex: selectedIndex\n      };\n      if (selectedIndex < 0) {\n        newState.buttonText = defaultValue;\n      }\n    }\n\n    if (!loading !== !options) {\n      if (!newState) {\n        newState = {};\n      }\n      newState.loading = !options;\n    }\n    return newState;\n  }\n\n  render() {\n    return (\n      <View {...this.props}>\n        {this._renderButton()}\n        {this._renderModal()}\n      </View>\n    );\n  }\n\n  _updatePosition(callback) {\n    if (this._button && this._button.measure) {\n      this._button.measure((fx, fy, width, height, px, py) => {\n        this._buttonFrame = {\n          x: px,\n          y: py,\n          w: width,\n          h: height,\n        };\n        callback && callback();\n      });\n    }\n  }\n\n  show() {\n    this._updatePosition(() => {\n      this.setState({\n        showDropdown: true,\n      });\n    });\n  }\n\n  hide() {\n    this.setState({\n      showDropdown: false,\n    });\n  }\n\n  select(idx) {\n    const {\n      defaultValue,\n      options,\n      defaultIndex,\n      renderButtonText,\n    } = this.props;\n    let value = defaultValue;\n\n    if (idx == null || !options || idx >= options.length) {\n      idx = defaultIndex;\n    }\n    if (idx >= 0) {\n      value = renderButtonText\n        ? renderButtonText(options[idx])\n        : options[idx].toString();\n    }\n\n    this.setState({\n      buttonText: value,\n      selectedIndex: idx,\n    });\n  }\n\n  _renderButton() {\n    const {\n      disabled,\n      accessible,\n      children,\n      textStyle,\n      defaultTextStyle,\n      renderButtonComponent,\n      renderButtonProps,\n      renderRightComponent,\n      numberOfLines\n    } = this.props;\n    const ButtonTouchable = renderButtonComponent;\n    const RightComponent = renderRightComponent;\n    const { buttonText, selectedIndex } = this.state;\n    const buttonTextStyle = selectedIndex < 0 ? [textStyle, defaultTextStyle] : textStyle;\n    return (\n      <ButtonTouchable\n        ref={button => (this._button = button)}\n        disabled={disabled}\n        accessible={accessible}\n        onPress={this._onButtonPress}\n        {...renderButtonProps}\n      >\n        {children || (\n          <View style={styles.button}>\n            <Text style={[styles.buttonText, buttonTextStyle]} numberOfLines={numberOfLines}>\n              {buttonText}\n            </Text>\n            <RightComponent />\n          </View>\n        )}\n      </ButtonTouchable>\n    );\n  }\n\n  _onButtonPress = () => {\n    const { onDropdownWillShow } = this.props;\n\n    if (!onDropdownWillShow || onDropdownWillShow() !== false) {\n      this.show();\n    }\n  };\n\n  _renderModal() {\n    const { animated, accessible, dropdownStyle } = this.props;\n    const { showDropdown, loading } = this.state;\n\n    if (showDropdown && this._buttonFrame) {\n      const frameStyle = this._calcPosition();\n      const animationType = animated ? 'fade' : 'none';\n\n      return (\n        <Modal\n          animationType={animationType}\n          visible\n          transparent\n          onRequestClose={this._onRequestClose}\n          supportedOrientations={[\n            'portrait',\n            'portrait-upside-down',\n            'landscape',\n            'landscape-left',\n            'landscape-right',\n          ]}\n        >\n          <TouchableWithoutFeedback\n            accessible={accessible}\n            disabled={!showDropdown}\n            onPress={this._onModalPress}\n          >\n            <View style={styles.modal}>\n              <View style={[styles.dropdown, dropdownStyle, frameStyle]}>\n                {loading ? this._renderLoading() : this._renderDropdown()}\n              </View>\n            </View>\n          </TouchableWithoutFeedback>\n        </Modal>\n      );\n    }\n  }\n\n  _calcPosition() {\n    const { dropdownStyle, style, adjustFrame, isFullWidth } = this.props;\n    const dimensions = Dimensions.get('window');\n    const windowWidth = dimensions.width;\n    const windowHeight = dimensions.height;\n    const dropdownHeight =\n      (dropdownStyle && StyleSheet.flatten(dropdownStyle).height) ||\n      StyleSheet.flatten(styles.dropdown).height;\n    const bottomSpace =\n      windowHeight - this._buttonFrame.y - this._buttonFrame.h;\n    const rightSpace = windowWidth - this._buttonFrame.x;\n    const showInBottom =\n      bottomSpace >= dropdownHeight || bottomSpace >= this._buttonFrame.y;\n    const showInLeft = rightSpace >= this._buttonFrame.x;\n    const positionStyle = {\n      height: dropdownHeight,\n      top: showInBottom\n        ? this._buttonFrame.y + this._buttonFrame.h\n        : Math.max(0, this._buttonFrame.y - dropdownHeight),\n    };\n\n    if (showInLeft) {\n      positionStyle.left = this._buttonFrame.x;\n      if(isFullWidth) {\n        positionStyle.right = rightSpace - this._buttonFrame.w;\n      }\n    } else {\n      const dropdownWidth =\n        (dropdownStyle && StyleSheet.flatten(dropdownStyle).width) ||\n        (style && StyleSheet.flatten(style).width) || -1;\n\n      if (dropdownWidth !== -1) {\n        positionStyle.width = dropdownWidth;\n      }\n\n      positionStyle.right = rightSpace - this._buttonFrame.w;\n    }\n\n    return adjustFrame ? adjustFrame(positionStyle) : positionStyle;\n  }\n\n  _onRequestClose = () => {\n    const { onDropdownWillHide } = this.props;\n    if (!onDropdownWillHide || onDropdownWillHide() !== false) {\n      this.hide();\n    }\n  };\n\n  _onModalPress = () => {\n    const { onDropdownWillHide } = this.props;\n    if (!onDropdownWillHide || onDropdownWillHide() !== false) {\n      this.hide();\n    }\n  };\n\n  _renderLoading = () => {\n    return <ActivityIndicator size=\"small\" />;\n  };\n\n  _renderDropdown() {\n    const {\n      scrollEnabled,\n      saveScrollPosition,\n      renderSeparator,\n      showsVerticalScrollIndicator,\n      keyboardShouldPersistTaps,\n      options,\n      dropdownListProps,\n    } = this.props;\n    const { selectedIndex } = this.state;\n\n    return (\n      <FlatList\n        {...dropdownListProps}\n        data={options}\n        scrollEnabled={scrollEnabled}\n        initialScrollIndex={saveScrollPosition ? selectedIndex : -1}\n        style={styles.list}\n        keyExtractor={(item, i) => (`key-${i}`)}\n        renderItem={this._renderItem}\n        ItemSeparatorComponent={renderSeparator || this._renderSeparator}\n        automaticallyAdjustContentInsets={false}\n        showsVerticalScrollIndicator={showsVerticalScrollIndicator}\n        keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n      />\n    );\n  }\n\n  _renderItem = ({ item, index, separators }) => {\n    const {\n      renderRow,\n      renderRowComponent,\n      renderRowProps,\n      dropdownTextStyle,\n      dropdownTextHighlightStyle,\n      accessible,\n      dropdownTextProps,\n      renderRowText\n    } = this.props;\n    const RowTouchable = renderRowComponent;\n    const { selectedIndex } = this.state;\n    const key = `row_${index}`;\n    const highlighted = index === selectedIndex;\n    const value =\n        (renderRowText && renderRowText(item)) || item.toString();\n    const row = !renderRow ? (\n      <Text\n        style={[\n          styles.rowText,\n          dropdownTextStyle,\n          highlighted && styles.highlightedRowText,\n          highlighted && dropdownTextHighlightStyle,\n        ]}\n        testID={item}\n        {...dropdownTextProps}\n      >\n        {value}\n      </Text>\n    ) : (\n      renderRow(item, index, highlighted)\n    );\n\n    const touchableProps = {\n      key,\n      accessible,\n      onPress: () => this._onRowPress(item, index, separators),\n      ...renderRowProps\n    };\n\n    return <RowTouchable {...touchableProps}>{row}</RowTouchable>;\n  };\n\n  _onRowPress(rowData, rowID, highlightRow) {\n    const {\n      onSelect,\n      renderButtonText,\n      onDropdownWillHide,\n      multipleSelect\n    } = this.props;\n\n    if (!onSelect || onSelect(rowID, rowData) !== false) {\n      const value =\n        (renderButtonText && renderButtonText(rowData)) || rowData.toString();\n\n      this.setState({\n        buttonText: value,\n        selectedIndex: rowID,\n      });\n    }\n\n    if (!multipleSelect &&\n        (!onDropdownWillHide || onDropdownWillHide() !== false)\n       ) {\n      this.setState({\n        showDropdown: false,\n      });\n    }\n  }\n\n  _renderSeparator = ({ leadingItem = '' }) => {\n    const key = `spr_${leadingItem}`;\n\n    return <View style={styles.separator} key={key} />;\n  };\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    // justifyContent: 'center',\n    flexDirection:'row',\n    alignItems: 'center'\n  },\n  buttonText: {\n    fontSize: 12,\n  },\n  modal: {\n    flexGrow: 1,\n  },\n  dropdown: {\n    position: 'absolute',\n    height: (33 + StyleSheet.hairlineWidth) * 5,\n    borderWidth: StyleSheet.hairlineWidth,\n    borderColor: 'lightgray',\n    borderRadius: 2,\n    backgroundColor: 'white',\n    justifyContent: 'center',\n  },\n  loading: {\n    alignSelf: 'center',\n  },\n  list: {\n    // flexGrow: 1,\n  },\n  rowText: {\n    paddingHorizontal: 6,\n    paddingVertical: 10,\n    fontSize: 11,\n    color: 'gray',\n    backgroundColor: 'white',\n    textAlignVertical: 'center',\n  },\n  highlightedRowText: {\n    color: 'black',\n  },\n  separator: {\n    height: StyleSheet.hairlineWidth,\n    backgroundColor: 'lightgray',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}