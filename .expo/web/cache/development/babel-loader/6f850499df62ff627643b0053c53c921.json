{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\angular\\\\hts_reactnative\\\\src\\\\app\\\\screens\\\\details\\\\TabManagement\\\\Loyalty\\\\OlaMemberReport.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport DateTimePicker from \"../../../../components/datetimepicker\";\nimport PickerModel from \"../../../../components/picker/PickerModel\";\nimport { colors } from \"../../../../utils/Colors\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport { VictoryAxis, VictoryBar, VictoryChart, VictoryGroup, VictoryLabel, VictoryVoronoiContainer } from \"victory-native\";\nimport { Icons } from \"../../../../assets\";\nimport DropDown from \"../../../../components/dropDown/DropDown\";\nimport { getListOlaMemberReport, getTopOlaMemberReport, getAccumulatedCustomer } from \"../../../../netWorking/loyaltyService\";\nimport moment from \"moment\";\nimport DialogAwait from \"../../../../components/dialogs/Loading\";\nimport { Money } from \"../../../../components/generalConvert/conVertmunberToMoney\";\nexport function OlaMemberReport() {\n  var _this = this;\n\n  var dimensions = Dimensions.get(\"window\");\n  var windowHeight = dimensions.height;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var optionsTopMember = [{\n    label: \"Top 5 customer during a period of time\",\n    value: 5\n  }, {\n    label: \"Top 10 customer during a period of time\",\n    value: 10\n  }, {\n    label: \"Top 15 customer during a period of time\",\n    value: 15\n  }];\n  var optionsTopAccumulated = [{\n    label: \"Top 5 accumulated customer\",\n    value: 5\n  }, {\n    label: \"Top 10 accumulated customer\",\n    value: 10\n  }, {\n    label: \"Top 15 accumulated customer\",\n    value: 15\n  }];\n  var optionsLeastAccumulated = [{\n    label: \"Least 5 accumulated customer\",\n    value: 5\n  }, {\n    label: \"Least 10 accumulated customer\",\n    value: 10\n  }, {\n    label: \"Least 15 accumulated customer\",\n    value: 15\n  }];\n\n  var _useState3 = useState(moment(new Date().setDate(new Date().getDate() - 1)).format(\"YYYY-MM-DD\")),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fromDateTime = _useState4[0],\n      setFromDateTime = _useState4[1];\n\n  var _useState5 = useState(moment(new Date().setDate(new Date().getDate())).format(\"YYYY-MM-DD\")),\n      _useState6 = _slicedToArray(_useState5, 2),\n      endDateTime = _useState6[0],\n      setEndDateTime = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dataMember = _useState8[0],\n      setDataMember = _useState8[1];\n\n  var _useState9 = useState(5),\n      _useState10 = _slicedToArray(_useState9, 2),\n      numTopMember = _useState10[0],\n      setNumTopMember = _useState10[1];\n\n  var _useState11 = useState(5),\n      _useState12 = _slicedToArray(_useState11, 2),\n      numTopMemberAccumulated = _useState12[0],\n      setNumTopMemberAccumulated = _useState12[1];\n\n  var _useState13 = useState(5),\n      _useState14 = _slicedToArray(_useState13, 2),\n      numLeastMemberAccumulated = _useState14[0],\n      setNumLeastMemberAccumulated = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dataTopMember = _useState16[0],\n      setDataTopMember = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      dataTopMemberAccumulated = _useState18[0],\n      setDataTopMemberAccumulated = _useState18[1];\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      dataLeastMemberAccumulated = _useState20[0],\n      setDataLeastMemberAccumulated = _useState20[1];\n\n  var _useState21 = useState(0),\n      _useState22 = _slicedToArray(_useState21, 2),\n      totalTopMember = _useState22[0],\n      setTotalTopMember = _useState22[1];\n\n  var _useState23 = useState(0),\n      _useState24 = _slicedToArray(_useState23, 2),\n      totalTopMemberAccumulated = _useState24[0],\n      setTotalTopMemberAccumulated = _useState24[1];\n\n  var _useState25 = useState(0),\n      _useState26 = _slicedToArray(_useState25, 2),\n      totalLeastMemberAccumulated = _useState26[0],\n      setTotalLeastMemberAccumulated = _useState26[1];\n\n  var _useState27 = useState(2),\n      _useState28 = _slicedToArray(_useState27, 2),\n      outlet = _useState28[0],\n      setOutlet = _useState28[1];\n\n  var onchangeOutlet = function onchangeOutlet(data) {\n    return _regeneratorRuntime.async(function onchangeOutlet$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setOutlet(data);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadListOlaMemberReport = function loadListOlaMemberReport() {\n    var res;\n    return _regeneratorRuntime.async(function loadListOlaMemberReport$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setIsLoading(true);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(getListOlaMemberReport(fromDateTime, endDateTime, 1, 900));\n\n          case 3:\n            res = _context2.sent;\n\n            if (res.isSuccess === 1 && res.data) {\n              setDataMember(res.data.listCustomerOla);\n            }\n\n            setIsLoading(false);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadTopOlaMemberReport = function loadTopOlaMemberReport() {\n    var res, _list;\n\n    return _regeneratorRuntime.async(function loadTopOlaMemberReport$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            setIsLoading(true);\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(getTopOlaMemberReport(fromDateTime, endDateTime, numTopMember));\n\n          case 3:\n            res = _context3.sent;\n\n            if (res.isSuccess === 1 && res.data) {\n              _list = res.data.pointCustomerReport;\n\n              _list.map(function (item, index) {\n                if (item.x == \"\") {\n                  item.x = \"No Name\";\n                }\n              });\n\n              setDataTopMember(_list.reverse());\n              setTotalTopMember(res.data.totalNetFinal);\n            }\n\n            setIsLoading(false);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadAccumulatedCustomer = function loadAccumulatedCustomer() {\n    var numberRows,\n        isTopAccumulated,\n        res,\n        _list,\n        _args4 = arguments;\n\n    return _regeneratorRuntime.async(function loadAccumulatedCustomer$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            numberRows = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 5;\n            isTopAccumulated = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : true;\n            setIsLoading(true);\n            _context4.next = 5;\n            return _regeneratorRuntime.awrap(getAccumulatedCustomer(numberRows, isTopAccumulated));\n\n          case 5:\n            res = _context4.sent;\n\n            if (res.isSuccess === 1 && res.data) {\n              _list = res.data.pointCustomerReport;\n\n              _list.map(function (item, index) {\n                if (item.x == \"\") {\n                  item.x = \"No Name\";\n                }\n              });\n\n              if (isTopAccumulated) {\n                setDataTopMemberAccumulated(_list.reverse());\n                setTotalTopMemberAccumulated(res.data.totalNetFinal);\n              } else {\n                setDataLeastMemberAccumulated(_list.reverse());\n                setTotalLeastMemberAccumulated(res.data.totalNetFinal);\n              }\n            }\n\n            setIsLoading(false);\n\n          case 8:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    loadTopOlaMemberReport();\n  }, [fromDateTime, endDateTime, numTopMember]);\n  useEffect(function () {\n    loadAccumulatedCustomer(numTopMemberAccumulated, true);\n  }, [numTopMemberAccumulated]);\n  useEffect(function () {\n    loadAccumulatedCustomer(numLeastMemberAccumulated, false);\n  }, [numLeastMemberAccumulated]);\n  useEffect(function () {\n    loadListOlaMemberReport();\n  }, [fromDateTime, endDateTime]);\n\n  var handleWidthChart = function handleWidthChart(data) {\n    var _revenueChart = [];\n    var units = data.toString().length;\n    var unit = data.toString().charAt(0);\n\n    for (var index = 1; index < +unit + 2; index++) {\n      _revenueChart.push(index * Math.pow(10, units - 1));\n    }\n\n    return _revenueChart;\n  };\n\n  var handlePercentChart = function handlePercentChart(data) {\n    var units = data.toString().length;\n    var unit = data.toString().charAt(0);\n    return (+unit + 1) * Math.pow(10, units - 1);\n  };\n\n  var renderChartComponent = function renderChartComponent(id, options, onChangeOption, dataChart, defaultLabel, total) {\n    return React.createElement(View, {\n      style: {\n        paddingHorizontal: 15,\n        zIndex: id + 1\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: {\n        marginTop: 15,\n        zIndex: 2\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }, React.createElement(DropDown, {\n      data: options,\n      heightContent: 120,\n      defaultLabel: defaultLabel,\n      onSelected: function onSelected(values) {\n        onChangeOption(values.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    })), dataChart.length > 0 && React.createElement(ScrollView, {\n      horizontal: true,\n      endFillColor: colors.backgroundApp,\n      style: {\n        backgroundColor: colors.backgroundApp\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: {\n        marginVertical: 15\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, React.createElement(VictoryChart, {\n      domainPadding: {\n        x: 40,\n        y: 45\n      },\n      width: handleWidthChart(Math.round(total)).length * 100 + 250,\n      height: dataChart.length * 60 + 100,\n      padding: {\n        top: 30,\n        bottom: 50,\n        left: 130,\n        right: 80\n      },\n      containerComponent: React.createElement(VictoryVoronoiContainer, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 37\n        }\n      }),\n      style: {\n        parent: {\n          cursor: \"pointer\"\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, React.createElement(VictoryChart, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, React.createElement(VictoryLabel, {\n      y: 10,\n      x: 100,\n      style: {\n        fontSize: 12,\n        fontStyle: \"normal\",\n        fill: \"#C4C4C4\"\n      },\n      text: \"Customer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }), React.createElement(VictoryLabel, {\n      y: dataChart.length * 60 + 66,\n      x: 125,\n      style: {\n        fontSize: 12,\n        fontStyle: \"normal\",\n        fill: colors.colorText\n      },\n      text: \"0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }), React.createElement(VictoryAxis, {\n      tickValues: dataChart,\n      tickFormat: function tickFormat(t) {\n        return \"\" + t;\n      },\n      style: {\n        axis: {\n          stroke: colors.white\n        },\n        tickLabels: {\n          fontSize: 12,\n          padding: 20,\n          fill: colors.white\n        }\n      },\n      orientation: \"left\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 19\n      }\n    }), React.createElement(VictoryAxis, {\n      dependentAxis: true,\n      tickFormat: function tickFormat(t) {\n        return \"\" + Money(t);\n      },\n      tickValues: handleWidthChart(Math.round(total)),\n      style: whiteStyleBottom,\n      orientation: \"bottom\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    })), React.createElement(VictoryGroup, {\n      horizontal: true,\n      padding: {\n        top: 0,\n        bottom: 50,\n        left: 90,\n        right: 80\n      },\n      offset: 15,\n      style: {\n        data: {\n          width: 16\n        }\n      },\n      colorScale: [\"#5F8BFC\"],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, React.createElement(VictoryBar, {\n      labelComponent: React.createElement(VictoryLabel, {\n        dx: 5,\n        dy: -8,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 37\n        }\n      }),\n      style: {\n        labels: {\n          fill: colors.colorText,\n          color: colors.colorText,\n          fontSize: 12\n        }\n      },\n      labels: function labels(_ref) {\n        var datum = _ref.datum;\n        return [Money(Math.round(datum.y))];\n      },\n      data: dataChart,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 19\n      }\n    }), React.createElement(VictoryBar, {\n      labelComponent: React.createElement(VictoryLabel, {\n        dx: -21,\n        dy: 7,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 37\n        }\n      }),\n      style: {\n        labels: {\n          fill: colors.colorText,\n          color: colors.colorText,\n          fontSize: 12\n        }\n      },\n      labels: function labels(_ref2) {\n        var datum = _ref2.datum;\n        return [Math.round(datum.y / handlePercentChart(Math.round(total)) * 100) + \"%\"];\n      },\n      data: dataChart,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }\n    }))))));\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 5\n    }\n  }, React.createElement(PickerModel, {\n    data: null,\n    defaultValue: \"Ola Restaurant\",\n    onSelectedValue: function onSelectedValue(value) {\n      onchangeOutlet(value.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }), React.createElement(DateTimePicker, {\n    onSubmitFromDate: function onSubmitFromDate(date) {\n      return setFromDateTime(moment(date).format(\"YYYY-MM-DD\"));\n    },\n    onSubmitEndDate: function onSubmitEndDate(date) {\n      return setEndDateTime(moment(date).format(\"YYYY-MM-DD\"));\n    },\n    isShowTime: false,\n    fromDate: fromDateTime,\n    endDate: endDateTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.line,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      paddingHorizontal: 15,\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.titleHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitleHeader, {\n      textAlign: \"center\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }, \"OLA MEMBER REPORT\")), React.createElement(View, {\n    style: styles.rowTransaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.textGray,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }, \"Transaction:\"), React.createElement(Text, {\n    style: styles.text16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 11\n    }\n  }, dataMember.length, \" TC\"))), React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingHorizontal: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: dataMember,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    renderItem: function renderItem(_ref3) {\n      var _Money, _Money2, _Money3;\n\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(View, {\n        style: styles.itemMember,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: styles.itemMemberHeader,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          width: 54,\n          justifyContent: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 19\n        }\n      }, React.createElement(Image, {\n        style: styles.avatarImg,\n        source: Icons.avatar,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: {\n          marginLeft: 8,\n          justifyContent: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: [styles.text16],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }\n      }, item.customerName))), React.createElement(View, {\n        style: styles.itemRow,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 2\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.textGray,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }\n      }, \"Transaction:\")), React.createElement(View, {\n        style: {\n          flex: 2,\n          alignItems: \"flex-end\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }\n      }, item.transaction))), React.createElement(View, {\n        style: styles.itemRow,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 2\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.textGray,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }\n      }, \"Total amount:\")), React.createElement(View, {\n        style: {\n          flex: 2,\n          alignItems: \"flex-end\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        style: styles.text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }\n      }, (_Money = Money(Math.round(item.totalAmount))) != null ? _Money : Math.round(item.totalAmount), \" VND\"))), React.createElement(View, {\n        style: styles.itemRow,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 2\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.textGray,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }\n      }, \"Amount discount:\")), React.createElement(View, {\n        style: {\n          flex: 2,\n          alignItems: \"flex-end\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        style: styles.text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }\n      }, (_Money2 = Money(Math.round(item.amountDiscount))) != null ? _Money2 : Math.round(item.amountDiscount), \" VND\"))), React.createElement(View, {\n        style: styles.itemRow,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 2\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.textGray,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }\n      }, \"Net Spending:\")), React.createElement(View, {\n        style: {\n          flex: 2,\n          alignItems: \"flex-end\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        style: styles.text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }\n      }, (_Money3 = Money(Math.round(item.netSpending))) != null ? _Money3 : Math.round(item.netSpending), \" VND\"))));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: [styles.line, {\n      marginTop: 15\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }\n  }), renderChartComponent(3, optionsTopMember, function (value) {\n    setNumTopMember(value);\n  }, dataTopMember, optionsTopMember[0].label, totalTopMember), React.createElement(View, {\n    style: [styles.line, {\n      marginTop: 15\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }\n  }), renderChartComponent(2, optionsTopAccumulated, function (value) {\n    setNumTopMemberAccumulated(value);\n  }, dataTopMemberAccumulated, optionsTopAccumulated[0].label, totalTopMemberAccumulated), React.createElement(View, {\n    style: [styles.line, {\n      marginTop: 15\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 9\n    }\n  }), renderChartComponent(1, optionsLeastAccumulated, function (value) {\n    setNumLeastMemberAccumulated(value);\n  }, dataLeastMemberAccumulated, optionsLeastAccumulated[0].label, totalLeastMemberAccumulated)), isLoading && React.createElement(DialogAwait, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 21\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.backgroundApp\n  },\n  line: {\n    height: 10,\n    backgroundColor: colors.backgroundTab\n  },\n  textCenter: {\n    textAlign: \"center\"\n  },\n  text16: {\n    color: colors.colorText,\n    fontWeight: \"500\",\n    fontSize: 16\n  },\n  textGray: {\n    color: colors.colorLine,\n    fontWeight: \"400\",\n    fontSize: 14\n  },\n  textGray16: {\n    color: colors.colorLine,\n    fontWeight: \"400\",\n    fontSize: 14\n  },\n  text: {\n    color: colors.white,\n    fontWeight: \"400\",\n    fontSize: 14\n  },\n  titleHeader: {\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    borderBottomWidth: 1,\n    marginLeft: 25,\n    marginRight: 25,\n    borderBottomColor: colors.colorLine\n  },\n  textTitleHeader: {\n    color: colors.colorText,\n    fontWeight: \"500\",\n    fontSize: 16\n  },\n  itemDropDown: {\n    padding: 10,\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  dropDowns: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  dropDowBody: {\n    backgroundColor: colors.grayLight,\n    position: \"absolute\",\n    zIndex: 1000,\n    right: 0,\n    left: 0,\n    top: 42\n  },\n  rowTransaction: {\n    height: 40,\n    padding: 10,\n    backgroundColor: colors.yellowishbrown,\n    marginHorizontal: 25,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginTop: 4\n  },\n  itemMember: {\n    height: 191,\n    borderRadius: 4,\n    marginTop: 10,\n    paddingVertical: 10,\n    paddingHorizontal: 16,\n    backgroundColor: colors.grayLight\n  },\n  itemMemberHeader: {\n    height: 44,\n    flexDirection: \"row\"\n  },\n  avatarImg: {\n    width: 44,\n    height: 44,\n    borderRadius: 22\n  },\n  itemRow: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    justifyContent: \"space-between\"\n  }\n});\nvar whiteStyleBottom = {\n  axis: {\n    stroke: colors.white\n  },\n  tickLabels: {\n    fontSize: 12,\n    padding: 10,\n    fill: colors.white\n  }\n};","map":{"version":3,"sources":["D:/angular/hts_reactnative/src/app/screens/details/TabManagement/Loyalty/OlaMemberReport.tsx"],"names":["React","useState","useEffect","DateTimePicker","PickerModel","colors","ScrollView","VictoryAxis","VictoryBar","VictoryChart","VictoryGroup","VictoryLabel","VictoryVoronoiContainer","Icons","DropDown","getListOlaMemberReport","getTopOlaMemberReport","getAccumulatedCustomer","moment","DialogAwait","Money","OlaMemberReport","dimensions","Dimensions","get","windowHeight","height","isLoading","setIsLoading","optionsTopMember","label","value","optionsTopAccumulated","optionsLeastAccumulated","Date","setDate","getDate","format","fromDateTime","setFromDateTime","endDateTime","setEndDateTime","dataMember","setDataMember","numTopMember","setNumTopMember","numTopMemberAccumulated","setNumTopMemberAccumulated","numLeastMemberAccumulated","setNumLeastMemberAccumulated","dataTopMember","setDataTopMember","dataTopMemberAccumulated","setDataTopMemberAccumulated","dataLeastMemberAccumulated","setDataLeastMemberAccumulated","totalTopMember","setTotalTopMember","totalTopMemberAccumulated","setTotalTopMemberAccumulated","totalLeastMemberAccumulated","setTotalLeastMemberAccumulated","outlet","setOutlet","onchangeOutlet","data","loadListOlaMemberReport","res","isSuccess","listCustomerOla","loadTopOlaMemberReport","_list","pointCustomerReport","map","item","index","x","reverse","totalNetFinal","loadAccumulatedCustomer","numberRows","isTopAccumulated","handleWidthChart","_revenueChart","units","toString","length","unit","charAt","push","handlePercentChart","renderChartComponent","id","options","onChangeOption","dataChart","defaultLabel","total","paddingHorizontal","zIndex","marginTop","values","backgroundApp","backgroundColor","marginVertical","y","Math","round","top","bottom","left","right","parent","cursor","fontSize","fontStyle","fill","colorText","t","axis","stroke","white","tickLabels","padding","whiteStyleBottom","width","labels","color","datum","styles","container","date","line","marginBottom","titleHeader","textTitleHeader","textAlign","rowTransaction","textGray","text16","itemMember","itemMemberHeader","justifyContent","avatarImg","avatar","marginLeft","customerName","itemRow","flex","alignItems","text","transaction","totalAmount","amountDiscount","netSpending","StyleSheet","create","backgroundTab","textCenter","fontWeight","colorLine","textGray16","paddingVertical","borderBottomWidth","marginRight","borderBottomColor","itemDropDown","flexDirection","dropDowns","dropDowBody","grayLight","position","yellowishbrown","marginHorizontal","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, StyleSheet, Text, FlatList, Image, TouchableHighlight, Dimensions } from \"react-native\";\r\nimport DateTimePicker from \"../../../../components/datetimepicker\";\r\nimport PickerModel from \"../../../../components/picker/PickerModel\";\r\nimport { colors } from \"../../../../utils/Colors\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { Imodel } from \"../../../../models/Imodel\";\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\nimport { VictoryAxis, VictoryBar, VictoryChart, VictoryGroup, VictoryLabel, VictoryVoronoiContainer } from \"victory-native\";\r\nimport { Icons } from \"../../../../assets\";\r\nimport { OlaMember } from \"../../../../models/olaMember\";\r\nimport DropDown from \"../../../../components/dropDown/DropDown\";\r\nimport { getListOlaMemberReport, getTopOlaMemberReport, getAccumulatedCustomer } from \"../../../../netWorking/loyaltyService\";\r\nimport moment from \"moment\";\r\nimport DialogAwait from \"../../../../components/dialogs/Loading\";\r\nimport { Money } from \"../../../../components/generalConvert/conVertmunberToMoney\";\r\nexport function OlaMemberReport() {\r\n  const dimensions = Dimensions.get(\"window\");\r\n  const windowHeight = dimensions.height;\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const optionsTopMember: Imodel[] = [\r\n    { label: \"Top 5 customer during a period of time\", value: 5 },\r\n    { label: \"Top 10 customer during a period of time\", value: 10 },\r\n    { label: \"Top 15 customer during a period of time\", value: 15 },\r\n  ];\r\n  const optionsTopAccumulated: Imodel[] = [\r\n    { label: \"Top 5 accumulated customer\", value: 5 },\r\n    { label: \"Top 10 accumulated customer\", value: 10 },\r\n    { label: \"Top 15 accumulated customer\", value: 15 },\r\n  ];\r\n  const optionsLeastAccumulated: Imodel[] = [\r\n    { label: \"Least 5 accumulated customer\", value: 5 },\r\n    { label: \"Least 10 accumulated customer\", value: 10 },\r\n    { label: \"Least 15 accumulated customer\", value: 15 },\r\n  ];\r\n  //--------datetime picker\r\n  const [fromDateTime, setFromDateTime] = useState(moment(new Date().setDate(new Date().getDate() - 1)).format(\"YYYY-MM-DD\"));\r\n  const [endDateTime, setEndDateTime] = useState(moment(new Date().setDate(new Date().getDate())).format(\"YYYY-MM-DD\"));\r\n\r\n  const [dataMember, setDataMember] = useState<OlaMember[]>([]);\r\n\r\n  const [numTopMember, setNumTopMember] = useState(5);\r\n  const [numTopMemberAccumulated, setNumTopMemberAccumulated] = useState(5);\r\n  const [numLeastMemberAccumulated, setNumLeastMemberAccumulated] = useState(5);\r\n\r\n  const [dataTopMember, setDataTopMember] = useState([]);\r\n  const [dataTopMemberAccumulated, setDataTopMemberAccumulated] = useState([]);\r\n  const [dataLeastMemberAccumulated, setDataLeastMemberAccumulated] = useState([]);\r\n\r\n  const [totalTopMember, setTotalTopMember] = useState(0);\r\n  const [totalTopMemberAccumulated, setTotalTopMemberAccumulated] = useState(0);\r\n  const [totalLeastMemberAccumulated, setTotalLeastMemberAccumulated] = useState(0);\r\n\r\n  const [outlet, setOutlet] = useState(2);\r\n  const onchangeOutlet = async (data: any) => {\r\n    setOutlet(data);\r\n  };\r\n  const loadListOlaMemberReport = async () => {\r\n    setIsLoading(true);\r\n    const res = await getListOlaMemberReport(fromDateTime, endDateTime, 1, 900);\r\n    if (res.isSuccess === 1 && res.data) {\r\n      setDataMember(res.data.listCustomerOla);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  const loadTopOlaMemberReport = async () => {\r\n    setIsLoading(true);\r\n    const res = await getTopOlaMemberReport(fromDateTime, endDateTime, numTopMember);\r\n    if (res.isSuccess === 1 && res.data) {\r\n      let _list = res.data.pointCustomerReport;\r\n      _list.map((item, index) => {\r\n        if (item.x == \"\") {\r\n          item.x = \"No Name\";\r\n        }\r\n      });\r\n      setDataTopMember(_list.reverse());\r\n      setTotalTopMember(res.data.totalNetFinal);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  const loadAccumulatedCustomer = async (numberRows: number = 5, isTopAccumulated: boolean = true) => {\r\n    setIsLoading(true);\r\n    const res = await getAccumulatedCustomer(numberRows, isTopAccumulated);\r\n    if (res.isSuccess === 1 && res.data) {\r\n      let _list = res.data.pointCustomerReport;\r\n      _list.map((item, index) => {\r\n        if (item.x == \"\") {\r\n          item.x = \"No Name\";\r\n        }\r\n      });\r\n      if (isTopAccumulated) {\r\n        setDataTopMemberAccumulated(_list.reverse());\r\n        setTotalTopMemberAccumulated(res.data.totalNetFinal);\r\n      } else {\r\n        setDataLeastMemberAccumulated(_list.reverse());\r\n        setTotalLeastMemberAccumulated(res.data.totalNetFinal);\r\n      }\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    loadTopOlaMemberReport();\r\n  }, [fromDateTime, endDateTime, numTopMember]);\r\n  useEffect(() => {\r\n    loadAccumulatedCustomer(numTopMemberAccumulated, true);\r\n  }, [numTopMemberAccumulated]);\r\n  useEffect(() => {\r\n    loadAccumulatedCustomer(numLeastMemberAccumulated, false);\r\n  }, [numLeastMemberAccumulated]);\r\n  useEffect(() => {\r\n    loadListOlaMemberReport();\r\n  }, [fromDateTime, endDateTime]);\r\n\r\n  const handleWidthChart = (data: number) => {\r\n    let _revenueChart = [];\r\n    let units = data.toString().length;\r\n    let unit = data.toString().charAt(0);\r\n    for (let index = 1; index < +unit + 2; index++) {\r\n      _revenueChart.push(index * 10 ** (units - 1));\r\n    }\r\n    return _revenueChart;\r\n  };\r\n  const handlePercentChart = (data: number) => {\r\n    let units = data.toString().length;\r\n    let unit = data.toString().charAt(0);\r\n    return (+unit + 1) * 10 ** (units - 1);\r\n  };\r\n  const renderChartComponent = (\r\n    id: number,\r\n    options: Imodel[],\r\n    onChangeOption: (value: number) => void,\r\n    dataChart: { x: string; y: number }[],\r\n    defaultLabel: string,\r\n    total: number\r\n  ) => {\r\n    return (\r\n      <View style={{ paddingHorizontal: 15, zIndex: id + 1 }}>\r\n        <View style={{ marginTop: 15, zIndex: 2 }}>\r\n          <DropDown\r\n            data={options}\r\n            heightContent={120}\r\n            defaultLabel={defaultLabel}\r\n            onSelected={values => {\r\n              onChangeOption(values.value);\r\n            }}\r\n          ></DropDown>\r\n        </View>\r\n        {/* -------------------------- */}\r\n        {dataChart.length > 0 && (\r\n          <ScrollView horizontal={true} endFillColor={colors.backgroundApp} style={{ backgroundColor: colors.backgroundApp }}>\r\n            <View style={{ marginVertical: 15 }}>\r\n              <VictoryChart\r\n                domainPadding={{ x: 40, y: 45 }}\r\n                width={handleWidthChart(Math.round(total)).length * 100 + 250}\r\n                height={dataChart.length * 60 + 100}\r\n                padding={{ top: 30, bottom: 50, left: 130, right: 80 }}\r\n                containerComponent={<VictoryVoronoiContainer />}\r\n                style={{ parent: { cursor: \"pointer\" } }}\r\n              >\r\n                <VictoryChart>\r\n                  <VictoryLabel\r\n                    y={10}\r\n                    x={100}\r\n                    style={{\r\n                      fontSize: 12,\r\n                      fontStyle: \"normal\",\r\n                      fill: \"#C4C4C4\",\r\n                    }}\r\n                    text={\"Customer\"}\r\n                  ></VictoryLabel>\r\n                  <VictoryLabel\r\n                    y={dataChart.length * 60 + 66}\r\n                    x={125}\r\n                    style={{\r\n                      fontSize: 12,\r\n                      fontStyle: \"normal\",\r\n                      fill: colors.colorText,\r\n                    }}\r\n                    text={\"0\"}\r\n                  />\r\n                  <VictoryAxis\r\n                    tickValues={dataChart}\r\n                    tickFormat={t => `${t}`}\r\n                    style={{\r\n                      axis: { stroke: colors.white },\r\n                      tickLabels: { fontSize: 12, padding: 20, fill: colors.white },\r\n                    }}\r\n                    orientation=\"left\"\r\n                  />\r\n                  <VictoryAxis\r\n                    dependentAxis\r\n                    tickFormat={t => `${Money(t)}`}\r\n                    tickValues={handleWidthChart(Math.round(total))}\r\n                    style={whiteStyleBottom}\r\n                    orientation=\"bottom\"\r\n                  />\r\n                </VictoryChart>\r\n                <VictoryGroup\r\n                  horizontal={true}\r\n                  padding={{ top: 0, bottom: 50, left: 90, right: 80 }}\r\n                  offset={15}\r\n                  style={{ data: { width: 16 } }}\r\n                  colorScale={[\"#5F8BFC\"]}\r\n                >\r\n                  <VictoryBar\r\n                    labelComponent={<VictoryLabel dx={5} dy={-8} />}\r\n                    style={{\r\n                      labels: {\r\n                        fill: colors.colorText,\r\n                        color: colors.colorText,\r\n                        fontSize: 12,\r\n                      },\r\n                    }}\r\n                    labels={({ datum }) => [Money(Math.round(datum.y))]}\r\n                    data={dataChart}\r\n                  />\r\n                  <VictoryBar\r\n                    labelComponent={<VictoryLabel dx={-21} dy={7} />}\r\n                    style={{\r\n                      labels: {\r\n                        fill: colors.colorText,\r\n                        color: colors.colorText,\r\n                        fontSize: 12,\r\n                      },\r\n                    }}\r\n                    labels={({ datum }) => [Math.round((datum.y / handlePercentChart(Math.round(total))) * 100) + \"%\"]}\r\n                    data={dataChart}\r\n                  />\r\n                </VictoryGroup>\r\n              </VictoryChart>\r\n            </View>\r\n          </ScrollView>\r\n        )}\r\n\r\n        {/* ----------------- */}\r\n      </View>\r\n    );\r\n  };\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* -----------------Picker Outlet------------- */}\r\n      <PickerModel\r\n        data={null}\r\n        defaultValue=\"Ola Restaurant\"\r\n        onSelectedValue={value => {\r\n          onchangeOutlet(value.value);\r\n        }}\r\n      ></PickerModel>\r\n      {/* ------------------------------ */}\r\n      <DateTimePicker\r\n        onSubmitFromDate={date => setFromDateTime(moment(date).format(\"YYYY-MM-DD\"))}\r\n        onSubmitEndDate={date => setEndDateTime(moment(date).format(\"YYYY-MM-DD\"))}\r\n        isShowTime={false}\r\n        fromDate={fromDateTime}\r\n        endDate={endDateTime}\r\n      ></DateTimePicker>\r\n      {/* ---------------------------------------- */}\r\n      <View style={styles.line}></View>\r\n      <View style={{ paddingHorizontal: 15, marginBottom: 10 }}>\r\n        <View style={styles.titleHeader}>\r\n          <Text style={[styles.textTitleHeader, { textAlign: \"center\" }]}>OLA MEMBER REPORT</Text>\r\n        </View>\r\n        <View style={styles.rowTransaction}>\r\n          <Text style={styles.textGray}>Transaction:</Text>\r\n          <Text style={styles.text16}>{dataMember.length} TC</Text>\r\n        </View>\r\n      </View>\r\n      <ScrollView>\r\n        <View style={{ paddingHorizontal: 15 }}>\r\n          <FlatList\r\n            data={dataMember}\r\n            keyExtractor={(item, index) => index.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View style={styles.itemMember}>\r\n                <View style={styles.itemMemberHeader}>\r\n                  <View style={{ width: 54, justifyContent: \"center\" }}>\r\n                    <Image style={styles.avatarImg} source={Icons.avatar} />\r\n                  </View>\r\n                  <View style={{ marginLeft: 8, justifyContent: \"center\" }}>\r\n                    <Text style={[styles.text16]}>{item.customerName}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.itemRow}>\r\n                  <View style={{ flex: 2 }}>\r\n                    <Text style={styles.textGray}>Transaction:</Text>\r\n                  </View>\r\n                  <View style={{ flex: 2, alignItems: \"flex-end\" }}>\r\n                    <Text style={styles.text}>{item.transaction}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.itemRow}>\r\n                  <View style={{ flex: 2 }}>\r\n                    <Text style={styles.textGray}>Total amount:</Text>\r\n                  </View>\r\n                  <View style={{ flex: 2, alignItems: \"flex-end\" }}>\r\n                    <Text numberOfLines={1} style={styles.text}>\r\n                      {Money(Math.round(item.totalAmount)) ?? Math.round(item.totalAmount)} VND\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.itemRow}>\r\n                  <View style={{ flex: 2 }}>\r\n                    <Text style={styles.textGray}>Amount discount:</Text>\r\n                  </View>\r\n                  <View style={{ flex: 2, alignItems: \"flex-end\" }}>\r\n                    <Text numberOfLines={1} style={styles.text}>\r\n                      {Money(Math.round(item.amountDiscount)) ?? Math.round(item.amountDiscount)} VND\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.itemRow}>\r\n                  <View style={{ flex: 2 }}>\r\n                    <Text style={styles.textGray}>Net Spending:</Text>\r\n                  </View>\r\n                  <View style={{ flex: 2, alignItems: \"flex-end\" }}>\r\n                    <Text numberOfLines={1} style={styles.text}>\r\n                      {Money(Math.round(item.netSpending)) ?? Math.round(item.netSpending)} VND\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n            )}\r\n          ></FlatList>\r\n        </View>\r\n\r\n        <View style={[styles.line, { marginTop: 15 }]}></View>\r\n        {renderChartComponent(\r\n          3,\r\n          optionsTopMember,\r\n          value => {\r\n            setNumTopMember(value);\r\n          },\r\n          dataTopMember,\r\n          optionsTopMember[0].label,\r\n          totalTopMember\r\n        )}\r\n        <View style={[styles.line, { marginTop: 15 }]}></View>\r\n        {renderChartComponent(\r\n          2,\r\n          optionsTopAccumulated,\r\n          value => {\r\n            setNumTopMemberAccumulated(value);\r\n          },\r\n          dataTopMemberAccumulated,\r\n          optionsTopAccumulated[0].label,\r\n          totalTopMemberAccumulated\r\n        )}\r\n        <View style={[styles.line, { marginTop: 15 }]}></View>\r\n        {renderChartComponent(\r\n          1,\r\n          optionsLeastAccumulated,\r\n          value => {\r\n            setNumLeastMemberAccumulated(value);\r\n          },\r\n          dataLeastMemberAccumulated,\r\n          optionsLeastAccumulated[0].label,\r\n          totalLeastMemberAccumulated\r\n        )}\r\n      </ScrollView>\r\n      {isLoading && <DialogAwait></DialogAwait>}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: colors.backgroundApp,\r\n  },\r\n  line: {\r\n    height: 10,\r\n    backgroundColor: colors.backgroundTab,\r\n  },\r\n  textCenter: {\r\n    textAlign: \"center\",\r\n  },\r\n  text16: {\r\n    color: colors.colorText,\r\n    fontWeight: \"500\",\r\n    fontSize: 16,\r\n  },\r\n  textGray: {\r\n    color: colors.colorLine,\r\n    fontWeight: \"400\",\r\n    fontSize: 14,\r\n  },\r\n  textGray16: {\r\n    color: colors.colorLine,\r\n    fontWeight: \"400\",\r\n    fontSize: 14,\r\n  },\r\n  text: {\r\n    color: colors.white,\r\n    fontWeight: \"400\",\r\n    fontSize: 14,\r\n  },\r\n  titleHeader: {\r\n    paddingVertical: 16,\r\n    paddingHorizontal: 16,\r\n    borderBottomWidth: 1,\r\n    marginLeft: 25,\r\n    marginRight: 25,\r\n    borderBottomColor: colors.colorLine,\r\n  },\r\n\r\n  textTitleHeader: {\r\n    color: colors.colorText,\r\n    fontWeight: \"500\",\r\n    fontSize: 16,\r\n  },\r\n  itemDropDown: {\r\n    padding: 10,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  dropDowns: {\r\n    flex: 1,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  dropDowBody: {\r\n    backgroundColor: colors.grayLight,\r\n    position: \"absolute\",\r\n    zIndex: 1000,\r\n    right: 0,\r\n    left: 0,\r\n    top: 42,\r\n  },\r\n  rowTransaction: {\r\n    height: 40,\r\n    padding: 10,\r\n    backgroundColor: colors.yellowishbrown,\r\n    marginHorizontal: 25,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginTop: 4,\r\n  },\r\n  itemMember: {\r\n    height: 191,\r\n    borderRadius: 4,\r\n    marginTop: 10,\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 16,\r\n    backgroundColor: colors.grayLight,\r\n  },\r\n  itemMemberHeader: {\r\n    height: 44,\r\n    flexDirection: \"row\",\r\n  },\r\n  avatarImg: {\r\n    width: 44,\r\n    height: 44,\r\n    borderRadius: 22,\r\n  },\r\n  itemRow: {\r\n    flexDirection: \"row\",\r\n    marginTop: 10,\r\n    justifyContent: \"space-between\",\r\n  },\r\n});\r\n\r\nconst whiteStyleBottom = {\r\n  axis: { stroke: colors.white },\r\n  tickLabels: { fontSize: 12, padding: 10, fill: colors.white },\r\n};\r\n"]},"metadata":{},"sourceType":"module"}