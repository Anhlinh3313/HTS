{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\angular\\\\hts_reactnative\\\\src\\\\app\\\\screens\\\\details\\\\TabManagement\\\\StaffManagement\\\\Reports\\\\WeeklyDynamicCrewSchedule.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { colors } from \"../../../../../utils/Colors\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport ItemServiceTeam from \"./items/itemServiceTeam\";\nimport ModalSendEmail from \"../../../../../components/ModalSendEmail\";\nimport SendSuccess from \"../../../../../components/modalNotification/SendSuccess\";\nimport SendFail from \"../../../../../components/modalNotification/SendFail\";\nimport ModalPicker from \"../../../../../components/management/ModalPicker\";\nimport Dash from \"react-native-dash\";\nimport { ReportStaffService, MailStaffService } from \"../../../../../netWorking/staffService\";\nimport Loading from \"../../../../../components/dialogs/Loading\";\nimport { initDataPicker } from \"../../../../../models/staffModel\";\nimport { get12HourTime } from \"../../../../../components/generalConvert/conVertMonDay\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\n\nvar WeeklyDynamicCrewSchedule = function WeeklyDynamicCrewSchedule() {\n  var dimensions = Dimensions.get(\"window\");\n  var reports = useSelector(function (state) {\n    return state.reports;\n  });\n  var record_area = useSelector(function (state) {\n    return state.staff.record_area;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalSendMail = _useState4[0],\n      setModalSendMail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sent = _useState6[0],\n      setSent = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      statusSent = _useState8[0],\n      setStatusSent = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      listStaff = _useState10[0],\n      setListStaff = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showPickerTeam = _useState12[0],\n      setShowPickerTeam = _useState12[1];\n\n  var _useState13 = useState(initDataPicker),\n      _useState14 = _slicedToArray(_useState13, 2),\n      valueTeam = _useState14[0],\n      setValueTeam = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      recordAreas = _useState16[0],\n      setRecordAreas = _useState16[1];\n\n  var handleSendMail = function handleSendMail(description, email) {\n    var res;\n    return _regeneratorRuntime.async(function handleSendMail$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setModalSendMail(!modalSendMail);\n            setIsLoading(true);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(MailStaffService.sendMailWeeklyDynamicCrewSchedule(description, email, reports.fromDate, reports.endDate));\n\n          case 4:\n            res = _context.sent;\n            setIsLoading(false);\n\n            if (res.isSuccess == 1 && res.data) {\n              setSent(\"success\");\n              setStatusSent(\"Email sent successfully!\");\n            } else {\n              setSent(\"fail\");\n              setStatusSent(\"Email sent failed!\");\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadStaffByRecordArea = function loadStaffByRecordArea() {\n    var res;\n    return _regeneratorRuntime.async(function loadStaffByRecordArea$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setIsLoading(true);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(ReportStaffService.getListStaffWeeklyDynamicCrewSchedule(valueTeam.id, reports.fromDate, reports.endDate));\n\n          case 3:\n            res = _context2.sent;\n\n            if (res.isSuccess == 1 && res.data) {\n              if (res.data.length > 0) {\n                setListStaff(res.data);\n              } else {\n                setListStaff([]);\n              }\n            }\n\n            setIsLoading(false);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    if (valueTeam.id !== 0) loadStaffByRecordArea();\n  }, [valueTeam, reports.fromDate, reports.endDate]);\n  useEffect(function () {\n    setRecordAreas(record_area);\n    setValueTeam(record_area[0]);\n  }, []);\n\n  var groupBy = function groupBy(xs) {\n    var _xs = xs.filter(function (v, i, a) {\n      return a.findIndex(function (v2) {\n        return v2.workingTimeId === v.workingTimeId;\n      }) === i;\n    });\n\n    _xs = _xs.filter(function (item) {\n      return item.workingTimeId !== null;\n    });\n\n    _xs.sort(function (a, b) {\n      return a.workingTimeId - b.workingTimeId;\n    });\n\n    var arr = [];\n    var result = [];\n\n    var arr_soft = _xs.reduce(function (rv, x) {\n      if (!rv.length || x.workingTimeId - rv[rv.length - 1].slice(-1)[0].workingTimeId !== 1) {\n        arr = [x];\n        rv.push(arr);\n      } else {\n        arr = rv[rv.length - 1];\n        arr.push(x);\n      }\n\n      return rv;\n    }, []);\n\n    if (arr_soft.length > 0) {\n      var _arr_soft$0$, _arr_soft$0$$timeRang, _arr_soft$, _arr_soft$$timeRange;\n\n      result.push({\n        from: (_arr_soft$0$ = arr_soft[0][0]) == null ? void 0 : (_arr_soft$0$$timeRang = _arr_soft$0$.timeRange) == null ? void 0 : _arr_soft$0$$timeRang.slice(0, 5),\n        to: (_arr_soft$ = arr_soft[0][arr_soft[0].length - 1]) == null ? void 0 : (_arr_soft$$timeRange = _arr_soft$.timeRange) == null ? void 0 : _arr_soft$$timeRange.slice(-5)\n      });\n\n      if (arr_soft.length > 1) {\n        var _arr_soft$2, _arr_soft$2$timeRange, _arr_soft, _arr_soft$timeRange;\n\n        result.push({\n          from: (_arr_soft$2 = arr_soft[arr_soft.length - 1][0]) == null ? void 0 : (_arr_soft$2$timeRange = _arr_soft$2.timeRange) == null ? void 0 : _arr_soft$2$timeRange.slice(0, 5),\n          to: (_arr_soft = arr_soft[arr_soft.length - 1][arr_soft[arr_soft.length - 1].length - 1]) == null ? void 0 : (_arr_soft$timeRange = _arr_soft.timeRange) == null ? void 0 : _arr_soft$timeRange.slice(-5)\n        });\n      }\n    }\n\n    return result;\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingHorizontal: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.titleHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitleHeader, {\n      textAlign: \"center\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"Weekly Dynamic Crew Schedule\"))), React.createElement(View, {\n    style: [styles.row_between, {\n      paddingVertical: 10\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.textGray,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, \"Start Time and End Time:\"), React.createElement(Text, {\n    style: styles.textTitleHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, moment(reports.fromDate).format(\"MMMM DD,YYYY\"))), React.createElement(View, {\n    style: {\n      borderRadius: 4,\n      marginTop: 6,\n      backgroundColor: colors.grayLight\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: [styles.radius_top, {\n      backgroundColor: \"#878787\",\n      padding: 15,\n      justifyContent: \"center\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitleHeader, {\n      alignSelf: \"center\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, valueTeam.name.toUpperCase() + \" TEAM\"), React.createElement(TouchableOpacity, {\n    style: {\n      position: \"absolute\",\n      alignSelf: \"flex-end\",\n      right: 15\n    },\n    onPress: function onPress() {\n      setShowPickerTeam(!showPickerTeam);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, React.createElement(Ionicons, {\n    name: \"caret-down\",\n    size: 20,\n    color: \"#fff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }))), listStaff.map(function (item, index) {\n    var _item$positionCode;\n\n    return React.createElement(View, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, React.createElement(ItemServiceTeam, {\n      item: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, React.createElement(View, {\n      style: {\n        paddingVertical: 10,\n        paddingHorizontal: 16\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, React.createElement(View, {\n      style: [styles.row_between, {\n        marginBottom: 10\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: [styles.textTitleHeader400, {\n        color: colors.gray\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }\n    }, \"Roster\"), React.createElement(Text, {\n      style: [styles.textTitleHeader400],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }, item.dutyName)), React.createElement(View, {\n      style: [styles.row_between, {\n        marginBottom: 10\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: [styles.textTitleHeader400, {\n        color: colors.gray\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 23\n      }\n    }, \"FT/PT\"), React.createElement(Text, {\n      style: [styles.textTitleHeader400],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 23\n      }\n    }, (_item$positionCode = item.positionCode) != null ? _item$positionCode : \"-\")), React.createElement(Dash, {\n      dashStyle: {\n        height: 0.5\n      },\n      dashColor: colors.colorLine,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }))), React.createElement(ScrollView, {\n      horizontal: true,\n      indicatorStyle: \"white\",\n      pagingEnabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, item.staffWorkingDay.map(function (day, indexDay) {\n      var _groupBy$, _groupBy$2, _groupBy$3, _groupBy$4;\n\n      return React.createElement(View, {\n        key: day.workingDate + \"  \" + indexDay,\n        style: [styles.staff, {\n          padding: 0,\n          marginHorizontal: 8,\n          width: dimensions.width - 46\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 23\n        }\n      }, React.createElement(View, {\n        style: styles.viewTitleFromTo,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 27\n        }\n      }, moment(day.workingDate).format(\"MMM - DD\")), React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 27\n        }\n      }, day.workingDateDay.toUpperCase())), React.createElement(View, {\n        style: styles.viewFromTo,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 27\n        }\n      }, \"FROM\"), React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 27\n        }\n      }, \"TO\"), React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 27\n        }\n      }, \"FROM\"), React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 27\n        }\n      }, \"TO\")), day.legendId == null ? React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 27\n        }\n      }, React.createElement(View, {\n        style: {\n          alignItems: \"center\",\n          backgroundColor: \"#8D7550\",\n          paddingVertical: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 31\n        }\n      }, \"Straight Shift or Split Shift\")), React.createElement(View, {\n        style: [styles.viewFromTo, {\n          borderBottomLeftRadius: 4,\n          borderBottomRightRadius: 4\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 31\n        }\n      }, get12HourTime((_groupBy$ = groupBy(day.staffWorkingDayTimeData)[0]) == null ? void 0 : _groupBy$.from)), React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 31\n        }\n      }, get12HourTime((_groupBy$2 = groupBy(day.staffWorkingDayTimeData)[0]) == null ? void 0 : _groupBy$2.to)), React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 31\n        }\n      }, groupBy(day.staffWorkingDayTimeData).length > 1 ? get12HourTime((_groupBy$3 = groupBy(day.staffWorkingDayTimeData)[1]) == null ? void 0 : _groupBy$3.from) : \"-\"), React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 31\n        }\n      }, groupBy(day.staffWorkingDayTimeData).length > 1 ? get12HourTime((_groupBy$4 = groupBy(day.staffWorkingDayTimeData)[1]) == null ? void 0 : _groupBy$4.to) : \"-\"))) : React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 27\n        }\n      }, React.createElement(View, {\n        style: {\n          alignItems: \"center\",\n          backgroundColor: \"#8D7550\",\n          paddingVertical: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.textTitleHeader400,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 31\n        }\n      }, \"Legend\")), React.createElement(View, {\n        style: [styles.viewFromTo, {\n          borderBottomLeftRadius: 4,\n          borderBottomRightRadius: 4\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        style: [styles.textTitleHeader400, {\n          width: \"45%\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 31\n        }\n      }, \"Legend: \" + (day.legendName ? day.legendName : \"-\")), React.createElement(Text, {\n        numberOfLines: 1,\n        style: [styles.textTitleHeader400, {\n          width: \"55%\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 31\n        }\n      }, \"Remark: \" + (day.remark ? day.remark : \"-\")))));\n    }))));\n  })), React.createElement(View, {\n    style: {\n      padding: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setModalSendMail(!modalSendMail);\n    },\n    style: {\n      width: 130,\n      alignSelf: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, React.createElement(LinearGradient, {\n    style: styles.buttonSend,\n    colors: [\"#DAB451\", \"#988050\"],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.textButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, \"Confirm\")))), React.createElement(ModalSendEmail, {\n    title: \"Weekly Dynamic Crew Schedule\",\n    visible: modalSendMail,\n    onRequestClose: function onRequestClose() {\n      setModalSendMail(!modalSendMail);\n    },\n    onRequestSend: function onRequestSend(description, email) {\n      handleSendMail(description, email);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }\n  }), React.createElement(SendSuccess, {\n    title: statusSent,\n    visible: sent === \"success\",\n    onRequestClose: function onRequestClose() {\n      return setSent(\"\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }\n  }), React.createElement(SendFail, {\n    title: statusSent,\n    visible: sent === \"fail\",\n    onRequestClose: function onRequestClose() {\n      return setSent(\"\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }\n  }), React.createElement(ModalPicker, {\n    visible: showPickerTeam,\n    data: recordAreas,\n    onRequestClose: function onRequestClose() {\n      return setShowPickerTeam(false);\n    },\n    onChange: function onChange(item) {\n      setValueTeam(item);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }\n  }), isLoading && React.createElement(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 21\n    }\n  }));\n};\n\nexport default WeeklyDynamicCrewSchedule;\nvar styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: 15\n  },\n  row_between: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  center: {\n    paddingVertical: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  titleHeader: {\n    paddingVertical: 16,\n    paddingHorizontal: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.colorLine\n  },\n  textTitleHeader: {\n    color: colors.colorText,\n    fontWeight: \"500\",\n    fontSize: 14\n  },\n  textGray: {\n    color: colors.gray,\n    fontWeight: \"400\",\n    fontSize: 14\n  },\n  radius_top: {\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4\n  },\n  textTitleHeader400: {\n    color: colors.colorText,\n    fontWeight: \"400\",\n    fontSize: 14\n  },\n  textButton: {\n    fontSize: 16,\n    color: colors.colorText\n  },\n  buttonSend: {\n    height: 36,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 4\n  },\n  viewTitleFromTo: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 5,\n    backgroundColor: \"#878787\",\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4\n  },\n  viewFromTo: {\n    flexDirection: \"row\",\n    paddingHorizontal: 16,\n    justifyContent: \"space-between\",\n    paddingVertical: 10,\n    backgroundColor: \"#3C3B3B\"\n  },\n  staff: {\n    backgroundColor: colors.grayLight,\n    borderRadius: 4,\n    marginBottom: 12\n  }\n});","map":{"version":3,"sources":["D:/angular/hts_reactnative/src/app/screens/details/TabManagement/StaffManagement/Reports/WeeklyDynamicCrewSchedule.tsx"],"names":["React","useState","useEffect","LinearGradient","colors","Ionicons","ItemServiceTeam","ModalSendEmail","SendSuccess","SendFail","ModalPicker","Dash","ReportStaffService","MailStaffService","Loading","initDataPicker","get12HourTime","moment","useSelector","WeeklyDynamicCrewSchedule","dimensions","Dimensions","get","reports","state","record_area","staff","isLoading","setIsLoading","modalSendMail","setModalSendMail","sent","setSent","statusSent","setStatusSent","listStaff","setListStaff","showPickerTeam","setShowPickerTeam","valueTeam","setValueTeam","recordAreas","setRecordAreas","handleSendMail","description","email","sendMailWeeklyDynamicCrewSchedule","fromDate","endDate","res","isSuccess","data","loadStaffByRecordArea","getListStaffWeeklyDynamicCrewSchedule","id","length","groupBy","xs","_xs","filter","v","i","a","findIndex","v2","workingTimeId","item","sort","b","arr","result","arr_soft","reduce","rv","x","slice","push","from","timeRange","to","styles","container","paddingHorizontal","titleHeader","textTitleHeader","textAlign","row_between","paddingVertical","textGray","format","borderRadius","marginTop","backgroundColor","grayLight","radius_top","padding","justifyContent","alignSelf","name","toUpperCase","position","right","map","index","marginBottom","textTitleHeader400","color","gray","dutyName","positionCode","height","colorLine","staffWorkingDay","day","indexDay","workingDate","marginHorizontal","width","viewTitleFromTo","workingDateDay","viewFromTo","legendId","alignItems","borderBottomLeftRadius","borderBottomRightRadius","staffWorkingDayTimeData","legendName","remark","buttonSend","textButton","StyleSheet","create","flexDirection","center","borderBottomWidth","borderBottomColor","colorText","fontWeight","fontSize","borderTopLeftRadius","borderTopRightRadius"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;;AAEA,SAASC,cAAT,QAA+B,sBAA/B;AAEA,SAASC,MAAT;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,OAAOC,eAAP;AAEA,OAAOC,cAAP;AACA,OAAOC,WAAP;AACA,OAAOC,QAAP;AACA,OAAOC,WAAP;AAEA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,SAAuBC,kBAAvB,EAA2CC,gBAA3C;AACA,OAAOC,OAAP;AACA,SAAkBC,cAAlB;AACA,SAASC,aAAT;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,WAAT,QAAyC,aAAzC;;AAEA,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;AACtC,MAAMC,UAAU,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,CAAnB;AACA,MAAMC,OAAO,GAAGL,WAAW,CAAC,UAACM,KAAD;AAAA,WAAsBA,KAAK,CAACD,OAA5B;AAAA,GAAD,CAA3B;AACA,MAAME,WAAW,GAAGP,WAAW,CAAC,UAACM,KAAD;AAAA,WAAsBA,KAAK,CAACE,KAAN,CAAYD,WAAlC;AAAA,GAAD,CAA/B;;AACA,kBAAkCxB,QAAQ,CAAC,KAAD,CAA1C;AAAA;AAAA,MAAO0B,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAA0C3B,QAAQ,CAAC,KAAD,CAAlD;AAAA;AAAA,MAAO4B,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,mBAAwB7B,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAO8B,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAoC/B,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOgC,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,mBAAkCjC,QAAQ,CAA2B,EAA3B,CAA1C;AAAA;AAAA,MAAOkC,SAAP;AAAA,MAAkBC,YAAlB;;AACA,oBAA4CnC,QAAQ,CAAC,KAAD,CAApD;AAAA;AAAA,MAAOoC,cAAP;AAAA,MAAuBC,iBAAvB;;AACA,oBAAkCrC,QAAQ,CAAUc,cAAV,CAA1C;AAAA;AAAA,MAAOwB,SAAP;AAAA,MAAkBC,YAAlB;;AAEA,oBAAsCvC,QAAQ,CAAY,EAAZ,CAA9C;AAAA;AAAA,MAAOwC,WAAP;AAAA,MAAoBC,cAApB;;AAEA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAOC,WAAP,EAA4BC,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBf,YAAAA,gBAAgB,CAAC,CAACD,aAAF,CAAhB;AACAD,YAAAA,YAAY,CAAC,IAAD,CAAZ;AAFqB;AAAA,6CAGHf,gBAAgB,CAACiC,iCAAjB,CAChBF,WADgB,EAEhBC,KAFgB,EAGhBtB,OAAO,CAACwB,QAHQ,EAIhBxB,OAAO,CAACyB,OAJQ,CAHG;;AAAA;AAGfC,YAAAA,GAHe;AASrBrB,YAAAA,YAAY,CAAC,KAAD,CAAZ;;AACA,gBAAIqB,GAAG,CAACC,SAAJ,IAAiB,CAAjB,IAAsBD,GAAG,CAACE,IAA9B,EAAoC;AAClCnB,cAAAA,OAAO,CAAC,SAAD,CAAP;AACAE,cAAAA,aAAa,CAAC,0BAAD,CAAb;AACD,aAHD,MAGO;AACLF,cAAAA,OAAO,CAAC,MAAD,CAAP;AACAE,cAAAA,aAAa,CAAC,oBAAD,CAAb;AACD;;AAhBoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAmBA,MAAMkB,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BxB,YAAAA,YAAY,CAAC,IAAD,CAAZ;AAD4B;AAAA,6CAEVhB,kBAAkB,CAACyC,qCAAnB,CAAyDd,SAAS,CAACe,EAAnE,EAAuE/B,OAAO,CAACwB,QAA/E,EAAyFxB,OAAO,CAACyB,OAAjG,CAFU;;AAAA;AAEtBC,YAAAA,GAFsB;;AAG5B,gBAAIA,GAAG,CAACC,SAAJ,IAAiB,CAAjB,IAAsBD,GAAG,CAACE,IAA9B,EAAoC;AAClC,kBAAIF,GAAG,CAACE,IAAJ,CAASI,MAAT,GAAkB,CAAtB,EAAyB;AACvBnB,gBAAAA,YAAY,CAACa,GAAG,CAACE,IAAL,CAAZ;AACD,eAFD,MAEO;AACLf,gBAAAA,YAAY,CAAC,EAAD,CAAZ;AACD;AACF;;AACDR,YAAAA,YAAY,CAAC,KAAD,CAAZ;;AAV4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA9B;;AAYA1B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIqC,SAAS,CAACe,EAAV,KAAiB,CAArB,EAAwBF,qBAAqB;AAC9C,GAFQ,EAEN,CAACb,SAAD,EAAYhB,OAAO,CAACwB,QAApB,EAA8BxB,OAAO,CAACyB,OAAtC,CAFM,CAAT;AAGA9C,EAAAA,SAAS,CAAC,YAAM;AACdwC,IAAAA,cAAc,CAACjB,WAAD,CAAd;AACAe,IAAAA,YAAY,CAACf,WAAW,CAAC,CAAD,CAAZ,CAAZ;AACD,GAHQ,EAGN,EAHM,CAAT;;AAKA,MAAM+B,OAAO,GAAG,SAAVA,OAAU,CAAUC,EAAV,EAAc;AAC5B,QAAIC,GAAG,GAAGD,EAAE,CAACE,MAAH,CAAU,UAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP;AAAA,aAAaA,CAAC,CAACC,SAAF,CAAY,UAAAC,EAAE;AAAA,eAAKA,EAAE,CAACC,aAAH,KAAqBL,CAAC,CAACK,aAA5B;AAAA,OAAd,MAA8DJ,CAA3E;AAAA,KAAV,CAAV;;AACAH,IAAAA,GAAG,GAAGA,GAAG,CAACC,MAAJ,CAAW,UAAAO,IAAI;AAAA,aAAIA,IAAI,CAACD,aAAL,KAAuB,IAA3B;AAAA,KAAf,CAAN;;AACAP,IAAAA,GAAG,CAACS,IAAJ,CAAS,UAACL,CAAD,EAAIM,CAAJ;AAAA,aAAUN,CAAC,CAACG,aAAF,GAAkBG,CAAC,CAACH,aAA9B;AAAA,KAAT;;AACA,QAAII,GAAG,GAAG,EAAV;AACA,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAMC,QAAQ,GAAGb,GAAG,CAACc,MAAJ,CAAW,UAAUC,EAAV,EAAcC,CAAd,EAAiB;AAC3C,UAAI,CAACD,EAAE,CAAClB,MAAJ,IAAcmB,CAAC,CAACT,aAAF,GAAkBQ,EAAE,CAACA,EAAE,CAAClB,MAAH,GAAY,CAAb,CAAF,CAAkBoB,KAAlB,CAAwB,CAAC,CAAzB,EAA4B,CAA5B,EAA+BV,aAAjD,KAAmE,CAArF,EAAwF;AACtFI,QAAAA,GAAG,GAAG,CAACK,CAAD,CAAN;AACAD,QAAAA,EAAE,CAACG,IAAH,CAAQP,GAAR;AACD,OAHD,MAGO;AACLA,QAAAA,GAAG,GAAGI,EAAE,CAACA,EAAE,CAAClB,MAAH,GAAY,CAAb,CAAR;AACAc,QAAAA,GAAG,CAACO,IAAJ,CAASF,CAAT;AACD;;AACD,aAAOD,EAAP;AACD,KATgB,EASd,EATc,CAAjB;;AAWA,QAAIF,QAAQ,CAAChB,MAAT,GAAkB,CAAtB,EAAyB;AAAA;;AACvBe,MAAAA,MAAM,CAACM,IAAP,CAAY;AAAEC,QAAAA,IAAI,kBAAEN,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,CAAF,8CAAE,aAAgBO,SAAlB,qBAAE,sBAA2BH,KAA3B,CAAiC,CAAjC,EAAoC,CAApC,CAAR;AAAgDI,QAAAA,EAAE,gBAAER,QAAQ,CAAC,CAAD,CAAR,CAAYA,QAAQ,CAAC,CAAD,CAAR,CAAYhB,MAAZ,GAAqB,CAAjC,CAAF,6CAAE,WAAqCuB,SAAvC,qBAAE,qBAAgDH,KAAhD,CAAsD,CAAC,CAAvD;AAApD,OAAZ;;AACA,UAAIJ,QAAQ,CAAChB,MAAT,GAAkB,CAAtB,EAAyB;AAAA;;AACvBe,QAAAA,MAAM,CAACM,IAAP,CAAY;AACVC,UAAAA,IAAI,iBAAEN,QAAQ,CAACA,QAAQ,CAAChB,MAAT,GAAkB,CAAnB,CAAR,CAA8B,CAA9B,CAAF,8CAAE,YAAkCuB,SAApC,qBAAE,sBAA6CH,KAA7C,CAAmD,CAAnD,EAAsD,CAAtD,CADI;AAEVI,UAAAA,EAAE,eAAER,QAAQ,CAACA,QAAQ,CAAChB,MAAT,GAAkB,CAAnB,CAAR,CAA8BgB,QAAQ,CAACA,QAAQ,CAAChB,MAAT,GAAkB,CAAnB,CAAR,CAA8BA,MAA9B,GAAuC,CAArE,CAAF,4CAAE,UAAyEuB,SAA3E,qBAAE,oBAAoFH,KAApF,CAA0F,CAAC,CAA3F;AAFM,SAAZ;AAID;AACF;;AACD,WAAOL,MAAP;AACD,GA3BD;;AA6BA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEU,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,iBAAiB,EAAE;AAArB,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEF,MAAM,CAACG,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACH,MAAM,CAACI,eAAR,EAAyB;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAzB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,CADF,CADF,EAME,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACL,MAAM,CAACM,WAAR,EAAqB;AAAEC,MAAAA,eAAe,EAAE;AAAnB,KAArB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEP,MAAM,CAACQ,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAER,MAAM,CAACI,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCnE,MAAM,CAACM,OAAO,CAACwB,QAAT,CAAN,CAAyB0C,MAAzB,CAAgC,cAAhC,CAAtC,CAFF,CANF,EAWE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,YAAY,EAAE,CADT;AAELC,MAAAA,SAAS,EAAE,CAFN;AAGLC,MAAAA,eAAe,EAAExF,MAAM,CAACyF;AAHnB,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE,CACLb,MAAM,CAACc,UADF,EAEL;AACEF,MAAAA,eAAe,EAAE,SADnB;AAEEG,MAAAA,OAAO,EAAE,EAFX;AAGEC,MAAAA,cAAc,EAAE;AAHlB,KAFK,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAAChB,MAAM,CAACI,eAAR,EAAyB;AAAEa,MAAAA,SAAS,EAAE;AAAb,KAAzB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoE1D,SAAS,CAAC2D,IAAV,CAAeC,WAAf,EAApE,WAVF,EAWE,oBAAC,gBAAD;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE,UAAZ;AAAwBH,MAAAA,SAAS,EAAE,UAAnC;AAA+CI,MAAAA,KAAK,EAAE;AAAtD,KADT;AAEE,IAAA,OAAO,EAAE,mBAAM;AACb/D,MAAAA,iBAAiB,CAAC,CAACD,cAAF,CAAjB;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAC,YAAf;AAA4B,IAAA,IAAI,EAAE,EAAlC;AAAsC,IAAA,KAAK,EAAC,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAXF,CAPF,EA2BGF,SAAS,CAACmE,GAAV,CAAc,UAACpC,IAAD,EAAOqC,KAAP,EAAiB;AAAA;;AAC9B,WACE,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAErC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEqB,QAAAA,eAAe,EAAE,EAAnB;AAAuBL,QAAAA,iBAAiB,EAAE;AAA1C,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACF,MAAM,CAACM,WAAR,EAAqB;AAAEkB,QAAAA,YAAY,EAAE;AAAhB,OAArB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACxB,MAAM,CAACyB,kBAAR,EAA4B;AAAEC,QAAAA,KAAK,EAAEtG,MAAM,CAACuG;AAAhB,OAA5B,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAAC3B,MAAM,CAACyB,kBAAR,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2CvC,IAAI,CAAC0C,QAAhD,CAFF,CADF,EAKE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAAC5B,MAAM,CAACM,WAAR,EAAqB;AAAEkB,QAAAA,YAAY,EAAE;AAAhB,OAArB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACxB,MAAM,CAACyB,kBAAR,EAA4B;AAAEC,QAAAA,KAAK,EAAEtG,MAAM,CAACuG;AAAhB,OAA5B,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAAC3B,MAAM,CAACyB,kBAAR,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA2CvC,IAAI,CAAC2C,YAAhD,iCAAgE,GAAhE,CAFF,CALF,EAUE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAjB;AAAkC,MAAA,SAAS,EAAE1G,MAAM,CAAC2G,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CADF,CADF,EAeE,oBAAC,UAAD;AAAY,MAAA,UAAU,MAAtB;AAAuB,MAAA,cAAc,EAAE,OAAvC;AAAgD,MAAA,aAAa,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG7C,IAAI,CAAC8C,eAAL,CAAqBV,GAArB,CAAyB,UAACW,GAAD,EAAMC,QAAN,EAAmB;AAAA;;AAC3C,aACE,oBAAC,IAAD;AACE,QAAA,GAAG,EAAKD,GAAG,CAACE,WAAT,UAAyBD,QAD9B;AAEE,QAAA,KAAK,EAAE,CAAClC,MAAM,CAACtD,KAAR,EAAe;AAAEqE,UAAAA,OAAO,EAAE,CAAX;AAAcqB,UAAAA,gBAAgB,EAAE,CAAhC;AAAmCC,UAAAA,KAAK,EAAEjG,UAAU,CAACiG,KAAX,GAAmB;AAA7D,SAAf,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAErC,MAAM,CAACsC,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEtC,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyCxF,MAAM,CAACgG,GAAG,CAACE,WAAL,CAAN,CAAwB1B,MAAxB,CAA+B,UAA/B,CAAzC,CADF,EAEE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAET,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyCQ,GAAG,CAACM,cAAJ,CAAmBpB,WAAnB,EAAzC,CAFF,CAJF,EAQE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEnB,MAAM,CAACwC,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAExC,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzB,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzB,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzB,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,CARF,EAcGQ,GAAG,CAACQ,QAAJ,IAAgB,IAAhB,GACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,KAAK,EAAE;AACLC,UAAAA,UAAU,EAAE,QADP;AAEL9B,UAAAA,eAAe,EAAE,SAFZ;AAGLL,UAAAA,eAAe,EAAE;AAHZ,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEP,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAPF,CADF,EAUE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAACzB,MAAM,CAACwC,UAAR,EAAoB;AAAEG,UAAAA,sBAAsB,EAAE,CAA1B;AAA6BC,UAAAA,uBAAuB,EAAE;AAAtD,SAApB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5C,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGzF,aAAa,cAACwC,OAAO,CAACyD,GAAG,CAACY,uBAAL,CAAP,CAAqC,CAArC,CAAD,qBAAC,UAAyChD,IAA1C,CADhB,CADF,EAIE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEG,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGzF,aAAa,eAACwC,OAAO,CAACyD,GAAG,CAACY,uBAAL,CAAP,CAAqC,CAArC,CAAD,qBAAC,WAAyC9C,EAA1C,CADhB,CAJF,EAOE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGjD,OAAO,CAACyD,GAAG,CAACY,uBAAL,CAAP,CAAqCtE,MAArC,GAA8C,CAA9C,GACGvC,aAAa,eAACwC,OAAO,CAACyD,GAAG,CAACY,uBAAL,CAAP,CAAqC,CAArC,CAAD,qBAAC,WAAyChD,IAA1C,CADhB,GAEG,GAHN,CAPF,EAYE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEG,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGjD,OAAO,CAACyD,GAAG,CAACY,uBAAL,CAAP,CAAqCtE,MAArC,GAA8C,CAA9C,GACGvC,aAAa,eAACwC,OAAO,CAACyD,GAAG,CAACY,uBAAL,CAAP,CAAqC,CAArC,CAAD,qBAAC,WAAyC9C,EAA1C,CADhB,GAEG,GAHN,CAZF,CAVF,CADD,GA+BC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,KAAK,EAAE;AACL2C,UAAAA,UAAU,EAAE,QADP;AAEL9B,UAAAA,eAAe,EAAE,SAFZ;AAGLL,UAAAA,eAAe,EAAE;AAHZ,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEP,MAAM,CAACyB,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CADF,EAUE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAACzB,MAAM,CAACwC,UAAR,EAAoB;AAAEG,UAAAA,sBAAsB,EAAE,CAA1B;AAA6BC,UAAAA,uBAAuB,EAAE;AAAtD,SAApB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,aAAa,EAAE,CAArB;AAAwB,QAAA,KAAK,EAAE,CAAC5C,MAAM,CAACyB,kBAAR,EAA4B;AAAEY,UAAAA,KAAK,EAAE;AAAT,SAA5B,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA0FJ,GAAG,CAACa,UAAJ,GAAiBb,GAAG,CAACa,UAArB,GAAkC,GAA5H,EADF,EAGE,oBAAC,IAAD;AAAM,QAAA,aAAa,EAAE,CAArB;AAAwB,QAAA,KAAK,EAAE,CAAC9C,MAAM,CAACyB,kBAAR,EAA4B;AAAEY,UAAAA,KAAK,EAAE;AAAT,SAA5B,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA0FJ,GAAG,CAACc,MAAJ,GAAad,GAAG,CAACc,MAAjB,GAA0B,GAApH,EAHF,CAVF,CA7CJ,CADF;AAkED,KAnEA,CADH,CAfF,CADF,CADF;AA0FD,GA3FA,CA3BH,CAXF,EAoIE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEhC,MAAAA,OAAO,EAAE;AAAX,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AACE,IAAA,OAAO,EAAE,mBAAM;AACbjE,MAAAA,gBAAgB,CAAC,CAACD,aAAF,CAAhB;AACD,KAHH;AAIE,IAAA,KAAK,EAAE;AAAEwF,MAAAA,KAAK,EAAE,GAAT;AAAcpB,MAAAA,SAAS,EAAE;AAAzB,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAEjB,MAAM,CAACgD,UAA9B;AAA0C,IAAA,MAAM,EAAE,CAAC,SAAD,EAAY,SAAZ,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEhD,MAAM,CAACiD,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CANF,CADF,CApIF,EAgJE,oBAAC,cAAD;AACE,IAAA,KAAK,EAAE,8BADT;AAEE,IAAA,OAAO,EAAEpG,aAFX;AAGE,IAAA,cAAc,EAAE,0BAAM;AACpBC,MAAAA,gBAAgB,CAAC,CAACD,aAAF,CAAhB;AACD,KALH;AAME,IAAA,aAAa,EAAE,uBAACe,WAAD,EAAcC,KAAd,EAAwB;AACrCF,MAAAA,cAAc,CAACC,WAAD,EAAcC,KAAd,CAAd;AACD,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhJF,EA0JE,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAEZ,UAApB;AAAgC,IAAA,OAAO,EAAEF,IAAI,KAAK,SAAlD;AAA6D,IAAA,cAAc,EAAE;AAAA,aAAMC,OAAO,CAAC,EAAD,CAAb;AAAA,KAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1JF,EA2JE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEC,UAAjB;AAA6B,IAAA,OAAO,EAAEF,IAAI,KAAK,MAA/C;AAAuD,IAAA,cAAc,EAAE;AAAA,aAAMC,OAAO,CAAC,EAAD,CAAb;AAAA,KAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3JF,EA4JE,oBAAC,WAAD;AACE,IAAA,OAAO,EAAEK,cADX;AAEE,IAAA,IAAI,EAAEI,WAFR;AAGE,IAAA,cAAc,EAAE;AAAA,aAAMH,iBAAiB,CAAC,KAAD,CAAvB;AAAA,KAHlB;AAIE,IAAA,QAAQ,EAAE,kBAAA4B,IAAI,EAAI;AAChB1B,MAAAA,YAAY,CAAC0B,IAAD,CAAZ;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5JF,EAoKGvC,SAAS,IAAI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApKhB,CADF;AAwKD,CA3PD;;AA6PA,eAAeR,yBAAf;AAEA,IAAM6D,MAAM,GAAGkD,UAAU,CAACC,MAAX,CAAkB;AAC/BlD,EAAAA,SAAS,EAAE;AACTC,IAAAA,iBAAiB,EAAE;AADV,GADoB;AAI/BI,EAAAA,WAAW,EAAE;AACX8C,IAAAA,aAAa,EAAE,KADJ;AAEXpC,IAAAA,cAAc,EAAE,eAFL;AAGX0B,IAAAA,UAAU,EAAE;AAHD,GAJkB;AAS/BW,EAAAA,MAAM,EAAE;AACN9C,IAAAA,eAAe,EAAE,EADX;AAENS,IAAAA,cAAc,EAAE,QAFV;AAGN0B,IAAAA,UAAU,EAAE;AAHN,GATuB;AAc/BvC,EAAAA,WAAW,EAAE;AACXI,IAAAA,eAAe,EAAE,EADN;AAEXL,IAAAA,iBAAiB,EAAE,EAFR;AAGXoD,IAAAA,iBAAiB,EAAE,CAHR;AAIXC,IAAAA,iBAAiB,EAAEnI,MAAM,CAAC2G;AAJf,GAdkB;AAoB/B3B,EAAAA,eAAe,EAAE;AACfsB,IAAAA,KAAK,EAAEtG,MAAM,CAACoI,SADC;AAEfC,IAAAA,UAAU,EAAE,KAFG;AAGfC,IAAAA,QAAQ,EAAE;AAHK,GApBc;AAyB/BlD,EAAAA,QAAQ,EAAE;AACRkB,IAAAA,KAAK,EAAEtG,MAAM,CAACuG,IADN;AAER8B,IAAAA,UAAU,EAAE,KAFJ;AAGRC,IAAAA,QAAQ,EAAE;AAHF,GAzBqB;AA8B/B5C,EAAAA,UAAU,EAAE;AACV6C,IAAAA,mBAAmB,EAAE,CADX;AAEVC,IAAAA,oBAAoB,EAAE;AAFZ,GA9BmB;AAkC/BnC,EAAAA,kBAAkB,EAAE;AAClBC,IAAAA,KAAK,EAAEtG,MAAM,CAACoI,SADI;AAElBC,IAAAA,UAAU,EAAE,KAFM;AAGlBC,IAAAA,QAAQ,EAAE;AAHQ,GAlCW;AAuC/BT,EAAAA,UAAU,EAAE;AACVS,IAAAA,QAAQ,EAAE,EADA;AAEVhC,IAAAA,KAAK,EAAEtG,MAAM,CAACoI;AAFJ,GAvCmB;AA2C/BR,EAAAA,UAAU,EAAE;AACVlB,IAAAA,MAAM,EAAE,EADE;AAEVd,IAAAA,cAAc,EAAE,QAFN;AAGV0B,IAAAA,UAAU,EAAE,QAHF;AAIVhC,IAAAA,YAAY,EAAE;AAJJ,GA3CmB;AAkD/B4B,EAAAA,eAAe,EAAE;AACfI,IAAAA,UAAU,EAAE,QADG;AAEf1B,IAAAA,cAAc,EAAE,QAFD;AAGfT,IAAAA,eAAe,EAAE,CAHF;AAIfK,IAAAA,eAAe,EAAE,SAJF;AAKf+C,IAAAA,mBAAmB,EAAE,CALN;AAMfC,IAAAA,oBAAoB,EAAE;AANP,GAlDc;AA0D/BpB,EAAAA,UAAU,EAAE;AACVY,IAAAA,aAAa,EAAE,KADL;AAEVlD,IAAAA,iBAAiB,EAAE,EAFT;AAGVc,IAAAA,cAAc,EAAE,eAHN;AAIVT,IAAAA,eAAe,EAAE,EAJP;AAKVK,IAAAA,eAAe,EAAE;AALP,GA1DmB;AAiE/BlE,EAAAA,KAAK,EAAE;AACLkE,IAAAA,eAAe,EAAExF,MAAM,CAACyF,SADnB;AAELH,IAAAA,YAAY,EAAE,CAFT;AAGLc,IAAAA,YAAY,EAAE;AAHT;AAjEwB,CAAlB,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, Text, View, TouchableOpacity, ScrollView, Dimensions } from \"react-native\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nimport { Icons, Images } from \"../../../../../assets\";\r\nimport { colors } from \"../../../../../utils/Colors\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport ItemServiceTeam from \"./items/itemServiceTeam\";\r\nimport { Table, Row } from \"react-native-table-component\";\r\nimport ModalSendEmail from \"../../../../../components/ModalSendEmail\";\r\nimport SendSuccess from \"../../../../../components/modalNotification/SendSuccess\";\r\nimport SendFail from \"../../../../../components/modalNotification/SendFail\";\r\nimport ModalPicker from \"../../../../../components/management/ModalPicker\";\r\nimport { dataTeam } from \"../../../../../components/management/contants\";\r\nimport Dash from \"react-native-dash\";\r\nimport { StaffService, ReportStaffService, MailStaffService } from \"../../../../../netWorking/staffService\";\r\nimport Loading from \"../../../../../components/dialogs/Loading\";\r\nimport { IPicker, initDataPicker, IStaffInfoByRecordArea } from \"../../../../../models/staffModel\";\r\nimport { get12HourTime } from \"../../../../../components/generalConvert/conVertMonDay\";\r\nimport moment from \"moment\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"../../../../../redux/reducers\";\r\nconst WeeklyDynamicCrewSchedule = () => {\r\n  const dimensions = Dimensions.get(\"window\");\r\n  const reports = useSelector((state: RootState) => state.reports);\r\n  const record_area = useSelector((state: RootState) => state.staff.record_area);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [modalSendMail, setModalSendMail] = useState(false);\r\n  const [sent, setSent] = useState(\"\");\r\n  const [statusSent, setStatusSent] = useState(\"\");\r\n\r\n  const [listStaff, setListStaff] = useState<IStaffInfoByRecordArea[]>([]);\r\n  const [showPickerTeam, setShowPickerTeam] = useState(false);\r\n  const [valueTeam, setValueTeam] = useState<IPicker>(initDataPicker);\r\n\r\n  const [recordAreas, setRecordAreas] = useState<IPicker[]>([]);\r\n\r\n  const handleSendMail = async (description: string, email: string) => {\r\n    setModalSendMail(!modalSendMail);\r\n    setIsLoading(true);\r\n    const res = await MailStaffService.sendMailWeeklyDynamicCrewSchedule(\r\n      description,\r\n      email,\r\n      reports.fromDate,\r\n      reports.endDate\r\n    );\r\n    setIsLoading(false);\r\n    if (res.isSuccess == 1 && res.data) {\r\n      setSent(\"success\");\r\n      setStatusSent(\"Email sent successfully!\");\r\n    } else {\r\n      setSent(\"fail\");\r\n      setStatusSent(\"Email sent failed!\");\r\n    }\r\n  };\r\n\r\n  const loadStaffByRecordArea = async () => {\r\n    setIsLoading(true);\r\n    const res = await ReportStaffService.getListStaffWeeklyDynamicCrewSchedule(valueTeam.id, reports.fromDate, reports.endDate);\r\n    if (res.isSuccess == 1 && res.data) {\r\n      if (res.data.length > 0) {\r\n        setListStaff(res.data);\r\n      } else {\r\n        setListStaff([]);\r\n      }\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    if (valueTeam.id !== 0) loadStaffByRecordArea();\r\n  }, [valueTeam, reports.fromDate, reports.endDate]);\r\n  useEffect(() => {\r\n    setRecordAreas(record_area);\r\n    setValueTeam(record_area[0]);\r\n  }, []);\r\n\r\n  const groupBy = function (xs) {\r\n    let _xs = xs.filter((v, i, a) => a.findIndex(v2 => (v2.workingTimeId === v.workingTimeId)) === i)\r\n    _xs = _xs.filter(item => item.workingTimeId !== null)\r\n    _xs.sort((a, b) => a.workingTimeId - b.workingTimeId);\r\n    let arr = [];\r\n    let result = [];\r\n    const arr_soft = _xs.reduce(function (rv, x) {\r\n      if (!rv.length || x.workingTimeId - rv[rv.length - 1].slice(-1)[0].workingTimeId !== 1) {\r\n        arr = [x];\r\n        rv.push(arr);\r\n      } else {\r\n        arr = rv[rv.length - 1];\r\n        arr.push(x);\r\n      }\r\n      return rv;\r\n    }, []);\r\n\r\n    if (arr_soft.length > 0) {\r\n      result.push({ from: arr_soft[0][0]?.timeRange?.slice(0, 5), to: arr_soft[0][arr_soft[0].length - 1]?.timeRange?.slice(-5) });\r\n      if (arr_soft.length > 1) {\r\n        result.push({\r\n          from: arr_soft[arr_soft.length - 1][0]?.timeRange?.slice(0, 5),\r\n          to: arr_soft[arr_soft.length - 1][arr_soft[arr_soft.length - 1].length - 1]?.timeRange?.slice(-5),\r\n        });\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={{ paddingHorizontal: 15 }}>\r\n        <View style={styles.titleHeader}>\r\n          <Text style={[styles.textTitleHeader, { textAlign: \"center\" }]}>Weekly Dynamic Crew Schedule</Text>\r\n        </View>\r\n      </View>\r\n      <View style={[styles.row_between, { paddingVertical: 10 }]}>\r\n        <Text style={styles.textGray}>Start Time and End Time:</Text>\r\n        <Text style={styles.textTitleHeader}>{moment(reports.fromDate).format(\"MMMM DD,YYYY\")}</Text>\r\n      </View>\r\n\r\n      <View\r\n        style={{\r\n          borderRadius: 4,\r\n          marginTop: 6,\r\n          backgroundColor: colors.grayLight,\r\n        }}\r\n      >\r\n        <View\r\n          style={[\r\n            styles.radius_top,\r\n            {\r\n              backgroundColor: \"#878787\",\r\n              padding: 15,\r\n              justifyContent: \"center\",\r\n            },\r\n          ]}\r\n        >\r\n          <Text style={[styles.textTitleHeader, { alignSelf: \"center\" }]}>{`${valueTeam.name.toUpperCase()} TEAM`}</Text>\r\n          <TouchableOpacity\r\n            style={{ position: \"absolute\", alignSelf: \"flex-end\", right: 15 }}\r\n            onPress={() => {\r\n              setShowPickerTeam(!showPickerTeam);\r\n            }}\r\n          >\r\n            <Ionicons name=\"caret-down\" size={20} color=\"#fff\"></Ionicons>\r\n          </TouchableOpacity>\r\n        </View>\r\n        {listStaff.map((item, index) => {\r\n          return (\r\n            <View key={index}>\r\n              <ItemServiceTeam item={item}>\r\n                <View style={{ paddingVertical: 10, paddingHorizontal: 16 }}>\r\n                  <View>\r\n                    <View style={[styles.row_between, { marginBottom: 10 }]}>\r\n                      <Text style={[styles.textTitleHeader400, { color: colors.gray }]}>Roster</Text>\r\n                      <Text style={[styles.textTitleHeader400]}>{item.dutyName}</Text>\r\n                    </View>\r\n                    <View style={[styles.row_between, { marginBottom: 10 }]}>\r\n                      <Text style={[styles.textTitleHeader400, { color: colors.gray }]}>FT/PT</Text>\r\n                      <Text style={[styles.textTitleHeader400]}>{item.positionCode ?? \"-\"}</Text>\r\n                    </View>\r\n\r\n                    <Dash dashStyle={{ height: 0.5 }} dashColor={colors.colorLine} />\r\n                  </View>\r\n                </View>\r\n                <ScrollView horizontal indicatorStyle={\"white\"} pagingEnabled>\r\n                  {item.staffWorkingDay.map((day, indexDay) => {\r\n                    return (\r\n                      <View\r\n                        key={`${day.workingDate}  ${indexDay}`}\r\n                        style={[styles.staff, { padding: 0, marginHorizontal: 8, width: dimensions.width - 46 }]}\r\n                      >\r\n                        <View style={styles.viewTitleFromTo}>\r\n                          <Text style={styles.textTitleHeader400}>{moment(day.workingDate).format(\"MMM - DD\")}</Text>\r\n                          <Text style={styles.textTitleHeader400}>{day.workingDateDay.toUpperCase()}</Text>\r\n                        </View>\r\n                        <View style={styles.viewFromTo}>\r\n                          <Text style={styles.textTitleHeader400}>FROM</Text>\r\n                          <Text style={styles.textTitleHeader400}>TO</Text>\r\n                          <Text style={styles.textTitleHeader400}>FROM</Text>\r\n                          <Text style={styles.textTitleHeader400}>TO</Text>\r\n                        </View>\r\n                        {day.legendId == null ? (\r\n                          <View>\r\n                            <View\r\n                              style={{\r\n                                alignItems: \"center\",\r\n                                backgroundColor: \"#8D7550\",\r\n                                paddingVertical: 10,\r\n                              }}\r\n                            >\r\n                              <Text style={styles.textTitleHeader400}>Straight Shift or Split Shift</Text>\r\n                            </View>\r\n                            <View style={[styles.viewFromTo, { borderBottomLeftRadius: 4, borderBottomRightRadius: 4 }]}>\r\n                              <Text style={styles.textTitleHeader400}>\r\n                                {get12HourTime(groupBy(day.staffWorkingDayTimeData)[0]?.from)}\r\n                              </Text>\r\n                              <Text style={styles.textTitleHeader400}>\r\n                                {get12HourTime(groupBy(day.staffWorkingDayTimeData)[0]?.to)}\r\n                              </Text>\r\n                              <Text style={styles.textTitleHeader400}>\r\n                                {groupBy(day.staffWorkingDayTimeData).length > 1\r\n                                  ? get12HourTime(groupBy(day.staffWorkingDayTimeData)[1]?.from)\r\n                                  : \"-\"}\r\n                              </Text>\r\n                              <Text style={styles.textTitleHeader400}>\r\n                                {groupBy(day.staffWorkingDayTimeData).length > 1\r\n                                  ? get12HourTime(groupBy(day.staffWorkingDayTimeData)[1]?.to)\r\n                                  : \"-\"}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                        ) : (\r\n                          <View>\r\n                            <View\r\n                              style={{\r\n                                alignItems: \"center\",\r\n                                backgroundColor: \"#8D7550\",\r\n                                paddingVertical: 10,\r\n                              }}\r\n                            >\r\n                              <Text style={styles.textTitleHeader400}>Legend</Text>\r\n                            </View>\r\n                            <View style={[styles.viewFromTo, { borderBottomLeftRadius: 4, borderBottomRightRadius: 4 }]}>\r\n                              <Text numberOfLines={1} style={[styles.textTitleHeader400, { width: \"45%\" }]}>{`Legend: ${day.legendName ? day.legendName : \"-\"\r\n                                }`}</Text>\r\n                              <Text numberOfLines={1} style={[styles.textTitleHeader400, { width: \"55%\" }]}>{`Remark: ${day.remark ? day.remark : \"-\"\r\n                                }`}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )}\r\n                      </View>\r\n                    );\r\n                  })}\r\n                </ScrollView>\r\n              </ItemServiceTeam>\r\n            </View>\r\n          );\r\n        })}\r\n      </View>\r\n\r\n      <View style={{ padding: 30 }}>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            setModalSendMail(!modalSendMail);\r\n          }}\r\n          style={{ width: 130, alignSelf: \"center\" }}\r\n        >\r\n          <LinearGradient style={styles.buttonSend} colors={[\"#DAB451\", \"#988050\"]}>\r\n            <Text style={styles.textButton}>Confirm</Text>\r\n          </LinearGradient>\r\n        </TouchableOpacity>\r\n      </View>\r\n      <ModalSendEmail\r\n        title={\"Weekly Dynamic Crew Schedule\"}\r\n        visible={modalSendMail}\r\n        onRequestClose={() => {\r\n          setModalSendMail(!modalSendMail);\r\n        }}\r\n        onRequestSend={(description, email) => {\r\n          handleSendMail(description, email);\r\n        }}\r\n      ></ModalSendEmail>\r\n      <SendSuccess title={statusSent} visible={sent === \"success\"} onRequestClose={() => setSent(\"\")}></SendSuccess>\r\n      <SendFail title={statusSent} visible={sent === \"fail\"} onRequestClose={() => setSent(\"\")}></SendFail>\r\n      <ModalPicker\r\n        visible={showPickerTeam}\r\n        data={recordAreas}\r\n        onRequestClose={() => setShowPickerTeam(false)}\r\n        onChange={item => {\r\n          setValueTeam(item);\r\n        }}\r\n      ></ModalPicker>\r\n      {isLoading && <Loading />}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default WeeklyDynamicCrewSchedule;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    paddingHorizontal: 15,\r\n  },\r\n  row_between: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  },\r\n  center: {\r\n    paddingVertical: 10,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  titleHeader: {\r\n    paddingVertical: 16,\r\n    paddingHorizontal: 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: colors.colorLine,\r\n  },\r\n  textTitleHeader: {\r\n    color: colors.colorText,\r\n    fontWeight: \"500\",\r\n    fontSize: 14,\r\n  },\r\n  textGray: {\r\n    color: colors.gray,\r\n    fontWeight: \"400\",\r\n    fontSize: 14,\r\n  },\r\n  radius_top: {\r\n    borderTopLeftRadius: 4,\r\n    borderTopRightRadius: 4,\r\n  },\r\n  textTitleHeader400: {\r\n    color: colors.colorText,\r\n    fontWeight: \"400\",\r\n    fontSize: 14,\r\n  },\r\n  textButton: {\r\n    fontSize: 16,\r\n    color: colors.colorText,\r\n  },\r\n  buttonSend: {\r\n    height: 36,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 4,\r\n  },\r\n\r\n  viewTitleFromTo: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingVertical: 5,\r\n    backgroundColor: \"#878787\",\r\n    borderTopLeftRadius: 4,\r\n    borderTopRightRadius: 4,\r\n  },\r\n  viewFromTo: {\r\n    flexDirection: \"row\",\r\n    paddingHorizontal: 16,\r\n    justifyContent: \"space-between\",\r\n    paddingVertical: 10,\r\n    backgroundColor: \"#3C3B3B\",\r\n  },\r\n  staff: {\r\n    backgroundColor: colors.grayLight,\r\n    borderRadius: 4,\r\n    marginBottom: 12,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}