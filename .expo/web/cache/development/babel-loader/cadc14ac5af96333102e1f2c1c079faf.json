{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\angular\\\\hts_reactnative\\\\src\\\\app\\\\screens\\\\bottomTabs\\\\TabProfileScreen.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { colors } from \"../../utils/Colors\";\nimport { Icons } from \"../../assets\";\nimport SvgUri from \"react-native-svg-uri\";\nimport moment from \"moment\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { UserService } from \"../../netWorking/userService\";\nimport { _getUserId, _removeToken } from \"../../netWorking/authService\";\nimport { Environment } from \"../../environment\";\nimport Constants from \"expo-constants\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nfunction TabProfileScreen(props) {\n  var _profile$phoneNumber, _profile$code, _profile$email, _profile$avatarBase, _profile$title, _profile$namePosition, _profile$workplace;\n\n  var _useSelector = useSelector(function (state) {\n    return state.profile;\n  }),\n      profile = _useSelector.profile;\n\n  var dispatch = useDispatch();\n  var dimensions = Dimensions.get('window');\n  var windowHeight = dimensions.height;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  var logOut = function logOut() {\n    return _regeneratorRuntime.async(function logOut$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsLogout(true);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var conformLogout = function conformLogout() {\n    var res;\n    return _regeneratorRuntime.async(function conformLogout$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(_removeToken());\n\n          case 2:\n            res = _context2.sent;\n\n            if (res == true) {\n              props.navigation.replace(\"Author\");\n            }\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLogout = _useState4[0],\n      setIsLogout = _useState4[1];\n\n  var editProfile = function editProfile() {\n    props.navigation.navigate(\"EmployeeEditProfile\");\n  };\n\n  var setting = function setting() {\n    return _regeneratorRuntime.async(function setting$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            props.navigation.navigate(\"Setting\");\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var changePassword = function changePassword() {\n    return _regeneratorRuntime.async(function changePassword$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            props.navigation.navigate(\"ChangePassword\");\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  function ItemInfo(title, value) {\n    return React.createElement(View, {\n      style: styles.itemInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: \"500\",\n        color: colors.gray\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, title), React.createElement(Text, {\n      style: {\n        fontWeight: \"600\",\n        color: colors.colorText\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, value));\n  }\n\n  var pickImage = function pickImage() {\n    var _await$ImagePicker$re, status, result, res;\n\n    return _regeneratorRuntime.async(function pickImage$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!(Platform.OS !== \"web\")) {\n              _context5.next = 8;\n              break;\n            }\n\n            _context5.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 3:\n            _await$ImagePicker$re = _context5.sent;\n            status = _await$ImagePicker$re.status;\n\n            if (!(status !== \"granted\")) {\n              _context5.next = 8;\n              break;\n            }\n\n            alert(\"Sorry, we need camera roll permissions to make this work!\");\n            return _context5.abrupt(\"return\");\n\n          case 8:\n            _context5.next = 10;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1,\n              base64: true\n            }));\n\n          case 10:\n            result = _context5.sent;\n\n            if (result.cancelled) {\n              _context5.next = 17;\n              break;\n            }\n\n            setImage(result.uri);\n            _context5.next = 15;\n            return _regeneratorRuntime.awrap(UserService.uploadAvatar(result.base64));\n\n          case 15:\n            res = _context5.sent;\n\n            if (res != null) {\n              setImage(Environment.apiPost + \"/\" + res.url);\n            }\n\n          case 17:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  function loadDataUser() {\n    var userId, res;\n    return _regeneratorRuntime.async(function loadDataUser$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return _regeneratorRuntime.awrap(_getUserId());\n\n          case 2:\n            userId = _context6.sent;\n            _context6.next = 5;\n            return _regeneratorRuntime.awrap(UserService.getUserById(userId));\n\n          case 5:\n            res = _context6.sent;\n\n            if (res) {\n              dispatch({\n                type: \"UPDATE_PROFILE\",\n                payload: res[0]\n              });\n\n              if (res[0].avatarBase64) {\n                setImage(Environment.apiPost + \"/\" + res[0].avatarBase64);\n              }\n            }\n\n          case 7:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    loadDataUser();\n  }, []);\n  return React.createElement(View, {\n    style: styles.profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.body,\n    showsVerticalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    style: styles.avatarImg,\n    source: image ? {\n      uri: image\n    } : Icons.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: pickImage,\n    style: {\n      position: \"absolute\",\n      width: 30,\n      height: 30,\n      bottom: 0,\n      right: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: Icons.camera,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }))), React.createElement(Text, {\n    style: styles.textName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, profile == null ? void 0 : profile.fullName), React.createElement(TouchableOpacity, {\n    onPress: editProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.textButtonEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"Employee Edit Profile \")), React.createElement(View, {\n    style: styles.containerInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, ItemInfo(\"BirthDay\", moment(profile == null ? void 0 : profile.birthday).format('MM/DD/YYYY')), ItemInfo(\"Telephone\", (_profile$phoneNumber = profile == null ? void 0 : profile.phoneNumber) != null ? _profile$phoneNumber : ''), ItemInfo(\"Employee Code\", (_profile$code = profile == null ? void 0 : profile.code) != null ? _profile$code : ''), ItemInfo(\"Gender\", profile != null && profile.gender ? 'Male' : 'Female'), ItemInfo(\"Email\", (_profile$email = profile == null ? void 0 : profile.email) != null ? _profile$email : ''), ItemInfo(\"Attached File\", (_profile$avatarBase = profile == null ? void 0 : profile.avatarBase64) != null ? _profile$avatarBase : ''), ItemInfo(\"Title\", (_profile$title = profile == null ? void 0 : profile.title) != null ? _profile$title : ''), ItemInfo(\"Position\", (_profile$namePosition = profile == null ? void 0 : profile.namePosition) != null ? _profile$namePosition : ''), ItemInfo(\"Workplace\", (_profile$workplace = profile == null ? void 0 : profile.workplace) != null ? _profile$workplace : ''))), React.createElement(TouchableOpacity, {\n    onPress: changePassword,\n    style: [styles.button, {\n      justifyContent: \"space-between\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, React.createElement(SvgUri, {\n    source: Icons.iconLock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.textButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"Change password\")), React.createElement(SvgUri, {\n    source: Icons.right_chevron,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: setting,\n    style: [styles.button, {\n      justifyContent: \"space-between\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, React.createElement(SvgUri, {\n    source: Icons.iconSetting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.textButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, \"Setting\")), React.createElement(SvgUri, {\n    source: Icons.right_chevron,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: logOut,\n    style: [styles.button, {\n      marginBottom: 24,\n      backgroundColor: \"#636363\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, React.createElement(SvgUri, {\n    source: Icons.logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.textButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, \"Logout\")), React.createElement(View, {\n    style: {\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginBottom: 74\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: '#A4A4A4'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 93\n    }\n  }, \"Ver: \", Constants.manifest.version))), React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: true,\n    visible: isLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: [styles.centeredView, styles.modelCategory, {\n      justifyContent: 'flex-start',\n      paddingTop: 200,\n      height: windowHeight\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [styles.modalView, {\n      backgroundColor: \"#414141\",\n      paddingLeft: 15,\n      paddingRight: 15\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: {\n      paddingTop: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: [styles.title, {\n      textAlign: 'center'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, \"Do you want to Logout?\")), React.createElement(View, {\n    style: {\n      marginTop: 20,\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.rowButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, React.createElement(TouchableHighlight, {\n    style: {\n      borderRadius: 4\n    },\n    underlayColor: colors.yellowishbrown,\n    onPress: function onPress() {\n      setIsLogout(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.buttonClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, \"Close\"))), React.createElement(TouchableHighlight, {\n    style: {\n      borderRadius: 4\n    },\n    underlayColor: colors.yellowishbrown,\n    onPress: function onPress() {\n      conformLogout();\n      setIsLogout(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.buttonSend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, \"Logout\")))))))));\n}\n\nexport default TabProfileScreen;\nvar styles = StyleSheet.create({\n  profile: {\n    flex: 1,\n    backgroundColor: colors.backgroundApp\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: '600',\n    lineHeight: 24,\n    color: colors.white\n  },\n  text: {\n    color: colors.white,\n    fontSize: 14,\n    fontWeight: '600'\n  },\n  container: {\n    backgroundColor: colors.grayLight,\n    width: \"100%\",\n    alignItems: \"center\",\n    borderRadius: 4,\n    padding: 15\n  },\n  body: {\n    paddingHorizontal: 15,\n    paddingTop: 40,\n    height: \"100%\"\n  },\n  avatarImg: {\n    width: 140,\n    height: 140,\n    borderColor: \"#fff\",\n    borderWidth: 2,\n    borderRadius: 100\n  },\n  textName: {\n    color: \"#fff\",\n    fontSize: 17,\n    fontWeight: \"600\",\n    marginTop: 15\n  },\n  textButtonEdit: {\n    color: \"#DAB451\",\n    marginTop: 5\n  },\n  containerInfo: {\n    width: \"100%\",\n    paddingVertical: 5,\n    borderColor: colors.gray,\n    borderTopWidth: 1,\n    marginTop: 20\n  },\n  itemInfo: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginTop: 15\n  },\n  button: {\n    height: 46,\n    flexDirection: \"row\",\n    marginTop: 10,\n    backgroundColor: '#636363',\n    width: \"100%\",\n    borderRadius: 4,\n    paddingHorizontal: 18,\n    alignItems: \"center\"\n  },\n  textButton: {\n    color: \"#fff\",\n    fontSize: 16,\n    marginLeft: 10\n  },\n  centeredView: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: 15,\n    paddingRight: 15,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  modelCategory: {\n    zIndex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'flex-start',\n    paddingTop: 190\n  },\n  modalView: {\n    backgroundColor: colors.white,\n    width: 360,\n    height: 200,\n    marginLeft: 15,\n    marginRight: 15,\n    borderRadius: 4,\n    paddingBottom: 20,\n    justifyContent: 'space-between',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  modalForm: {\n    width: 360,\n    marginBottom: 95,\n    backgroundColor: \"#414141\",\n    marginLeft: 15,\n    marginRight: 15,\n    borderRadius: 4,\n    paddingBottom: 20,\n    justifyContent: 'flex-start',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  titleModal: {\n    alignItems: 'center',\n    padding: 15\n  },\n  rowButton: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  buttonClose: {\n    height: 36,\n    width: 150,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#636363',\n    borderRadius: 4\n  },\n  buttonSend: {\n    height: 36,\n    width: 150,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#DAB451',\n    borderRadius: 4\n  }\n});","map":{"version":3,"sources":["D:/angular/hts_reactnative/src/app/screens/bottomTabs/TabProfileScreen.tsx"],"names":["React","useState","useEffect","colors","Icons","SvgUri","moment","ImagePicker","UserService","_getUserId","_removeToken","Environment","Constants","useSelector","useDispatch","TabProfileScreen","props","state","profile","dispatch","dimensions","Dimensions","get","windowHeight","height","image","setImage","logOut","setIsLogout","conformLogout","res","navigation","replace","isLogout","editProfile","navigate","setting","changePassword","ItemInfo","title","value","styles","itemInfo","fontWeight","color","gray","colorText","pickImage","Platform","OS","requestMediaLibraryPermissionsAsync","status","alert","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","base64","result","cancelled","uri","uploadAvatar","apiPost","url","loadDataUser","userId","getUserById","type","payload","avatarBase64","body","container","avatarImg","avatar","position","width","bottom","right","camera","textName","fullName","textButtonEdit","containerInfo","birthday","format","phoneNumber","code","gender","email","namePosition","workplace","button","justifyContent","flexDirection","iconLock","textButton","right_chevron","iconSetting","marginBottom","backgroundColor","logout","alignItems","manifest","version","centeredView","modelCategory","paddingTop","modalView","paddingLeft","paddingRight","textAlign","marginTop","rowButton","borderRadius","yellowishbrown","buttonClose","text","buttonSend","StyleSheet","create","flex","backgroundApp","fontSize","lineHeight","white","grayLight","padding","paddingHorizontal","borderColor","borderWidth","paddingVertical","borderTopWidth","marginLeft","zIndex","marginRight","paddingBottom","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","modalForm","titleModal"],"mappings":"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","sourcesContent":["import { StackNavigationProp } from \"@react-navigation/stack\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  Image,\r\n  Platform,\r\n  Modal,\r\n  TouchableHighlight,\r\n  Dimensions,\r\n} from \"react-native\";\r\nimport { StyleSheet } from \"react-native\";\r\nimport { TabProfileParamList } from \"../../types\";\r\nimport { colors } from \"../../utils/Colors\";\r\nimport { Icons } from \"../../assets\";\r\nimport SvgUri from \"react-native-svg-uri\";\r\nimport moment from \"moment\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport { UserService } from \"../../netWorking/userService\";\r\nimport { _getUserId, _removeToken } from \"../../netWorking/authService\";\r\nimport { Environment } from \"../../environment\";\r\nimport { RouteProp } from \"@react-navigation/native\";\r\nimport Constants from \"expo-constants\"\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"../../redux/reducers\";\r\ninterface Props {\r\n  navigation: StackNavigationProp<TabProfileParamList>;\r\n  route: RouteProp<TabProfileParamList, \"TabProfileScreen\">;\r\n}\r\n\r\nfunction TabProfileScreen(props: Props) {\r\n  const { profile } = useSelector((state: RootState) => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n  const dimensions = Dimensions.get('window');\r\n  const windowHeight = dimensions.height;\r\n\r\n  const [image, setImage] = useState(\"\");\r\n  const logOut = async () => {\r\n    setIsLogout(true);\r\n  };\r\n\r\n  const conformLogout = async () => {\r\n    const res = await _removeToken();\r\n    if (res == true) {\r\n      props.navigation.replace(\"Author\");\r\n    }\r\n  }\r\n  const [isLogout, setIsLogout] = useState(false);\r\n  const editProfile = () => {\r\n    props.navigation.navigate(\"EmployeeEditProfile\");\r\n  };\r\n  const setting = async () => {\r\n    props.navigation.navigate(\"Setting\");\r\n  };\r\n  const changePassword = async () => {\r\n    props.navigation.navigate(\"ChangePassword\");\r\n  };\r\n  function ItemInfo(title: string, value: string) {\r\n    return (\r\n      <View style={styles.itemInfo}>\r\n        <Text style={{ fontWeight: \"500\", color: colors.gray }}>{title}</Text>\r\n        <Text style={{ fontWeight: \"600\", color: colors.colorText }}>\r\n          {value}\r\n        </Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const pickImage = async () => {\r\n    if (Platform.OS !== \"web\") {\r\n      const { status } =\r\n        await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n      if (status !== \"granted\") {\r\n        alert(\"Sorry, we need camera roll permissions to make this work!\");\r\n        return;\r\n      }\r\n    }\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n      quality: 1,\r\n      base64: true\r\n    });\r\n    if (!result.cancelled) {\r\n      setImage(result.uri);\r\n      const res = await UserService.uploadAvatar(result.base64);\r\n      if (res != null) {\r\n        setImage(`${Environment.apiPost}/${res.url}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  async function loadDataUser() {\r\n    let userId = await _getUserId();\r\n    const res = await UserService.getUserById(userId);\r\n    if (res) {\r\n      dispatch({ type: \"UPDATE_PROFILE\", payload: res[0] });\r\n      if (res[0].avatarBase64) {\r\n        setImage(`${Environment.apiPost}/${res[0].avatarBase64}`);\r\n      }\r\n    }\r\n\r\n  }\r\n  useEffect(() => {\r\n    loadDataUser();\r\n  }, [])\r\n  return (\r\n    <View style={styles.profile}>\r\n      <ScrollView style={styles.body} showsVerticalScrollIndicator={false}>\r\n        <View style={styles.container}>\r\n          <View>\r\n            <Image\r\n              style={styles.avatarImg}\r\n              source={image ? { uri: image } : Icons.avatar}\r\n            />\r\n\r\n            <TouchableOpacity\r\n              onPress={pickImage}\r\n              style={{\r\n                position: \"absolute\",\r\n                width: 30,\r\n                height: 30,\r\n                bottom: 0,\r\n                right: 10,\r\n              }}\r\n            >\r\n              <Image source={Icons.camera}></Image>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <Text style={styles.textName}>{profile?.fullName}</Text>\r\n          <TouchableOpacity onPress={editProfile}>\r\n            <Text style={styles.textButtonEdit}>Employee Edit Profile </Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={styles.containerInfo}>\r\n            {ItemInfo(\"BirthDay\", moment(profile?.birthday).format('MM/DD/YYYY'))}\r\n            {ItemInfo(\"Telephone\", profile?.phoneNumber ?? '')}\r\n            {ItemInfo(\"Employee Code\", profile?.code ?? '')}\r\n            {ItemInfo(\"Gender\", (profile?.gender ? 'Male' : 'Female'))}\r\n            {ItemInfo(\"Email\", profile?.email ?? '')}\r\n            {ItemInfo(\"Attached File\", profile?.avatarBase64 ?? '')}\r\n            {ItemInfo(\"Title\", profile?.title ?? '')}\r\n            {ItemInfo(\"Position\", profile?.namePosition ?? '')}\r\n            {ItemInfo(\"Workplace\", profile?.workplace ?? '')}\r\n          </View>\r\n        </View>\r\n        <TouchableOpacity\r\n          onPress={changePassword}\r\n          style={[styles.button, { justifyContent: \"space-between\" }]}\r\n        >\r\n          <View style={{ flexDirection: \"row\" }}>\r\n            <SvgUri source={Icons.iconLock} />\r\n            <Text style={styles.textButton}>Change password</Text>\r\n          </View>\r\n          <SvgUri source={Icons.right_chevron} />\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          onPress={setting}\r\n          style={[styles.button, { justifyContent: \"space-between\" }]}\r\n        >\r\n          <View style={{ flexDirection: \"row\" }}>\r\n            <SvgUri source={Icons.iconSetting} />\r\n            <Text style={styles.textButton}>Setting</Text>\r\n          </View>\r\n          <SvgUri source={Icons.right_chevron} />\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          onPress={logOut}\r\n          style={[\r\n            styles.button,\r\n            { marginBottom: 24, backgroundColor: \"#636363\" },\r\n          ]}\r\n        >\r\n          <SvgUri source={Icons.logout} />\r\n          <Text style={styles.textButton}>Logout</Text>\r\n        </TouchableOpacity>\r\n        <View style={{ justifyContent: 'center', alignItems: 'center', marginBottom: 74, }}><Text style={{ color: '#A4A4A4' }}>Ver: {Constants.manifest.version}</Text></View>\r\n      </ScrollView>\r\n      <Modal\r\n        animationType=\"fade\"\r\n        transparent={true}\r\n        visible={isLogout}\r\n      >\r\n        <View style={[styles.centeredView, styles.modelCategory, { justifyContent: 'flex-start', paddingTop: 200, height: windowHeight, }]}>\r\n          <View style={[styles.modalView, { backgroundColor: \"#414141\", paddingLeft: 15, paddingRight: 15 }]}>\r\n\r\n            <View style={{}}>\r\n              <Text style={{}}></Text>\r\n            </View>\r\n\r\n            <View style={{ paddingTop: 0 }}>\r\n              <Text style={[styles.title, { textAlign: 'center' }]}>Do you want to Logout?</Text>\r\n            </View>\r\n            <View style={{ marginTop: 20, flexDirection: 'row', alignItems: 'center' }}>\r\n              <View style={styles.rowButton}>\r\n                <TouchableHighlight\r\n                  style={{ borderRadius: 4 }}\r\n                  underlayColor={colors.yellowishbrown}\r\n                  onPress={() => {\r\n                    setIsLogout(false);\r\n                  }}\r\n                >\r\n                  <View style={styles.buttonClose}>\r\n                    <Text style={styles.text}>Close</Text>\r\n                  </View>\r\n                </TouchableHighlight>\r\n                <TouchableHighlight\r\n                  style={{ borderRadius: 4 }}\r\n                  underlayColor={colors.yellowishbrown}\r\n                  onPress={() => {\r\n                    conformLogout();\r\n                    setIsLogout(false);\r\n                  }}\r\n                >\r\n                  <View style={styles.buttonSend}>\r\n                    <Text style={styles.text}>Logout</Text>\r\n                  </View>\r\n                </TouchableHighlight>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport default TabProfileScreen;\r\nconst styles = StyleSheet.create({\r\n  profile: {\r\n    flex: 1,\r\n    backgroundColor: colors.backgroundApp,\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n    lineHeight: 24,\r\n    color: colors.white\r\n  },\r\n  text: {\r\n    color: colors.white,\r\n    fontSize: 14,\r\n    fontWeight: '600'\r\n  },\r\n  container: {\r\n    backgroundColor: colors.grayLight,\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    borderRadius: 4,\r\n    padding: 15,\r\n  },\r\n  body: {\r\n    paddingHorizontal: 15,\r\n    paddingTop: 40,\r\n    height: \"100%\",\r\n  },\r\n  avatarImg: {\r\n    width: 140,\r\n    height: 140,\r\n    borderColor: \"#fff\",\r\n    borderWidth: 2,\r\n    borderRadius: 100,\r\n  },\r\n  textName: {\r\n    color: \"#fff\",\r\n    fontSize: 17,\r\n    fontWeight: \"600\",\r\n    marginTop: 15,\r\n  },\r\n  textButtonEdit: {\r\n    color: \"#DAB451\",\r\n    marginTop: 5,\r\n  },\r\n  containerInfo: {\r\n    width: \"100%\",\r\n    paddingVertical: 5,\r\n    borderColor: colors.gray,\r\n    borderTopWidth: 1,\r\n    marginTop: 20,\r\n  },\r\n  itemInfo: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: 15,\r\n  },\r\n  button: {\r\n    height: 46,\r\n    flexDirection: \"row\",\r\n    marginTop: 10,\r\n    backgroundColor: '#636363',\r\n    width: \"100%\",\r\n    borderRadius: 4,\r\n    paddingHorizontal: 18,\r\n    alignItems: \"center\",\r\n  },\r\n  textButton: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginLeft: 10,\r\n  },\r\n  centeredView: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    paddingLeft: 15,\r\n    paddingRight: 15,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\r\n  },\r\n  modelCategory: {\r\n    zIndex: 1,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    justifyContent: 'flex-start',\r\n    paddingTop: 190,\r\n  },\r\n  modalView: {\r\n    backgroundColor: colors.white,\r\n    width: 360,\r\n    height: 200,\r\n    marginLeft: 15,\r\n    marginRight: 15,\r\n    borderRadius: 4,\r\n    paddingBottom: 20,\r\n    justifyContent: 'space-between',\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 4,\r\n    elevation: 5\r\n  },\r\n  modalForm: {\r\n    width: 360,\r\n    marginBottom: 95,\r\n    backgroundColor: \"#414141\",\r\n    marginLeft: 15,\r\n    marginRight: 15,\r\n    borderRadius: 4,\r\n    paddingBottom: 20,\r\n    justifyContent: 'flex-start',\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 4,\r\n    elevation: 5\r\n  },\r\n  titleModal: {\r\n    // borderBottomWidth: 1,\r\n    // borderBottomColor: colors.gray,\r\n    alignItems: 'center',\r\n    padding: 15\r\n  },\r\n  rowButton: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  buttonClose: {\r\n    height: 36,\r\n    width: 150,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#636363',\r\n    borderRadius: 4,\r\n  },\r\n  buttonSend: {\r\n    height: 36,\r\n    width: 150,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#DAB451',\r\n    borderRadius: 4,\r\n  },\r\n});\r\n\r\n"]},"metadata":{},"sourceType":"module"}