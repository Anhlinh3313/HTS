{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\angular\\\\hts_reactnative\\\\src\\\\app\\\\screens\\\\details\\\\TabManagement\\\\StaffManagement\\\\ListOfStaff\\\\listOfStaff.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { colors } from \"../../../../../utils/Colors\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport moment from \"moment\";\nimport DateTimePicker from \"../../../../../components/datetimepicker\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport PickerModel from \"../../../../../components/picker/PickerModel\";\nimport ModalSendEmail from \"../../../../../components/ModalSendEmail\";\nimport ItemStaff from \"./items/itemStaff\";\nimport ItemStaffDone from \"./items/itemStaffDone\";\nimport { ValidateEmail, isPhoneNumber, getMonday, getDaysArray } from \"../../../../../components/management/utils\";\nimport { StaffService, MailStaffService } from \"../../../../../netWorking/staffService\";\nimport Loading from \"../../../../../components/dialogs/Loading\";\nimport PickerFormInput from \"../../../../../components/PickerFormInput\";\nimport SendSuccess from \"../../../../../components/modalNotification/SendSuccess\";\nimport SendFail from \"../../../../../components/modalNotification/SendFail\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { checkRole } from \"../../../../../components/generalConvert/roles\";\nexport default function ListOfStaff(props) {\n  var _this = this;\n\n  var dimensions = Dimensions.get(\"window\");\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.staff;\n  }),\n      staffs = _useSelector.staffs,\n      legends = _useSelector.legends,\n      record_area = _useSelector.record_area,\n      reset = _useSelector.reset;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.accesses;\n  }),\n      access = _useSelector2.access;\n\n  var _useSelector3 = useSelector(function (state) {\n    return state.workplace;\n  }),\n      workPlace = _useSelector3.workPlace;\n\n  var _useSelector4 = useSelector(function (state) {\n    return state.profile;\n  }),\n      info = _useSelector4.info;\n\n  var PAGE_SIZE = 20;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sent = _useState4[0],\n      setSent = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      statusSent = _useState6[0],\n      setStatusSent = _useState6[1];\n\n  var outletModel = [{\n    label: \"Spa\",\n    value: 1\n  }, {\n    label: \"Ola Restaurant\",\n    value: 2\n  }];\n\n  var _useState7 = useState(2),\n      _useState8 = _slicedToArray(_useState7, 2),\n      outlet = _useState8[0],\n      setOutlet = _useState8[1];\n\n  var initDataPicker = {\n    id: 0,\n    code: \"\",\n    name: \"\"\n  };\n  var inputStaff = {\n    firstName: \"\",\n    lastName: \"\",\n    dutyId: null,\n    positionId: 0,\n    recordAreaId: 0,\n    email: \"\",\n    phone: \"\",\n    titleId: null,\n    WorkplaceId: 0\n  };\n\n  var _useState9 = useState(initDataPicker),\n      _useState10 = _slicedToArray(_useState9, 2),\n      valueRecordArea = _useState10[0],\n      setValueRecordArea = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      recordAreas = _useState12[0],\n      setRecordAreas = _useState12[1];\n\n  var _useState13 = useState(initDataPicker),\n      _useState14 = _slicedToArray(_useState13, 2),\n      pickerValuePosition = _useState14[0],\n      setPickerValuePosition = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      positions = _useState16[0],\n      setPositions = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      duties = _useState18[0],\n      setDuties = _useState18[1];\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      titles = _useState20[0],\n      setTitles = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      visibleModalPicker = _useState22[0],\n      setVisibleModalPicker = _useState22[1];\n\n  var _useState23 = useState(inputStaff),\n      _useState24 = _slicedToArray(_useState23, 2),\n      inputCreateStaff = _useState24[0],\n      setInputCreateStaff = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      isShowCreateForm = _useState26[0],\n      setIsShowCreateForm = _useState26[1];\n\n  var _useState27 = useState(false),\n      _useState28 = _slicedToArray(_useState27, 2),\n      modalSendMail = _useState28[0],\n      setModalSendMail = _useState28[1];\n\n  var _useState29 = useState([]),\n      _useState30 = _slicedToArray(_useState29, 2),\n      dataStaffs = _useState30[0],\n      setDataStaffs = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      isDone = _useState32[0],\n      setDone = _useState32[1];\n\n  var _useState33 = useState(false),\n      _useState34 = _slicedToArray(_useState33, 2),\n      isMount = _useState34[0],\n      setIsMount = _useState34[1];\n\n  var toDate = new Date();\n  var endWeekDay = new Date().setDate(getMonday(toDate).getDate() + 6);\n\n  if (getMonday(toDate).getMonth() < toDate.getMonth()) {\n    endWeekDay = new Date(new Date().setMonth(toDate.getMonth() - 1)).setDate(getMonday(toDate).getDate() + 6);\n  }\n\n  var _useState35 = useState(moment(getMonday(toDate)).format(\"YYYY-MM-DD 00:00\")),\n      _useState36 = _slicedToArray(_useState35, 2),\n      fromDateTime = _useState36[0],\n      setFromDateTime = _useState36[1];\n\n  var _useState37 = useState(moment(endWeekDay).format(\"YYYY-MM-DD 23:59\")),\n      _useState38 = _slicedToArray(_useState37, 2),\n      endDateTime = _useState38[0],\n      setEndDateTime = _useState38[1];\n\n  var _useState39 = useState(getDaysArray(getMonday(toDate), new Date(endWeekDay))),\n      _useState40 = _slicedToArray(_useState39, 2),\n      DateInWeek = _useState40[0],\n      setDateInWeek = _useState40[1];\n\n  var handleChangeDate = function handleChangeDate(date) {\n    var _date = new Date(moment(date).format(\"YYYY-MM-DD\"));\n\n    var endWeekDay = new Date(_date).setDate(getMonday(_date).getDate() + 6);\n\n    if (getMonday(_date).getMonth() < new Date(endWeekDay).getMonth()) {\n      endWeekDay = new Date(new Date().setMonth(_date.getMonth() - 1)).setDate(getMonday(_date).getDate() + 6);\n    }\n\n    setDateInWeek(getDaysArray(getMonday(_date), new Date(endWeekDay)));\n    setFromDateTime(moment(getMonday(_date)).format(\"YYYY-MM-DD 00:00\"));\n    setEndDateTime(moment(endWeekDay).format(\"YYYY-MM-DD 23:59\"));\n  };\n\n  var onPickerListStaff = function onPickerListStaff(value) {\n    loadStaffInfo(null, pickerValuePosition.id, value.id);\n    setValueRecordArea(value);\n    setVisibleModalPicker(\"\");\n  };\n\n  var onPickerPosition = function onPickerPosition(value) {\n    loadStaffInfo(null, value.id, valueRecordArea.id);\n    setPickerValuePosition(value);\n    setVisibleModalPicker(\"\");\n  };\n\n  var onHandleShowModal = function onHandleShowModal(type) {\n    if (visibleModalPicker === \"\") {\n      setVisibleModalPicker(type);\n    } else setVisibleModalPicker(\"\");\n  };\n\n  var onCreateStaff = function onCreateStaff() {\n    var _objectSpread2;\n\n    setInputCreateStaff(_objectSpread(_objectSpread({}, inputStaff), (_objectSpread2 = {}, _defineProperty(_objectSpread2, \"positionId\", positions[0].id), _defineProperty(_objectSpread2, \"recordAreaId\", recordAreas[0].id), _defineProperty(_objectSpread2, \"titleId\", titles[0].id), _defineProperty(_objectSpread2, \"WorkplaceId\", workPlace.value), _objectSpread2)));\n    setIsShowCreateForm(true);\n  };\n\n  var onHideFormCreateStaff = function onHideFormCreateStaff() {\n    setIsShowCreateForm(false);\n  };\n\n  var onSubmitFormCreateStaff = function onSubmitFormCreateStaff() {\n    var res;\n    return _regeneratorRuntime.async(function onSubmitFormCreateStaff$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(inputCreateStaff.firstName === \"\")) {\n              _context.next = 3;\n              break;\n            }\n\n            alert(\"First Name cannot be blank!\");\n            return _context.abrupt(\"return\");\n\n          case 3:\n            if (!(inputCreateStaff.lastName === \"\")) {\n              _context.next = 6;\n              break;\n            }\n\n            alert(\"Last Name cannot be blank!\");\n            return _context.abrupt(\"return\");\n\n          case 6:\n            if (!(inputCreateStaff.email === \"\")) {\n              _context.next = 9;\n              break;\n            }\n\n            alert(\"Email cannot be blank!\");\n            return _context.abrupt(\"return\");\n\n          case 9:\n            if (!(inputCreateStaff.phone === \"\")) {\n              _context.next = 12;\n              break;\n            }\n\n            alert(\"Phone cannot be blank!\");\n            return _context.abrupt(\"return\");\n\n          case 12:\n            if (!(inputCreateStaff.firstName.length === 1)) {\n              _context.next = 15;\n              break;\n            }\n\n            alert(\"First Name minimum 2 characters!\");\n            return _context.abrupt(\"return\");\n\n          case 15:\n            if (!(inputCreateStaff.lastName.length === 1)) {\n              _context.next = 18;\n              break;\n            }\n\n            alert(\"Last Name minimum 2 characters!\");\n            return _context.abrupt(\"return\");\n\n          case 18:\n            if (ValidateEmail(inputCreateStaff.email)) {\n              _context.next = 21;\n              break;\n            }\n\n            alert(\"Email invalid!\");\n            return _context.abrupt(\"return\");\n\n          case 21:\n            if (isPhoneNumber(inputCreateStaff.phone)) {\n              _context.next = 24;\n              break;\n            }\n\n            alert('Phone must start with \"0\" and have 10 to 11 characters!');\n            return _context.abrupt(\"return\");\n\n          case 24:\n            if (!(inputCreateStaff.WorkplaceId === 0)) {\n              _context.next = 27;\n              break;\n            }\n\n            alert('No workplace yet, please recreate later!');\n            return _context.abrupt(\"return\");\n\n          case 27:\n            setIsLoading(true);\n            _context.next = 30;\n            return _regeneratorRuntime.awrap(StaffService.createStaff(inputCreateStaff));\n\n          case 30:\n            res = _context.sent;\n            setIsLoading(false);\n\n            if (res.isSuccess == 1) {\n              setSent(\"success\");\n              setStatusSent(\"Created new staff!\");\n            } else {\n              setSent(\"fail\");\n              setStatusSent(\"Create new staff fail!\");\n            }\n\n            setIsShowCreateForm(false);\n\n          case 34:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var onChangeFormStaff = function onChangeFormStaff(key, value) {\n    setInputCreateStaff(_objectSpread(_objectSpread({}, inputCreateStaff), _defineProperty({}, key, value)));\n  };\n\n  var handleSendmail = function handleSendmail() {\n    setModalSendMail(!modalSendMail);\n  };\n\n  var loadStaffInfo = function loadStaffInfo() {\n    var staffId,\n        positionId,\n        recordAreaId,\n        pageNum,\n        res,\n        itemWorkingFullTime,\n        staffWorkingDayTimeDataFullTime,\n        itemWorkingPartTime,\n        listStaffId,\n        listStaff,\n        resStaffInfo,\n        listStaffInfo,\n        _listStaffInfo,\n        resPartTime,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.async(function loadStaffInfo$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            staffId = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : null;\n            positionId = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : null;\n            recordAreaId = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : null;\n            pageNum = _args2.length > 3 && _args2[3] !== undefined ? _args2[3] : 1;\n            setIsMount(true);\n            setIsLoading(true);\n\n            if (!(checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") && !checkRole(access, \"Part TIme Roster/Schedule (Management)\") && !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\"))) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(StaffService.getStaffInfo(info == null ? void 0 : info.staffId, null, null, null, pageNum, PAGE_SIZE));\n\n          case 9:\n            res = _context2.sent;\n            _context2.next = 15;\n            break;\n\n          case 12:\n            _context2.next = 14;\n            return _regeneratorRuntime.awrap(StaffService.getStaffInfo(staffId, positionId, recordAreaId, workPlace.value, pageNum, PAGE_SIZE));\n\n          case 14:\n            res = _context2.sent;\n\n          case 15:\n            if (!(res.isSuccess == 1 && res.data)) {\n              _context2.next = 38;\n              break;\n            }\n\n            itemWorkingFullTime = [];\n            staffWorkingDayTimeDataFullTime = [];\n            itemWorkingPartTime = [];\n            listStaffId = [];\n            listStaff = [];\n            DateInWeek.map(function (item) {\n              if (positionId === 1) {\n                itemWorkingFullTime.push({\n                  IsSplit: null,\n                  LegendId: null,\n                  IsCheckIn: null,\n                  Remark: null,\n                  WorkingDate: item,\n                  TotalWorkingTime: 0,\n                  WorkingWeekTime: null\n                });\n                staffWorkingDayTimeDataFullTime.push({\n                  WorkingDate: item,\n                  legendName: null,\n                  legendId: null,\n                  remark: null,\n                  staffWorkingDayTimeData: []\n                });\n              }\n\n              if (positionId === 2) {\n                itemWorkingPartTime.push({\n                  rank: moment(item).format(\"dddd\"),\n                  day: +moment(item).format(\"DD\"),\n                  freeDate: item,\n                  staffFreeTimeList: null\n                });\n              }\n            });\n            res.data.map(function (item) {\n              listStaffId.push({\n                StaffId: item.id\n              });\n              listStaff.push(_objectSpread(_objectSpread({}, item), {}, {\n                isConfirm: false,\n                saved: false,\n                edited: false,\n                workingScheduleData: positionId === 1 ? itemWorkingFullTime : itemWorkingPartTime,\n                staffWorkingDayTimeData: positionId === 1 ? staffWorkingDayTimeDataFullTime : []\n              }));\n            });\n\n            if (!(positionId === 1)) {\n              _context2.next = 30;\n              break;\n            }\n\n            _context2.next = 26;\n            return _regeneratorRuntime.awrap(StaffService.GetListOfStarf(fromDateTime, endDateTime, listStaffId));\n\n          case 26:\n            resStaffInfo = _context2.sent;\n            listStaffInfo = [];\n\n            if (resStaffInfo.isSuccess == 1 && resStaffInfo.data) {\n              if (resStaffInfo.data.length > 0) {\n                resStaffInfo.data.map(function (item) {\n                  var arrTime = [].concat(itemWorkingFullTime);\n                  var arrTimeV2 = [].concat(staffWorkingDayTimeDataFullTime);\n                  item.staffWorkingDay.map(function (time) {\n                    var index = arrTime.findIndex(function (i) {\n                      return i.WorkingDate.slice(0, 10) == time.workingDate.slice(0, 10);\n                    });\n\n                    if (index !== -1) {\n                      var WorkingWeekTime = [];\n                      var arrStaffWorkingDayTimeData = [];\n                      var isOT = false;\n\n                      if (time.staffWorkingDayTimeData && time.staffWorkingDayTimeData[0].workingTimeId) {\n                        time.staffWorkingDayTimeData.map(function (iTime) {\n                          if (iTime.workingTimeId !== null) {\n                            arrStaffWorkingDayTimeData.push(iTime.workingTimeId);\n                            isOT = iTime.isOT;\n                          }\n                        });\n                        WorkingWeekTime = [{\n                          WorkingWeekTimeId: arrStaffWorkingDayTimeData,\n                          timeId: arrStaffWorkingDayTimeData,\n                          timeSplitId: [],\n                          OT: isOT\n                        }];\n                      }\n\n                      arrTime[index] = {\n                        IsSplit: null,\n                        LegendId: time.legendName ? legends.find(function (item) {\n                          return item.name == time.legendName;\n                        }) ? legends.find(function (item) {\n                          return item.name == time.legendName;\n                        }).id : null : null,\n                        IsCheckIn: null,\n                        Remark: time.remark,\n                        WorkingDate: time.workingDate,\n                        TotalWorkingTime: time.staffWorkingDayTimeData ? time.staffWorkingDayTimeData[0].workingTimeId ? time.staffWorkingDayTimeData.length : 0 : 0,\n                        WorkingWeekTime: WorkingWeekTime.length > 0 ? WorkingWeekTime : null\n                      };\n                    }\n\n                    var indexV2 = arrTimeV2.findIndex(function (i) {\n                      return i.WorkingDate.slice(0, 10) == time.workingDate.slice(0, 10);\n                    });\n\n                    if (indexV2 !== -1) {\n                      arrTimeV2[index] = {\n                        IsSplit: null,\n                        LegendId: time.legendName ? legends.find(function (item) {\n                          return item.name == time.legendName;\n                        }) ? legends.find(function (item) {\n                          return item.name == time.legendName;\n                        }).id : null : null,\n                        legendName: time.legendName,\n                        Remark: time.remark,\n                        WorkingDate: time.workingDate,\n                        staffWorkingDayTimeData: time.staffWorkingDayTimeData.length > 0 ? time.staffWorkingDayTimeData : null\n                      };\n                    }\n                  });\n                  listStaffInfo.push({\n                    id: item.staffId,\n                    isConfirm: true,\n                    workingScheduleData: arrTime,\n                    workingScheduleDataV2: arrTimeV2\n                  });\n                });\n              }\n            }\n\n            listStaffInfo.map(function (staff) {\n              var iStaff = listStaff.findIndex(function (i) {\n                return i.id == staff.id;\n              });\n\n              if (iStaff !== -1) {\n                listStaff[iStaff].isConfirm = staff.isConfirm;\n                listStaff[iStaff].saved = true;\n                listStaff[iStaff].workingScheduleData = staff.workingScheduleData;\n                listStaff[iStaff].staffWorkingDayTimeData = staff.workingScheduleDataV2;\n              }\n            });\n\n          case 30:\n            if (!(positionId === 2)) {\n              _context2.next = 37;\n              break;\n            }\n\n            _listStaffInfo = [];\n            _context2.next = 34;\n            return _regeneratorRuntime.awrap(StaffService.getFreeStaff(fromDateTime, endDateTime, recordAreaId));\n\n          case 34:\n            resPartTime = _context2.sent;\n\n            if (resPartTime.isSuccess == 1 && resPartTime.data) {\n              if (resPartTime.data.length > 0) {\n                resPartTime.data.map(function (item) {\n                  var arrPartTime = JSON.parse(JSON.stringify(itemWorkingPartTime));\n                  item.staffFreeTimeInfo.map(function (time) {\n                    var index = arrPartTime.findIndex(function (i) {\n                      return i.freeDate.slice(0, 10) == time.freeDate.slice(0, 10);\n                    });\n\n                    if (index !== -1) {\n                      var _staffFreeTimeList = time.staffFreeTimeList.filter(function (_item) {\n                        return _item.timeRange !== null;\n                      });\n\n                      arrPartTime[index].staffFreeTimeList = _staffFreeTimeList;\n                      arrPartTime[index].day = time.day;\n                      arrPartTime[index].rank = time.rank;\n                    }\n                  });\n\n                  _listStaffInfo.push({\n                    id: item.staffId,\n                    isConfirm: true,\n                    workingScheduleData: arrPartTime\n                  });\n                });\n              }\n            }\n\n            _listStaffInfo.map(function (staff) {\n              var iStaff = listStaff.findIndex(function (i) {\n                return i.id == staff.id;\n              });\n\n              if (iStaff !== -1) {\n                listStaff[iStaff].isConfirm = staff.isConfirm;\n                listStaff[iStaff].saved = true;\n                listStaff[iStaff].workingScheduleData = staff.workingScheduleData;\n              }\n            });\n\n          case 37:\n            dispatch({\n              type: \"GET_STAFFS\",\n              payload: listStaff\n            });\n\n          case 38:\n            setIsLoading(false);\n\n          case 39:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadAllPosition = function loadAllPosition() {\n    var res, listData;\n    return _regeneratorRuntime.async(function loadAllPosition$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(StaffService.getAllPosition());\n\n          case 2:\n            res = _context3.sent;\n\n            if (res.isSuccess == 1 && res.data) {\n              listData = [];\n              res.data.map(function (item) {\n                if (item.isEnabled) {\n                  listData.push({\n                    id: item.id,\n                    code: item.code,\n                    name: item.name\n                  });\n                }\n              });\n              setPickerValuePosition(listData[0]);\n              setPositions(listData);\n            }\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadAllDuty = function loadAllDuty() {\n    var res, listData;\n    return _regeneratorRuntime.async(function loadAllDuty$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(StaffService.getAllDuty());\n\n          case 2:\n            res = _context4.sent;\n\n            if (res.isSuccess == 1 && res.data) {\n              listData = [];\n              res.data.map(function (item) {\n                if (item.isEnabled) {\n                  listData.push({\n                    id: item.id,\n                    code: item.code,\n                    name: item.name\n                  });\n                }\n              });\n              setDuties(listData);\n            }\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loadAllTitle = function loadAllTitle() {\n    var res, listData;\n    return _regeneratorRuntime.async(function loadAllTitle$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(StaffService.getTitle(\"\", 1, 100, null, workPlace.value));\n\n          case 2:\n            res = _context5.sent;\n\n            if (res.isSuccess == 1 && res.data) {\n              listData = [];\n              res.data.map(function (item) {\n                listData.push({\n                  id: item.id,\n                  code: item.id,\n                  name: item.title\n                });\n              });\n              setTitles(listData);\n            }\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleSubmitWorking = function handleSubmitWorking() {\n    var req, res;\n    return _regeneratorRuntime.async(function handleSubmitWorking$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            req = [];\n            staffs.map(function (staff) {\n              if (staff.edited) {\n                var listWorking = [];\n                staff.workingScheduleData.map(function (item) {\n                  if (item.WorkingWeekTime !== null || item.LegendId !== null) {\n                    listWorking.push(item);\n                  }\n                });\n                req.push({\n                  StaffId: staff.id,\n                  WorkingScheduleData: listWorking\n                });\n              }\n            });\n            _context6.next = 4;\n            return _regeneratorRuntime.awrap(StaffService.createWorking(req));\n\n          case 4:\n            res = _context6.sent;\n\n            if (!(res.isSuccess == 1 && res.data)) {\n              _context6.next = 9;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", true);\n\n          case 9:\n            return _context6.abrupt(\"return\", false);\n\n          case 10:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var sendMailWorkingTime = function sendMailWorkingTime(description, email) {\n    var submit, req, res;\n    return _regeneratorRuntime.async(function sendMailWorkingTime$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            setModalSendMail(!modalSendMail);\n            setIsLoading(true);\n            submit = false;\n\n            if (!(pickerValuePosition.id === 1)) {\n              _context7.next = 7;\n              break;\n            }\n\n            _context7.next = 6;\n            return _regeneratorRuntime.awrap(handleSubmitWorking());\n\n          case 6:\n            submit = _context7.sent;\n\n          case 7:\n            if (pickerValuePosition.id === 2) {\n              submit = true;\n            }\n\n            if (!submit) {\n              _context7.next = 18;\n              break;\n            }\n\n            req = [];\n            staffs.map(function (staff) {\n              req.push({\n                DateTime: moment(fromDateTime).format(\"YYYY-MM-DD HH:mm:ss\"),\n                StaffId: staff.id,\n                Description: description,\n                Mail: staff.email\n              });\n            });\n            _context7.next = 13;\n            return _regeneratorRuntime.awrap(MailStaffService.sendMailWorkingTimeByStaff(req));\n\n          case 13:\n            res = _context7.sent;\n            setIsLoading(false);\n\n            if (res.isSuccess == 1 && res.data) {\n              setSent(\"success\");\n              setStatusSent(\"Email sent successfully!\");\n            } else {\n              setIsLoading(false);\n              setSent(\"fail\");\n              setStatusSent(\"Email sent failed!\");\n            }\n\n            _context7.next = 20;\n            break;\n\n          case 18:\n            setSent(\"fail\");\n            setStatusSent(\"Schedule work failed!\");\n\n          case 20:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleViewReport = function handleViewReport() {\n    return _regeneratorRuntime.async(function handleViewReport$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (pickerValuePosition.id === 1) {\n              props.navigation.navigate(\"Reports\", {\n                title: \"BACK OFFICE - STAFF MANAGEMENT\",\n                id: 1,\n                data: {\n                  valueRecordArea: valueRecordArea,\n                  fromDateTime: fromDateTime,\n                  endDateTime: endDateTime\n                }\n              });\n            }\n\n            if (pickerValuePosition.id === 2) {\n              props.navigation.navigate(\"Reports\", {\n                title: \"BACK OFFICE - STAFF MANAGEMENT\",\n                id: 5\n              });\n            }\n\n          case 2:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    setValueRecordArea(record_area[0]);\n    setRecordAreas(record_area);\n    loadAllPosition();\n    loadAllDuty();\n  }, []);\n  useEffect(function () {\n    loadAllTitle();\n  }, [workPlace]);\n  useEffect(function () {\n    if (!isMount && pickerValuePosition.id && valueRecordArea.id) {\n      if (checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") || checkRole(access, \"Part TIme Roster/Schedule (Management)\")) {\n        if (!checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\n          if (checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") && !checkRole(access, \"Part TIme Roster/Schedule (Management)\") && !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\n            loadStaffInfo(null, 2, null);\n          } else {\n            loadStaffInfo(null, 2, valueRecordArea.id);\n          }\n        } else {\n          loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\n        }\n      } else {\n        loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\n      }\n    }\n  }, [pickerValuePosition, valueRecordArea]);\n  useEffect(function () {\n    if (isMount) {\n      if (checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") || checkRole(access, \"Part TIme Roster/Schedule (Management)\")) {\n        if (!checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\n          if (checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") && !checkRole(access, \"Part TIme Roster/Schedule (Management)\") && !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\n            loadStaffInfo(null, 2, null);\n          } else {\n            loadStaffInfo(null, 2, valueRecordArea.id);\n          }\n        } else {\n          loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\n        }\n      } else {\n        loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\n      }\n    }\n  }, [endDateTime, fromDateTime, reset]);\n  useEffect(function () {\n    if (staffs.some(function (item) {\n      return item.isConfirm === true;\n    })) {\n      setDone(true);\n    } else {\n      setDone(false);\n    }\n\n    setDataStaffs(staffs);\n  }, [staffs]);\n\n  var onchangeOutlet = function onchangeOutlet(data) {\n    return _regeneratorRuntime.async(function onchangeOutlet$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            setOutlet(data);\n\n          case 1:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var ViewPicker = function ViewPicker(type, data) {\n    var _valueRecordArea$name, _pickerValuePosition$;\n\n    return React.createElement(View, {\n      style: {\n        zIndex: Platform.OS === \"ios\" ? type === \"list\" ? 4 : 3 : undefined\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 7\n      }\n    }, React.createElement(TouchableWithoutFeedback, {\n      onPress: function onPress() {\n        onHandleShowModal(type);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.picker,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.text,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 13\n      }\n    }, type === \"list\" ? (_valueRecordArea$name = valueRecordArea == null ? void 0 : valueRecordArea.name) != null ? _valueRecordArea$name : \"\" : (_pickerValuePosition$ = pickerValuePosition == null ? void 0 : pickerValuePosition.name) != null ? _pickerValuePosition$ : \"\"), React.createElement(Ionicons, {\n      style: styles.iconDownPicker,\n      name: \"caret-down\",\n      size: 20,\n      color: colors.colorText,\n      onPress: function onPress() {\n        onHandleShowModal(type);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 13\n      }\n    }))), visibleModalPicker === type && React.createElement(View, {\n      style: styles.listPicker,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 11\n      }\n    }, data.map(function (item) {\n      return React.createElement(TouchableOpacity, {\n        key: item.id,\n        style: styles.itemPicker,\n        onPress: type === \"list\" ? function () {\n          return onPickerListStaff(item);\n        } : function () {\n          return onPickerPosition(item);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.textItemPicker,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 19\n        }\n      }, item.name));\n    })));\n  };\n\n  var itemInput = function itemInput(title, placeholder, type, maxLength, value, _onChangeText) {\n    return React.createElement(View, {\n      style: {\n        marginBottom: 15\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.textTitleItemInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }\n    }, title), React.createElement(TextInput, {\n      style: [styles.itemInput],\n      placeholder: placeholder,\n      placeholderTextColor: colors.gray,\n      keyboardType: type,\n      maxLength: maxLength,\n      value: value,\n      onChangeText: function onChangeText(text) {\n        return _onChangeText(text);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var viewFormCreate = function viewFormCreate() {\n    return React.createElement(View, {\n      style: [styles.formCreate, {\n        marginBottom: dataStaffs.length === 0 ? 200 : 12\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: styles.itemFormCreate,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: styles.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 11\n      }\n    }, \"New staff\"), React.createElement(TouchableOpacity, {\n      onPress: onHideFormCreateStaff,\n      style: {\n        position: \"absolute\",\n        right: 0,\n        top: 9\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 11\n      }\n    }, React.createElement(Ionicons, {\n      name: \"close-circle\",\n      size: 20,\n      color: colors.colorLine,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 13\n      }\n    }))), itemInput(\"First Name\", \"Type first name\", \"default\", 35, inputCreateStaff.firstName, function (text) {\n      return onChangeFormStaff(\"firstName\", text);\n    }), itemInput(\"Last Name\", \"Type last name\", \"default\", 20, inputCreateStaff.lastName, function (text) {\n      return onChangeFormStaff(\"lastName\", text);\n    }), React.createElement(PickerFormInput, {\n      items: titles,\n      title: \"Title\",\n      onChoose: function onChoose(value) {\n        onChangeFormStaff(\"titleId\", value.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 9\n      }\n    }), React.createElement(PickerFormInput, {\n      items: positions,\n      title: \"Position\",\n      onChoose: function onChoose(value) {\n        onChangeFormStaff(\"positionId\", value.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 9\n      }\n    }), React.createElement(PickerFormInput, {\n      items: recordAreas,\n      title: \"Record Area\",\n      onChoose: function onChoose(value) {\n        onChangeFormStaff(\"recordAreaId\", value.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 9\n      }\n    }), itemInput(\"Email\", \"Type your email\", \"email-address\", 255, inputCreateStaff.email, function (text) {\n      return onChangeFormStaff(\"email\", text);\n    }), itemInput(\"Phone\", \"Type your phone\", \"number-pad\", 11, inputCreateStaff.phone, function (text) {\n      return onChangeFormStaff(\"phone\", text);\n    }), React.createElement(View, {\n      style: {\n        flexDirection: \"row\",\n        marginBottom: 24,\n        marginTop: 10,\n        flex: 1\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 9\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: onHideFormCreateStaff,\n      style: [styles.buttonForm, {\n        backgroundColor: \"#636363\",\n        marginRight: 15\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.textButtonForm,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 13\n      }\n    }, \"Cancel\")), React.createElement(LinearGradient, {\n      style: styles.buttonForm,\n      colors: [\"#DAB451\", \"#988050\"],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 11\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: onSubmitFormCreateStaff,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.textButtonForm,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 15\n      }\n    }, \"Save\")))));\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 7\n    }\n  }, React.createElement(PickerModel, {\n    data: outletModel,\n    defaultValue: \"Ola Restaurant\",\n    onSelectedValue: function onSelectedValue(value) {\n      onchangeOutlet(value.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.line,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 9\n    }\n  }), React.createElement(DateTimePicker, {\n    onSubmitFromDate: function onSubmitFromDate(date) {\n      return handleChangeDate(date);\n    },\n    onSubmitEndDate: function onSubmitEndDate(date) {\n      return handleChangeDate(date);\n    },\n    fromDate: fromDateTime,\n    endDate: endDateTime,\n    checkkNotEndDate: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      paddingHorizontal: 15,\n      minHeight: dimensions.height\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 9\n    }\n  }, checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") && !checkRole(access, \"Part TIme Roster/Schedule (Management)\") && !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") ? React.createElement(View, {\n    style: {\n      zIndex: Platform.OS === \"ios\" ? 2 : undefined\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 13\n    }\n  }) : React.createElement(View, {\n    style: {\n      zIndex: Platform.OS === \"ios\" ? 2 : undefined\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 723,\n      columnNumber: 13\n    }\n  }, isDone ? React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      marginBottom: 10,\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.textListOfStaff,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 733,\n      columnNumber: 19\n    }\n  }, \"List Of Staff\"), React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 19\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      handleSendmail();\n    },\n    style: [styles.buttonSend, {\n      backgroundColor: \"#636363\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.textButtonCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 23\n    }\n  }, \"Send\")), !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") ? React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 23\n    }\n  }) : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      handleViewReport();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 23\n    }\n  }, React.createElement(LinearGradient, {\n    style: styles.buttonSend,\n    colors: [\"#DAB451\", \"#988050\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.textButtonCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 752,\n      columnNumber: 27\n    }\n  }, \"View\"))))) : React.createElement(View, {\n    style: {\n      zIndex: Platform.OS === \"ios\" ? 2 : undefined\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 759,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: {\n      zIndex: Platform.OS === \"ios\" ? 3 : undefined\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 19\n    }\n  }, ViewPicker(\"list\", recordAreas), checkRole(access, \"Part TIme Roster/Schedule (Management)\") && checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") && ViewPicker(\"position\", positions)), React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 19\n    }\n  }, checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") && React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      marginVertical: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 23\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      handleSendmail();\n    },\n    style: [styles.buttonSend, {\n      backgroundColor: \"#636363\",\n      marginLeft: undefined\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.textButtonCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 27\n    }\n  }, \"Send\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      handleViewReport();\n    },\n    style: [styles.buttonSend, {\n      backgroundColor: \"#636363\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.textButtonCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 27\n    }\n  }, \"View\"))), checkRole(access, \"Create new Staff\") && React.createElement(LinearGradient, {\n    style: [styles.buttonCreate],\n    colors: [\"#DAB451\", \"#988050\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 23\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: onCreateStaff,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.textButtonCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 27\n    }\n  }, \"Create new staff\")))), isShowCreateForm && viewFormCreate())), dataStaffs.map(function (staff, indexStaff) {\n    return React.createElement(View, {\n      key: indexStaff,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 15\n      }\n    }, staff.isConfirm ? React.createElement(ItemStaffDone, {\n      data: staff,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 36\n      }\n    }) : React.createElement(ItemStaff, {\n      data: staff,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 83\n      }\n    }));\n  }))), React.createElement(ModalSendEmail, {\n    visible: modalSendMail,\n    onRequestClose: function onRequestClose() {\n      setModalSendMail(!modalSendMail);\n    },\n    onRequestSend: function onRequestSend(description, email) {\n      sendMailWorkingTime(description, email);\n    },\n    isVisibleEmail: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 7\n    }\n  }), React.createElement(SendSuccess, {\n    title: statusSent,\n    visible: sent === \"success\",\n    onRequestClose: function onRequestClose() {\n      setSent(\"\");\n      loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\n\n      if (statusSent == \"Email sent successfully!\") {\n        props.navigation.navigate(\"Reports\", {\n          title: \"BACK OFFICE - STAFF MANAGEMENT\",\n          id: pickerValuePosition.id === 2 ? 5 : 1\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 822,\n      columnNumber: 7\n    }\n  }), React.createElement(SendFail, {\n    title: statusSent,\n    visible: sent === \"fail\",\n    onRequestClose: function onRequestClose() {\n      setSent(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 7\n    }\n  }), isLoading && React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 843,\n      columnNumber: 21\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.backgroundApp\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: \"500\",\n    color: colors.white\n  },\n  text: {\n    color: colors.colorText,\n    fontSize: 14,\n    fontWeight: \"600\"\n  },\n  viewPicker: {\n    marginLeft: 15,\n    marginRight: 15,\n    paddingLeft: 15,\n    backgroundColor: colors.grayLight,\n    borderRadius: 4\n  },\n  iconDown: {\n    justifyContent: \"center\",\n    position: \"absolute\",\n    right: 10,\n    bottom: 12,\n    zIndex: 4\n  },\n  iconDownPicker: {\n    zIndex: 4\n  },\n  line: {\n    height: 10,\n    backgroundColor: colors.backgroundTab\n  },\n  picker: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    height: 40,\n    alignItems: \"center\",\n    borderBottomColor: colors.colorLine,\n    borderBottomWidth: 1\n  },\n  listPicker: {\n    zIndex: 5,\n    position: \"absolute\",\n    backgroundColor: \"#414141\",\n    borderRadius: 4,\n    top: 42,\n    right: 15,\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  itemPicker: {\n    height: 30,\n    justifyContent: \"center\"\n  },\n  textItemPicker: {\n    color: colors.colorText\n  },\n  buttonCreate: {\n    height: 30,\n    paddingHorizontal: 16,\n    marginVertical: 10,\n    justifyContent: \"center\",\n    alignSelf: \"flex-end\",\n    borderRadius: 4\n  },\n  buttonSend: {\n    height: 30,\n    width: 79,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 4,\n    marginLeft: 10\n  },\n  textButtonCreate: {\n    color: colors.colorText,\n    textAlign: \"center\",\n    fontSize: 12,\n    fontWeight: \"700\"\n  },\n  textListOfStaff: {\n    color: colors.colorText,\n    fontSize: 14,\n    fontWeight: \"700\"\n  },\n  staff: {\n    backgroundColor: colors.grayLight,\n    borderRadius: 4,\n    padding: 10,\n    marginBottom: 12\n  },\n  formCreate: {\n    paddingHorizontal: 10,\n    backgroundColor: colors.grayLight,\n    borderRadius: 4,\n    marginBottom: 12\n  },\n  itemFormCreate: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 41,\n    marginBottom: 15,\n    borderBottomWidth: 0.5,\n    borderBottomColor: colors.colorLine,\n    borderRadius: 10\n  },\n  textTitleItemInput: {\n    color: colors.gray,\n    fontWeight: \"600\",\n    fontSize: 12,\n    marginBottom: 9\n  },\n  itemInput: {\n    height: 40,\n    borderRadius: 4,\n    backgroundColor: \"#303030\",\n    paddingHorizontal: 11,\n    color: colors.colorText\n  },\n  textButtonForm: {\n    color: colors.colorText,\n    fontSize: 16,\n    fontWeight: \"400\"\n  },\n  buttonForm: {\n    flex: 1,\n    height: 36,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 4\n  }\n});","map":{"version":3,"sources":["D:/angular/hts_reactnative/src/app/screens/details/TabManagement/StaffManagement/ListOfStaff/listOfStaff.tsx"],"names":["React","useState","useEffect","colors","Ionicons","moment","DateTimePicker","LinearGradient","PickerModel","ModalSendEmail","ItemStaff","ItemStaffDone","ValidateEmail","isPhoneNumber","getMonday","getDaysArray","StaffService","MailStaffService","Loading","PickerFormInput","SendSuccess","SendFail","useSelector","useDispatch","checkRole","ListOfStaff","props","dimensions","Dimensions","get","dispatch","state","staff","staffs","legends","record_area","reset","accesses","access","workplace","workPlace","profile","info","PAGE_SIZE","isLoading","setIsLoading","sent","setSent","statusSent","setStatusSent","outletModel","label","value","outlet","setOutlet","initDataPicker","id","code","name","inputStaff","firstName","lastName","dutyId","positionId","recordAreaId","email","phone","titleId","WorkplaceId","valueRecordArea","setValueRecordArea","recordAreas","setRecordAreas","pickerValuePosition","setPickerValuePosition","positions","setPositions","duties","setDuties","titles","setTitles","visibleModalPicker","setVisibleModalPicker","inputCreateStaff","setInputCreateStaff","isShowCreateForm","setIsShowCreateForm","modalSendMail","setModalSendMail","dataStaffs","setDataStaffs","isDone","setDone","isMount","setIsMount","toDate","Date","endWeekDay","setDate","getDate","getMonth","setMonth","format","fromDateTime","setFromDateTime","endDateTime","setEndDateTime","DateInWeek","setDateInWeek","handleChangeDate","date","_date","onPickerListStaff","loadStaffInfo","onPickerPosition","onHandleShowModal","type","onCreateStaff","onHideFormCreateStaff","onSubmitFormCreateStaff","alert","length","createStaff","res","isSuccess","onChangeFormStaff","key","handleSendmail","staffId","pageNum","getStaffInfo","data","itemWorkingFullTime","staffWorkingDayTimeDataFullTime","itemWorkingPartTime","listStaffId","listStaff","map","item","push","IsSplit","LegendId","IsCheckIn","Remark","WorkingDate","TotalWorkingTime","WorkingWeekTime","legendName","legendId","remark","staffWorkingDayTimeData","rank","day","freeDate","staffFreeTimeList","StaffId","isConfirm","saved","edited","workingScheduleData","GetListOfStarf","resStaffInfo","listStaffInfo","arrTime","arrTimeV2","staffWorkingDay","time","index","findIndex","i","slice","workingDate","arrStaffWorkingDayTimeData","isOT","workingTimeId","iTime","WorkingWeekTimeId","timeId","timeSplitId","OT","find","indexV2","workingScheduleDataV2","iStaff","getFreeStaff","resPartTime","arrPartTime","JSON","parse","stringify","staffFreeTimeInfo","_staffFreeTimeList","filter","_item","timeRange","payload","loadAllPosition","getAllPosition","listData","isEnabled","loadAllDuty","getAllDuty","loadAllTitle","getTitle","title","handleSubmitWorking","req","listWorking","WorkingScheduleData","createWorking","sendMailWorkingTime","description","submit","DateTime","Description","Mail","sendMailWorkingTimeByStaff","handleViewReport","navigation","navigate","some","onchangeOutlet","ViewPicker","zIndex","Platform","OS","undefined","styles","picker","text","iconDownPicker","colorText","listPicker","itemPicker","textItemPicker","itemInput","placeholder","maxLength","onChangeText","marginBottom","textTitleItemInput","gray","viewFormCreate","formCreate","itemFormCreate","position","right","top","colorLine","flexDirection","marginTop","flex","buttonForm","backgroundColor","marginRight","textButtonForm","container","line","paddingHorizontal","minHeight","height","justifyContent","alignItems","textListOfStaff","buttonSend","textButtonCreate","marginVertical","marginLeft","buttonCreate","indexStaff","StyleSheet","create","backgroundApp","fontSize","fontWeight","color","white","viewPicker","paddingLeft","grayLight","borderRadius","iconDown","bottom","backgroundTab","borderBottomColor","borderBottomWidth","paddingVertical","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","alignSelf","textAlign","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { RouteProp } from \"@react-navigation/native\";\r\nimport { StackNavigationProp } from \"@react-navigation/stack\";\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  Text,\r\n  TouchableWithoutFeedback,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  KeyboardTypeOptions,\r\n  ImageProps,\r\n  Platform,\r\n  Dimensions,\r\n} from \"react-native\";\r\nimport { TabManageParamList } from \"../../../../../types\";\r\nimport { colors } from \"../../../../../utils/Colors\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport moment from \"moment\";\r\nimport DateTimePicker from \"../../../../../components/datetimepicker\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nimport { Icons, Images } from \"../../../../../assets\";\r\nimport PickerModel from \"../../../../../components/picker/PickerModel\";\r\nimport ModalSendEmail from \"../../../../../components/ModalSendEmail\";\r\nimport ItemStaff from \"./items/itemStaff\";\r\nimport ItemStaffDone from \"./items/itemStaffDone\";\r\nimport { ValidateEmail, isPhoneNumber, getMonday, getDaysArray } from \"../../../../../components/management/utils\";\r\nimport { StaffService, MailStaffService } from \"../../../../../netWorking/staffService\";\r\nimport Loading from \"../../../../../components/dialogs/Loading\";\r\nimport { IStaff, ICreateStaffRequest } from \"../../../../../models/staffModel\";\r\nimport PickerFormInput from \"../../../../../components/PickerFormInput\";\r\nimport SendSuccess from \"../../../../../components/modalNotification/SendSuccess\";\r\nimport SendFail from \"../../../../../components/modalNotification/SendFail\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { RootState } from \"../../../../../redux/reducers\";\r\nimport { _getUserId } from \"../../../../../netWorking/authService\";\r\nimport { checkRole } from \"../../../../../components/generalConvert/roles\";\r\nexport interface Props {\r\n  route: RouteProp<TabManageParamList, \"ListOfStaff\">;\r\n  navigation: StackNavigationProp<TabManageParamList>;\r\n}\r\n\r\nexport default function ListOfStaff(props: Props) {\r\n  const dimensions = Dimensions.get(\"window\");\r\n  const dispatch = useDispatch();\r\n  const { staffs, legends, record_area, reset } = useSelector((state: RootState) => state.staff);\r\n  const { access } = useSelector((state: RootState) => state.accesses);\r\n  const { workPlace } = useSelector((state: RootState) => state.workplace);\r\n  const { info } = useSelector((state: RootState) => state.profile);\r\n  const PAGE_SIZE = 20;\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [sent, setSent] = useState(\"\");\r\n  const [statusSent, setStatusSent] = useState(\"\");\r\n  interface IPicker {\r\n    id: number;\r\n    code: string;\r\n    name: string;\r\n  }\r\n  const outletModel = [\r\n    { label: \"Spa\", value: 1 },\r\n    { label: \"Ola Restaurant\", value: 2 },\r\n  ];\r\n  const [outlet, setOutlet] = useState(2);\r\n  const initDataPicker = { id: 0, code: \"\", name: \"\" };\r\n  const inputStaff = {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    dutyId: null,\r\n    positionId: 0,\r\n    recordAreaId: 0,\r\n    email: \"\",\r\n    phone: \"\",\r\n    titleId: null,\r\n    WorkplaceId: 0,\r\n  };\r\n  const [valueRecordArea, setValueRecordArea] = useState<IPicker>(initDataPicker);\r\n  const [recordAreas, setRecordAreas] = useState<IPicker[]>([]);\r\n\r\n  const [pickerValuePosition, setPickerValuePosition] = useState<IPicker>(initDataPicker);\r\n  const [positions, setPositions] = useState<IPicker[]>([]);\r\n\r\n  const [duties, setDuties] = useState<IPicker[]>([]);\r\n  const [titles, setTitles] = useState<IPicker[]>([]);\r\n\r\n  const [visibleModalPicker, setVisibleModalPicker] = useState(\"\");\r\n\r\n  const [inputCreateStaff, setInputCreateStaff] = useState(inputStaff);\r\n  const [isShowCreateForm, setIsShowCreateForm] = useState(false);\r\n  const [modalSendMail, setModalSendMail] = useState(false);\r\n  const [dataStaffs, setDataStaffs] = useState<IStaff[]>([]);\r\n\r\n  const [isDone, setDone] = useState(false);\r\n  const [isMount, setIsMount] = useState(false);\r\n\r\n  const toDate = new Date();\r\n  let endWeekDay = new Date().setDate(getMonday(toDate).getDate() + 6);\r\n  if (getMonday(toDate).getMonth() < toDate.getMonth()) {\r\n    //check ngy u tun v ngy hin ti khc thng\r\n    endWeekDay = new Date(new Date().setMonth(toDate.getMonth() - 1)).setDate(getMonday(toDate).getDate() + 6);\r\n  }\r\n  const [fromDateTime, setFromDateTime] = useState(moment(getMonday(toDate)).format(\"YYYY-MM-DD 00:00\"));\r\n  const [endDateTime, setEndDateTime] = useState(\r\n    moment(endWeekDay).format(\"YYYY-MM-DD 23:59\")\r\n  );\r\n\r\n  const [DateInWeek, setDateInWeek] = useState(\r\n    getDaysArray(getMonday(toDate), new Date(endWeekDay))\r\n  );\r\n  const handleChangeDate = date => {\r\n    const _date = new Date(moment(date).format(\"YYYY-MM-DD\"));\r\n    let endWeekDay = new Date(_date).setDate(getMonday(_date).getDate() + 6);\r\n    if (getMonday(_date).getMonth() < new Date(endWeekDay).getMonth()) {\r\n      //check ngy u tun v ngy hin ti khc thng\r\n      endWeekDay = new Date(new Date().setMonth(_date.getMonth() - 1)).setDate(getMonday(_date).getDate() + 6);\r\n    }\r\n    setDateInWeek(getDaysArray(getMonday(_date), new Date(endWeekDay)));\r\n    setFromDateTime(moment(getMonday(_date)).format(\"YYYY-MM-DD 00:00\"));\r\n    setEndDateTime(moment(endWeekDay).format(\"YYYY-MM-DD 23:59\"));\r\n  };\r\n\r\n  const onPickerListStaff = (value: IPicker) => {\r\n    loadStaffInfo(null, pickerValuePosition.id, value.id);\r\n    setValueRecordArea(value);\r\n    setVisibleModalPicker(\"\");\r\n  };\r\n  const onPickerPosition = (value: IPicker) => {\r\n    loadStaffInfo(null, value.id, valueRecordArea.id);\r\n    setPickerValuePosition(value);\r\n    setVisibleModalPicker(\"\");\r\n  };\r\n  const onHandleShowModal = (type: string) => {\r\n    if (visibleModalPicker === \"\") {\r\n      setVisibleModalPicker(type);\r\n    } else setVisibleModalPicker(\"\");\r\n  };\r\n  const onCreateStaff = () => {\r\n    setInputCreateStaff({\r\n      ...inputStaff,\r\n      ...{ [\"positionId\"]: positions[0].id, [\"recordAreaId\"]: recordAreas[0].id, [\"titleId\"]: titles[0].id, [\"WorkplaceId\"]: workPlace.value },\r\n    });\r\n    setIsShowCreateForm(true);\r\n  };\r\n  const onHideFormCreateStaff = () => {\r\n    setIsShowCreateForm(false);\r\n  };\r\n  const onSubmitFormCreateStaff = async () => {\r\n    if (inputCreateStaff.firstName === \"\") {\r\n      alert(\"First Name cannot be blank!\");\r\n      return;\r\n    }\r\n    if (inputCreateStaff.lastName === \"\") {\r\n      alert(\"Last Name cannot be blank!\");\r\n      return;\r\n    }\r\n    if (inputCreateStaff.email === \"\") {\r\n      alert(\"Email cannot be blank!\");\r\n      return;\r\n    }\r\n    if (inputCreateStaff.phone === \"\") {\r\n      alert(\"Phone cannot be blank!\");\r\n      return;\r\n    }\r\n    if (inputCreateStaff.firstName.length === 1) {\r\n      alert(\"First Name minimum 2 characters!\");\r\n      return;\r\n    }\r\n    if (inputCreateStaff.lastName.length === 1) {\r\n      alert(\"Last Name minimum 2 characters!\");\r\n      return;\r\n    }\r\n    if (!ValidateEmail(inputCreateStaff.email)) {\r\n      alert(\"Email invalid!\");\r\n      return;\r\n    }\r\n    if (!isPhoneNumber(inputCreateStaff.phone)) {\r\n      alert('Phone must start with \"0\" and have 10 to 11 characters!');\r\n      return;\r\n    }\r\n    if (inputCreateStaff.WorkplaceId === 0) {\r\n      alert('No workplace yet, please recreate later!');\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    const res = await StaffService.createStaff(inputCreateStaff);\r\n    setIsLoading(false);\r\n    if (res.isSuccess == 1) {\r\n      setSent(\"success\");\r\n      setStatusSent(\"Created new staff!\");\r\n    } else {\r\n      setSent(\"fail\");\r\n      setStatusSent(\"Create new staff fail!\");\r\n    }\r\n    setIsShowCreateForm(false);\r\n  };\r\n  const onChangeFormStaff = (key: string, value: string | number) => {\r\n    setInputCreateStaff({ ...inputCreateStaff, ...{ [key]: value } });\r\n  };\r\n\r\n  const handleSendmail = () => {\r\n    setModalSendMail(!modalSendMail);\r\n  };\r\n  //Fetch API\r\n  const loadStaffInfo = async (\r\n    staffId: number = null,\r\n    positionId: number = null,\r\n    recordAreaId: number = null,\r\n    pageNum: number = 1\r\n  ) => {\r\n    setIsMount(true);\r\n    setIsLoading(true);\r\n    let res\r\n    if (checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") &&\r\n      !checkRole(access, \"Part TIme Roster/Schedule (Management)\") &&\r\n      !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\r\n      res = await StaffService.getStaffInfo(info?.staffId, null, null, null, pageNum, PAGE_SIZE);\r\n    } else {\r\n      res = await StaffService.getStaffInfo(staffId, positionId, recordAreaId, workPlace.value, pageNum, PAGE_SIZE);\r\n    }\r\n\r\n\r\n    if (res.isSuccess == 1 && res.data) {\r\n      let itemWorkingFullTime = []; // cc ngy trong tun ca staff fulltime\r\n      let staffWorkingDayTimeDataFullTime = []; // cc ngy trong tun ca staff fulltime\r\n      let itemWorkingPartTime = []; // cc ngy trong tun ca staff PartTime\r\n      let listStaffId = []; // id cc staff  get info working\r\n      let listStaff: IStaff[] = [];\r\n      DateInWeek.map(item => {\r\n        if (positionId === 1) {\r\n          itemWorkingFullTime.push({\r\n            IsSplit: null,\r\n            LegendId: null,\r\n            IsCheckIn: null,\r\n            Remark: null,\r\n            WorkingDate: item,\r\n            TotalWorkingTime: 0,\r\n            WorkingWeekTime: null,\r\n          });\r\n          staffWorkingDayTimeDataFullTime.push({\r\n            WorkingDate: item,\r\n            legendName: null,\r\n            legendId: null,\r\n            remark: null,\r\n            staffWorkingDayTimeData: [],\r\n          });\r\n        }\r\n        if (positionId === 2) {\r\n          itemWorkingPartTime.push({\r\n            rank: moment(item).format(\"dddd\"),\r\n            day: +moment(item).format(\"DD\"),\r\n            freeDate: item,\r\n            staffFreeTimeList: null,\r\n          });\r\n        }\r\n      });\r\n\r\n      res.data.map(item => {\r\n        listStaffId.push({ StaffId: item.id });\r\n        listStaff.push({\r\n          ...item,\r\n          isConfirm: false,\r\n          saved: false,\r\n          edited: false,\r\n          workingScheduleData: positionId === 1 ? itemWorkingFullTime : itemWorkingPartTime,\r\n          staffWorkingDayTimeData: positionId === 1 ? staffWorkingDayTimeDataFullTime : []\r\n        });\r\n      });\r\n      if (positionId === 1) {\r\n        /// Full Time\r\n        const resStaffInfo = await StaffService.GetListOfStarf(fromDateTime, endDateTime, listStaffId);\r\n        let listStaffInfo = [];\r\n        if (resStaffInfo.isSuccess == 1 && resStaffInfo.data) {\r\n          if (resStaffInfo.data.length > 0) {\r\n            resStaffInfo.data.map(item => {\r\n              let arrTime = [...itemWorkingFullTime];\r\n              let arrTimeV2 = [...staffWorkingDayTimeDataFullTime];\r\n              item.staffWorkingDay.map(time => {\r\n                //index ngy m  booking trong tun\r\n                let index = arrTime.findIndex(i => i.WorkingDate.slice(0, 10) == time.workingDate.slice(0, 10));\r\n                if (index !== -1) {\r\n                  let WorkingWeekTime = [];\r\n                  let arrStaffWorkingDayTimeData = [];\r\n                  let isOT = false;\r\n                  if (time.staffWorkingDayTimeData && time.staffWorkingDayTimeData[0].workingTimeId) {\r\n                    time.staffWorkingDayTimeData.map(iTime => {\r\n                      if (iTime.workingTimeId !== null) {\r\n                        arrStaffWorkingDayTimeData.push(iTime.workingTimeId);\r\n                        isOT = iTime.isOT;\r\n                      }\r\n                    });\r\n                    WorkingWeekTime = [{\r\n                      WorkingWeekTimeId: arrStaffWorkingDayTimeData,\r\n                      timeId: arrStaffWorkingDayTimeData,\r\n                      timeSplitId: [],\r\n                      OT: isOT\r\n                    }];\r\n                  }\r\n\r\n                  arrTime[index] = {\r\n                    IsSplit: null,\r\n                    LegendId: time.legendName\r\n                      ? legends.find(item => item.name == time.legendName)\r\n                        ? legends.find(item => item.name == time.legendName).id\r\n                        : null\r\n                      : null,\r\n                    IsCheckIn: null,\r\n                    Remark: time.remark,\r\n                    WorkingDate: time.workingDate,\r\n                    TotalWorkingTime: time.staffWorkingDayTimeData\r\n                      ? time.staffWorkingDayTimeData[0].workingTimeId\r\n                        ? time.staffWorkingDayTimeData.length\r\n                        : 0\r\n                      : 0,\r\n                    WorkingWeekTime: WorkingWeekTime.length > 0 ? WorkingWeekTime : null,\r\n                  };\r\n                }\r\n                let indexV2 = arrTimeV2.findIndex(i => i.WorkingDate.slice(0, 10) == time.workingDate.slice(0, 10));\r\n                if (indexV2 !== -1) {\r\n                  arrTimeV2[index] = {\r\n                    IsSplit: null,\r\n                    LegendId: time.legendName\r\n                      ? legends.find(item => item.name == time.legendName)\r\n                        ? legends.find(item => item.name == time.legendName).id\r\n                        : null\r\n                      : null,\r\n                    legendName: time.legendName,\r\n                    Remark: time.remark,\r\n                    WorkingDate: time.workingDate,\r\n                    staffWorkingDayTimeData: time.staffWorkingDayTimeData.length > 0 ? time.staffWorkingDayTimeData : null,\r\n                  };\r\n                }\r\n              });\r\n              listStaffInfo.push({\r\n                id: item.staffId,\r\n                isConfirm: true,\r\n                workingScheduleData: arrTime,\r\n                workingScheduleDataV2: arrTimeV2\r\n              });\r\n            });\r\n          }\r\n        }\r\n        listStaffInfo.map(staff => {\r\n          let iStaff = listStaff.findIndex(i => i.id == staff.id);\r\n          if (iStaff !== -1) {\r\n            listStaff[iStaff].isConfirm = staff.isConfirm;\r\n            listStaff[iStaff].saved = true;\r\n            listStaff[iStaff].workingScheduleData = staff.workingScheduleData;\r\n            listStaff[iStaff].staffWorkingDayTimeData = staff.workingScheduleDataV2;\r\n          }\r\n        });\r\n      }\r\n      if (positionId === 2) {\r\n        //Part time\r\n        let listStaffInfo = [];\r\n        const resPartTime = await StaffService.getFreeStaff(fromDateTime, endDateTime, recordAreaId);\r\n        if (resPartTime.isSuccess == 1 && resPartTime.data) {\r\n          if (resPartTime.data.length > 0) {\r\n            resPartTime.data.map(item => {\r\n              let arrPartTime = JSON.parse(JSON.stringify(itemWorkingPartTime));\r\n              item.staffFreeTimeInfo.map(time => {\r\n                // index ngy m  booking trong tun\r\n                let index = arrPartTime.findIndex(i => i.freeDate.slice(0, 10) == time.freeDate.slice(0, 10));\r\n                if (index !== -1) {\r\n                  let _staffFreeTimeList = time.staffFreeTimeList.filter(_item => _item.timeRange !== null);\r\n                  arrPartTime[index].staffFreeTimeList = _staffFreeTimeList;\r\n                  arrPartTime[index].day = time.day;\r\n                  arrPartTime[index].rank = time.rank;\r\n                }\r\n              });\r\n\r\n              listStaffInfo.push({\r\n                id: item.staffId,\r\n                isConfirm: true,\r\n                workingScheduleData: arrPartTime,\r\n              });\r\n            });\r\n          }\r\n        }\r\n        listStaffInfo.map(staff => {\r\n          let iStaff = listStaff.findIndex(i => i.id == staff.id);\r\n          if (iStaff !== -1) {\r\n            listStaff[iStaff].isConfirm = staff.isConfirm;\r\n            listStaff[iStaff].saved = true;\r\n            listStaff[iStaff].workingScheduleData = staff.workingScheduleData;\r\n          }\r\n        });\r\n      }\r\n\r\n      dispatch({ type: \"GET_STAFFS\", payload: listStaff });\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n  const loadAllPosition = async () => {\r\n    const res = await StaffService.getAllPosition();\r\n    if (res.isSuccess == 1 && res.data) {\r\n      let listData = [];\r\n      res.data.map(item => {\r\n        if (item.isEnabled) {\r\n          listData.push({ id: item.id, code: item.code, name: item.name });\r\n        }\r\n      });\r\n      setPickerValuePosition(listData[0]);\r\n      setPositions(listData);\r\n    }\r\n  };\r\n\r\n  const loadAllDuty = async () => {\r\n    const res = await StaffService.getAllDuty();\r\n    if (res.isSuccess == 1 && res.data) {\r\n      let listData = [];\r\n      res.data.map(item => {\r\n        if (item.isEnabled) {\r\n          listData.push({ id: item.id, code: item.code, name: item.name });\r\n        }\r\n      });\r\n      setDuties(listData);\r\n    }\r\n  };\r\n  const loadAllTitle = async () => {\r\n    const res = await StaffService.getTitle(\"\", 1, 100, null, workPlace.value);\r\n    if (res.isSuccess == 1 && res.data) {\r\n      let listData = [];\r\n      res.data.map(item => {\r\n        listData.push({ id: item.id, code: item.id, name: item.title });\r\n      });\r\n      setTitles(listData);\r\n    }\r\n  };\r\n  const handleSubmitWorking = async () => {\r\n    let req = [];\r\n    staffs.map(staff => {\r\n      if (staff.edited) {\r\n        let listWorking = [];\r\n        staff.workingScheduleData.map(item => {\r\n          if (item.WorkingWeekTime !== null || item.LegendId !== null) {\r\n            listWorking.push(item);\r\n          }\r\n        });\r\n        req.push({ StaffId: staff.id, WorkingScheduleData: listWorking });\r\n      }\r\n    });\r\n    const res = await StaffService.createWorking(req);\r\n    if (res.isSuccess == 1 && res.data) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  const sendMailWorkingTime = async (description: string, email: string) => {\r\n    setModalSendMail(!modalSendMail);\r\n    setIsLoading(true);\r\n    let submit = false;\r\n    if (pickerValuePosition.id === 1) {\r\n      submit = await handleSubmitWorking();\r\n    }\r\n    if (pickerValuePosition.id === 2) {\r\n      submit = true;\r\n    }\r\n\r\n    if (submit) {\r\n      let req = [];\r\n      staffs.map(staff => {\r\n        req.push({\r\n          DateTime: moment(fromDateTime).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n          StaffId: staff.id,\r\n          Description: description,\r\n          Mail: staff.email,\r\n        });\r\n      });\r\n      const res = await MailStaffService.sendMailWorkingTimeByStaff(req);\r\n      setIsLoading(false);\r\n      if (res.isSuccess == 1 && res.data) {\r\n        setSent(\"success\");\r\n        setStatusSent(\"Email sent successfully!\");\r\n      } else {\r\n        setIsLoading(false);\r\n        setSent(\"fail\");\r\n        setStatusSent(\"Email sent failed!\");\r\n      }\r\n    } else {\r\n      setSent(\"fail\");\r\n      setStatusSent(\"Schedule work failed!\");\r\n    }\r\n  };\r\n  const handleViewReport = async () => {\r\n    if (pickerValuePosition.id === 1) {\r\n      props.navigation.navigate(\"Reports\", {\r\n        title: \"BACK OFFICE - STAFF MANAGEMENT\",\r\n        id: 1,\r\n        data: { valueRecordArea, fromDateTime, endDateTime }\r\n      });\r\n    }\r\n    if (pickerValuePosition.id === 2) {\r\n      props.navigation.navigate(\"Reports\", {\r\n        title: \"BACK OFFICE - STAFF MANAGEMENT\",\r\n        id: 5,\r\n      });\r\n    }\r\n  };\r\n\r\n  //--------------------------------------------\r\n  useEffect(() => {\r\n    setValueRecordArea(record_area[0]);\r\n    setRecordAreas(record_area);\r\n    loadAllPosition();\r\n    loadAllDuty();\r\n  }, []);\r\n  useEffect(() => {\r\n    loadAllTitle();\r\n  }, [workPlace]);\r\n  useEffect(() => {\r\n    if (!isMount && pickerValuePosition.id && valueRecordArea.id) {\r\n      if (\r\n        checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") ||\r\n        checkRole(access, \"Part TIme Roster/Schedule (Management)\")\r\n      ) {\r\n        if (!checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\r\n          if (checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") &&\r\n            !checkRole(access, \"Part TIme Roster/Schedule (Management)\") &&\r\n            !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\r\n            loadStaffInfo(null, 2, null);\r\n\r\n          } else { loadStaffInfo(null, 2, valueRecordArea.id); }\r\n        } else {\r\n          loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\r\n        }\r\n      } else {\r\n        loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\r\n      }\r\n    }\r\n  }, [pickerValuePosition, valueRecordArea]);\r\n  useEffect(() => {\r\n    if (isMount) {\r\n      if (\r\n        checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") ||\r\n        checkRole(access, \"Part TIme Roster/Schedule (Management)\")\r\n      ) {\r\n        if (!checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\r\n          if (checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") &&\r\n            !checkRole(access, \"Part TIme Roster/Schedule (Management)\") &&\r\n            !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\")) {\r\n            loadStaffInfo(null, 2, null);\r\n\r\n          } else { loadStaffInfo(null, 2, valueRecordArea.id); }\r\n        } else {\r\n          loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\r\n        }\r\n      } else {\r\n        loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\r\n      }\r\n    }\r\n  }, [endDateTime, fromDateTime, reset]);\r\n\r\n  useEffect(() => {\r\n    if (staffs.some(item => item.isConfirm === true)) {\r\n      setDone(true);\r\n    } else {\r\n      setDone(false);\r\n    }\r\n    setDataStaffs(staffs);\r\n  }, [staffs]);\r\n\r\n  const onchangeOutlet = async (data: any) => {\r\n    setOutlet(data);\r\n  };\r\n  /// View Component\r\n  const ViewPicker = (type: string, data: IPicker[]) => {\r\n    return (\r\n      <View\r\n        style={{\r\n          zIndex: Platform.OS === \"ios\" ? (type === \"list\" ? 4 : 3) : undefined,\r\n        }}\r\n      >\r\n        <TouchableWithoutFeedback\r\n          onPress={() => {\r\n            onHandleShowModal(type);\r\n          }}\r\n        >\r\n          <View style={styles.picker}>\r\n            <Text style={styles.text}>{type === \"list\" ? valueRecordArea?.name ?? \"\" : pickerValuePosition?.name ?? \"\"}</Text>\r\n            <Ionicons\r\n              style={styles.iconDownPicker}\r\n              name=\"caret-down\"\r\n              size={20}\r\n              color={colors.colorText}\r\n              onPress={() => {\r\n                onHandleShowModal(type);\r\n              }}\r\n            />\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n        {visibleModalPicker === type && (\r\n          <View style={styles.listPicker}>\r\n            {data.map(item => {\r\n              return (\r\n                <TouchableOpacity\r\n                  key={item.id}\r\n                  style={styles.itemPicker}\r\n                  onPress={type === \"list\" ? () => onPickerListStaff(item) : () => onPickerPosition(item)}\r\n                >\r\n                  <Text style={styles.textItemPicker}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              );\r\n            })}\r\n          </View>\r\n        )}\r\n      </View>\r\n    );\r\n  };\r\n  const itemInput = (\r\n    title: string,\r\n    placeholder: string,\r\n    type: KeyboardTypeOptions,\r\n    maxLength: number,\r\n    value: string,\r\n    onChangeText: (text: string) => void\r\n  ) => {\r\n    return (\r\n      <View style={{ marginBottom: 15 }}>\r\n        <Text style={styles.textTitleItemInput}>{title}</Text>\r\n        <TextInput\r\n          style={[styles.itemInput]}\r\n          placeholder={placeholder}\r\n          placeholderTextColor={colors.gray}\r\n          keyboardType={type}\r\n          maxLength={maxLength}\r\n          value={value}\r\n          onChangeText={text => onChangeText(text)}\r\n        ></TextInput>\r\n        {/* <Text style={{fontSize:12, color:'#E13C3C', textAlign:'right'}}>Validate</Text> */}\r\n      </View>\r\n    );\r\n  };\r\n  const viewFormCreate = () => {\r\n    return (\r\n      <View style={[styles.formCreate, { marginBottom: dataStaffs.length === 0 ? 200 : 12 }]}>\r\n        <View style={styles.itemFormCreate}>\r\n          <Text style={styles.title}>New staff</Text>\r\n          <TouchableOpacity onPress={onHideFormCreateStaff} style={{ position: \"absolute\", right: 0, top: 9 }}>\r\n            <Ionicons name=\"close-circle\" size={20} color={colors.colorLine} />\r\n          </TouchableOpacity>\r\n        </View>\r\n        {itemInput(\"First Name\", \"Type first name\", \"default\", 35, inputCreateStaff.firstName, text =>\r\n          onChangeFormStaff(\"firstName\", text)\r\n        )}\r\n        {itemInput(\"Last Name\", \"Type last name\", \"default\", 20, inputCreateStaff.lastName, text =>\r\n          onChangeFormStaff(\"lastName\", text)\r\n        )}\r\n        <PickerFormInput\r\n          items={titles}\r\n          title={\"Title\"}\r\n          onChoose={value => {\r\n            onChangeFormStaff(\"titleId\", value.id);\r\n          }}\r\n        ></PickerFormInput>\r\n        <PickerFormInput\r\n          items={positions}\r\n          title={\"Position\"}\r\n          onChoose={value => {\r\n            onChangeFormStaff(\"positionId\", value.id);\r\n          }}\r\n        ></PickerFormInput>\r\n        <PickerFormInput\r\n          items={recordAreas}\r\n          title={\"Record Area\"}\r\n          onChoose={value => {\r\n            onChangeFormStaff(\"recordAreaId\", value.id);\r\n          }}\r\n        ></PickerFormInput>\r\n        {itemInput(\"Email\", \"Type your email\", \"email-address\", 255, inputCreateStaff.email, text =>\r\n          onChangeFormStaff(\"email\", text)\r\n        )}\r\n        {itemInput(\"Phone\", \"Type your phone\", \"number-pad\", 11, inputCreateStaff.phone, text =>\r\n          onChangeFormStaff(\"phone\", text)\r\n        )}\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            marginBottom: 24,\r\n            marginTop: 10,\r\n            flex: 1,\r\n          }}\r\n        >\r\n          <TouchableOpacity\r\n            onPress={onHideFormCreateStaff}\r\n            style={[styles.buttonForm, { backgroundColor: \"#636363\", marginRight: 15 }]}\r\n          >\r\n            <Text style={styles.textButtonForm}>Cancel</Text>\r\n          </TouchableOpacity>\r\n          <LinearGradient style={styles.buttonForm} colors={[\"#DAB451\", \"#988050\"]}>\r\n            <TouchableOpacity onPress={onSubmitFormCreateStaff}>\r\n              <Text style={styles.textButtonForm}>Save</Text>\r\n            </TouchableOpacity>\r\n          </LinearGradient>\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n  return (\r\n    <View style={styles.container}>\r\n      <ScrollView>\r\n        <PickerModel\r\n          data={outletModel}\r\n          defaultValue=\"Ola Restaurant\"\r\n          onSelectedValue={value => {\r\n            onchangeOutlet(value.value);\r\n          }}\r\n        ></PickerModel>\r\n        <View style={styles.line}></View>\r\n        <DateTimePicker\r\n          onSubmitFromDate={date => handleChangeDate(date)}\r\n          onSubmitEndDate={date => handleChangeDate(date)}\r\n          fromDate={fromDateTime}\r\n          endDate={endDateTime}\r\n          checkkNotEndDate={false}\r\n        ></DateTimePicker>\r\n        <View style={{ paddingHorizontal: 15, minHeight: dimensions.height }}>\r\n          {checkRole(access, \"Part Time Roster/Schedule (Part TIme Users Log In)\") &&\r\n            !checkRole(access, \"Part TIme Roster/Schedule (Management)\") &&\r\n            !checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") ? (\r\n            <View style={{ zIndex: Platform.OS === \"ios\" ? 2 : undefined }}></View>\r\n          ) : (\r\n            <View style={{ zIndex: Platform.OS === \"ios\" ? 2 : undefined }}>\r\n              {isDone ? (\r\n                <View\r\n                  style={{\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"space-between\",\r\n                    marginBottom: 10,\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Text style={styles.textListOfStaff}>List Of Staff</Text>\r\n                  <View style={{ flexDirection: \"row\" }}>\r\n                    <TouchableOpacity\r\n                      onPress={() => {\r\n                        handleSendmail();\r\n                      }}\r\n                      style={[styles.buttonSend, { backgroundColor: \"#636363\" }]}\r\n                    >\r\n                      <Text style={styles.textButtonCreate}>Send</Text>\r\n                    </TouchableOpacity>\r\n                    {!checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") ? (\r\n                      <View></View>\r\n                    ) : (\r\n                      <TouchableOpacity\r\n                        onPress={() => {\r\n                          handleViewReport();\r\n                        }}\r\n                      >\r\n                        <LinearGradient style={styles.buttonSend} colors={[\"#DAB451\", \"#988050\"]}>\r\n                          <Text style={styles.textButtonCreate}>View</Text>\r\n                        </LinearGradient>\r\n                      </TouchableOpacity>\r\n                    )}\r\n                  </View>\r\n                </View>\r\n              ) : (\r\n                <View style={{ zIndex: Platform.OS === \"ios\" ? 2 : undefined }}>\r\n                  <View style={{ zIndex: Platform.OS === \"ios\" ? 3 : undefined }}>\r\n                    {ViewPicker(\"list\", recordAreas)}\r\n                    {checkRole(access, \"Part TIme Roster/Schedule (Management)\") &&\r\n                      checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") &&\r\n                      ViewPicker(\"position\", positions)}\r\n                  </View>\r\n                  <View style={{ flexDirection: \"row\", alignItems: \"center\", justifyContent: \"space-between\" }}>\r\n                    {checkRole(access, \"Staff Management Detail (Schedule/ Legend/OT/Attendance)\") && (\r\n                      <View style={{ flexDirection: \"row\", marginVertical: 10 }}>\r\n                        <TouchableOpacity\r\n                          onPress={() => {\r\n                            handleSendmail();\r\n                          }}\r\n                          style={[styles.buttonSend, { backgroundColor: \"#636363\", marginLeft: undefined }]}\r\n                        >\r\n                          <Text style={styles.textButtonCreate}>Send</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity\r\n                          onPress={() => {\r\n                            handleViewReport();\r\n                          }}\r\n                          style={[styles.buttonSend, { backgroundColor: \"#636363\" }]}\r\n                        >\r\n                          <Text style={styles.textButtonCreate}>View</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                    )}\r\n\r\n                    {checkRole(access, \"Create new Staff\") && (\r\n                      <LinearGradient style={[styles.buttonCreate]} colors={[\"#DAB451\", \"#988050\"]}>\r\n                        <TouchableOpacity onPress={onCreateStaff}>\r\n                          <Text style={styles.textButtonCreate}>Create new staff</Text>\r\n                        </TouchableOpacity>\r\n                      </LinearGradient>\r\n                    )}\r\n                  </View>\r\n                  {isShowCreateForm && viewFormCreate()}\r\n                </View>\r\n              )}\r\n            </View>\r\n          )}\r\n\r\n          {dataStaffs.map((staff, indexStaff) => {\r\n            return (\r\n              <View key={indexStaff}>\r\n                {staff.isConfirm ? <ItemStaffDone data={staff}></ItemStaffDone> : <ItemStaff data={staff}></ItemStaff>}\r\n              </View>\r\n            );\r\n          })}\r\n        </View>\r\n      </ScrollView>\r\n\r\n      <ModalSendEmail\r\n        visible={modalSendMail}\r\n        onRequestClose={() => {\r\n          setModalSendMail(!modalSendMail);\r\n        }}\r\n        onRequestSend={(description, email) => {\r\n          sendMailWorkingTime(description, email);\r\n        }}\r\n        isVisibleEmail={false}\r\n      ></ModalSendEmail>\r\n      <SendSuccess\r\n        title={statusSent}\r\n        visible={sent === \"success\"}\r\n        onRequestClose={() => {\r\n          setSent(\"\");\r\n          loadStaffInfo(null, pickerValuePosition.id, valueRecordArea.id);\r\n          if (statusSent == \"Email sent successfully!\") {\r\n            props.navigation.navigate(\"Reports\", {\r\n              title: \"BACK OFFICE - STAFF MANAGEMENT\",\r\n              id: pickerValuePosition.id === 2 ? 5 : 1,\r\n            });\r\n          }\r\n        }}\r\n      ></SendSuccess>\r\n      <SendFail\r\n        title={statusSent}\r\n        visible={sent === \"fail\"}\r\n        onRequestClose={() => {\r\n          setSent(\"\");\r\n        }}\r\n      ></SendFail>\r\n      {isLoading && <Loading />}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: colors.backgroundApp,\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    fontWeight: \"500\",\r\n    color: colors.white,\r\n  },\r\n  text: {\r\n    color: colors.colorText,\r\n    fontSize: 14,\r\n    fontWeight: \"600\",\r\n  },\r\n  viewPicker: {\r\n    marginLeft: 15,\r\n    marginRight: 15,\r\n    paddingLeft: 15,\r\n    backgroundColor: colors.grayLight,\r\n    borderRadius: 4,\r\n  },\r\n  iconDown: {\r\n    justifyContent: \"center\",\r\n    position: \"absolute\",\r\n    right: 10,\r\n    bottom: 12,\r\n    zIndex: 4,\r\n  },\r\n  iconDownPicker: {\r\n    zIndex: 4,\r\n  },\r\n  line: {\r\n    height: 10,\r\n    backgroundColor: colors.backgroundTab,\r\n  },\r\n\r\n  picker: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    height: 40,\r\n    alignItems: \"center\",\r\n    borderBottomColor: colors.colorLine,\r\n    borderBottomWidth: 1,\r\n  },\r\n  listPicker: {\r\n    zIndex: 5,\r\n    position: \"absolute\",\r\n    backgroundColor: \"#414141\",\r\n    borderRadius: 4,\r\n    top: 42,\r\n    right: 15,\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 5,\r\n\r\n    shadowColor: \"#000\",\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  itemPicker: {\r\n    height: 30,\r\n    justifyContent: \"center\",\r\n  },\r\n  textItemPicker: {\r\n    color: colors.colorText,\r\n  },\r\n  buttonCreate: {\r\n    height: 30,\r\n    paddingHorizontal: 16,\r\n    marginVertical: 10,\r\n    justifyContent: \"center\",\r\n    alignSelf: \"flex-end\",\r\n    borderRadius: 4,\r\n  },\r\n  buttonSend: {\r\n    height: 30,\r\n    width: 79,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 4,\r\n    marginLeft: 10,\r\n  },\r\n  textButtonCreate: {\r\n    color: colors.colorText,\r\n    textAlign: \"center\",\r\n    fontSize: 12,\r\n    fontWeight: \"700\",\r\n  },\r\n  textListOfStaff: {\r\n    color: colors.colorText,\r\n    fontSize: 14,\r\n    fontWeight: \"700\",\r\n  },\r\n  staff: {\r\n    backgroundColor: colors.grayLight,\r\n    borderRadius: 4,\r\n    padding: 10,\r\n    marginBottom: 12,\r\n  },\r\n  formCreate: {\r\n    paddingHorizontal: 10,\r\n    backgroundColor: colors.grayLight,\r\n    borderRadius: 4,\r\n    marginBottom: 12,\r\n  },\r\n  itemFormCreate: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: 41,\r\n    marginBottom: 15,\r\n    borderBottomWidth: 0.5,\r\n    borderBottomColor: colors.colorLine,\r\n    borderRadius: 10,\r\n  },\r\n  textTitleItemInput: {\r\n    color: colors.gray,\r\n    fontWeight: \"600\",\r\n    fontSize: 12,\r\n    marginBottom: 9,\r\n  },\r\n  itemInput: {\r\n    height: 40,\r\n    borderRadius: 4,\r\n    backgroundColor: \"#303030\",\r\n    paddingHorizontal: 11,\r\n    color: colors.colorText,\r\n  },\r\n  textButtonForm: {\r\n    color: colors.colorText,\r\n    fontSize: 16,\r\n    fontWeight: \"400\",\r\n  },\r\n  buttonForm: {\r\n    flex: 1,\r\n    height: 36,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 4,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}